00:00 +0: loading /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart
00:00 +0: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: (setUpAll)
00:00 +0: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Scenario C: Happy Path KK - Both devices complete 2-message handshake

=== SCENARIO C: Happy Path KK ===

1. Establishing initial XX session...
âœ… Initial XX session established

2. Simulating reconnection with KK...
âœ… Handshake completed successfully
âœ… Scenario C: Happy Path KK - PASSED
00:01 +1: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Singleton pattern works correctly
00:01 +1: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Scenario A: Central Lost Data - Peripheral detects mismatch, both downgrade to XX

=== SCENARIO A: Central Lost Data ===

1. Establishing initial XX session...
âœ… Initial session established

2. Simulating central data loss...
âœ… Central data cleared

3. Reconnecting with peripheral having session, central without...

4. Peripheral initiating handshake with KK...
âœ… Scenario A: Central Lost Data - PASSED
00:01 +2: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Singleton pattern works correctly
00:01 +2: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Scenario B: Peripheral Lost Data - Central detects failure, both downgrade to XX

=== SCENARIO B: Peripheral Lost Data ===

1. Establishing initial XX session...
00:01 +2: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Singleton pattern works correctly
âœ… Database reset complete. Tables: 21
00:01 +2: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Scenario B: Peripheral Lost Data - Central detects failure, both downgrade to XX
âœ… Initial session established

2. Simulating peripheral data loss...
00:01 +3: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Scenario B: Peripheral Lost Data - Central detects failure, both downgrade to XX
âœ… Peripheral data cleared

3. Reconnecting with central having session, peripheral without...

4. Central initiating handshake with KK...
âœ… Scenario B: Peripheral Lost Data - PASSED
00:01 +4: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Execute query with priority works
00:01 +4: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Scenario D: 3-Strike Downgrade - Multiple KK failures trigger permanent XX

=== SCENARIO D: 3-Strike Downgrade ===

1. Establishing initial XX session...
00:01 +4: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Execute query with priority works
âœ… Database reset complete. Tables: 21
00:01 +5: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Scenario D: 3-Strike Downgrade - Multiple KK failures trigger permanent XX
âœ… Initial session established

1. Attempt #1 - Simulating failure...
âœ… Attempt 1 completed with XX fallback
00:01 +5: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Execute read query tracks statistics
âœ… Database reset complete. Tables: 21
00:01 +5: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Scenario D: 3-Strike Downgrade - Multiple KK failures trigger permanent XX

2. Attempt #2 - Simulating failure...
00:01 +6: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Scenario D: 3-Strike Downgrade - Multiple KK failures trigger permanent XX
âœ… Attempt 2 completed with XX fallback

3. Attempt #3 - Simulating failure...
00:01 +6: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Execute write query works correctly
âœ… Database reset complete. Tables: 21
00:01 +6: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Scenario D: 3-Strike Downgrade - Multiple KK failures trigger permanent XX
âœ… Attempt 3 completed with XX fallback
00:01 +7: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Scenario D: 3-Strike Downgrade - Multiple KK failures trigger permanent XX

5. Fourth attempt - Should skip KK entirely...
âœ… Scenario D: 3-Strike Downgrade - PASSED
   After 3 failures, system correctly uses XX directly
00:01 +8: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: (setUpAll)
00:01 +8: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Batch operations are executed correctly
00:01 +8: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Backward Compatibility: XX-only devices can still connect

=== BACKWARD COMPATIBILITY TEST ===

1. Creating fresh device pair...

2. Initiating first-time handshake...
00:01 +8: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Batch operations are executed correctly
âœ… Database reset complete. Tables: 21
00:01 +9: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Backward Compatibility: XX-only devices can still connect
âœ… Backward Compatibility: XX works correctly for first contact
00:01 +10: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Save and retrieve basic message
00:01 +10: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Pattern Detection: Correctly identifies XX vs KK by message size

=== PATTERN DETECTION TEST ===

1. Testing XX detection (32 bytes)...
âœ… Pattern detection working correctly
00:02 +11: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Save and retrieve basic message
00:02 +11: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Transaction with retry works
âœ… Database reset complete. Tables: 21
00:02 +11: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Rejection Message Format: Verify all required fields present

=== REJECTION MESSAGE FORMAT TEST ===
00:02 +12: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Save and retrieve basic message
00:02 +12: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Performance statistics are tracked correctly
âœ… Database reset complete. Tables: 21
00:02 +13: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Save and retrieve basic message
00:02 +13: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Rejection Message Format: Verify all required fields present
âœ… Rejection handling verified (handshake completed with fallback)
00:02 +14: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Save and retrieve basic message
00:02 +14: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Session State Reconciliation: Detects desync and downgrades

=== SESSION STATE RECONCILIATION TEST ===
00:02 +14: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Save and retrieve basic message
âœ… Database reset complete. Tables: 21
00:02 +14: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Session State Reconciliation: Detects desync and downgrades
âœ… Session desync created
00:02 +14: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Slow queries are detected and reported
âœ… Database reset complete. Tables: 21
00:02 +15: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Save and retrieve basic message
00:02 +16: /home/abubakar/dev/pak_connect/test/kk_protocol_integration_test.dart: KK Protocol Integration Tests Session State Reconciliation: Detects desync and downgrades
âœ… Session reconciliation successful
00:02 +17: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Query priority system works
âœ… Database reset complete. Tables: 21
00:02 +18: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Save and retrieve EnhancedMessage with all fields
âœ… Database reset complete. Tables: 21
00:02 +19: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Statistics can be cleared
âœ… Database reset complete. Tables: 21
00:02 +20: /home/abubakar/dev/pak_connect/test/database_migration_test.dart: (setUpAll)
00:02 +20: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Save multiple messages and retrieve them sorted by timestamp
âœ… Database reset complete. Tables: 21
00:02 +21: /home/abubakar/dev/pak_connect/test/database_migration_test.dart: (setUpAll)
00:02 +21: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Database optimization (ANALYZE) completes successfully
âœ… Database reset complete. Tables: 21
00:02 +22: /home/abubakar/dev/pak_connect/test/database_migration_test.dart: (setUpAll)
00:02 +22: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Update message
âœ… Database reset complete. Tables: 21
00:02 +22: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Extension methods work correctly
âœ… Database reset complete. Tables: 21
00:02 +23: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: DatabaseQueryOptimizer Tests Extension methods work correctly
00:02 +24: /home/abubakar/dev/pak_connect/test/database_migration_test.dart: Database Migration Tests v1 schema creates correctly
00:02 +24: /home/abubakar/dev/pak_connect/test/database_query_optimizer_test.dart: (setUpAll)
WARNING: Database deleted
00:02 +24: /home/abubakar/dev/pak_connect/test/database_migration_test.dart: Database Migration Tests v1 schema creates correctly
00:02 +24: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Update EnhancedMessage with reactions
âœ… Database reset complete. Tables: 21
00:02 +25: /home/abubakar/dev/pak_connect/test/database_migration_test.dart: Database Migration Tests v1 schema creates correctly
00:02 +26: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Delete message
âœ… Database reset complete. Tables: 21
00:03 +27: /home/abubakar/dev/pak_connect/test/database_migration_test.dart: Database Migration Tests v1 â†’ v2 migration adds chat_id column
00:03 +27: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Delete non-existent message returns false
âœ… Database reset complete. Tables: 21
00:03 +27: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: (setUpAll)
WARNING: âš ï¸ Message non_existent not found
00:03 +28: /home/abubakar/dev/pak_connect/test/database_migration_test.dart: Database Migration Tests v1 â†’ v2 migration adds chat_id column
00:03 +29: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Clear messages for chat
âœ… Database reset complete. Tables: 21
00:03 +30: /home/abubakar/dev/pak_connect/test/database_migration_test.dart: Database Migration Tests v2 â†’ v3 migration removes user_preferences table
00:03 +31: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: (setUpAll)
00:03 +31: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Get all messages
âœ… Database reset complete. Tables: 21
00:03 +32: /home/abubakar/dev/pak_connect/test/database_migration_test.dart: Database Migration Tests v1 â†’ v3 direct migration applies all changes
00:03 +33: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Migrate chat with messages - success
00:03 +33: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Get messages for contact
âœ… Database reset complete. Tables: 21
00:03 +34: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Migrate chat with messages - success
00:03 +34: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Get messages for non-existent chat returns empty list
âœ… Database reset complete. Tables: 21
00:03 +35: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Migrate chat with messages - success
00:03 +36: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Migrate chat with messages - success
00:03 +36: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests EnhancedMessage with minimal fields
âœ… Database reset complete. Tables: 21
00:03 +36: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Migrate chat with messages - success
âœ… Database reset complete. Tables: 21
00:03 +37: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Migrate chat with messages - success
00:04 +37: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Update message preserves created_at timestamp
âœ… Database reset complete. Tables: 21
00:04 +38: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Migrate chat with messages - success
00:04 +39: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Migrate chat with messages - success
00:04 +39: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: (setUpAll)
WARNING: Database deleted
00:04 +40: /home/abubakar/dev/pak_connect/test/database_migration_test.dart: Database Migration v4 â†’ v5 Tests v4â†’v5 migration adds Noise Protocol fields to contacts
00:04 +41: /home/abubakar/dev/pak_connect/test/message_repository_sqlite_test.dart: MessageRepository SQLite Tests Multiple chats isolation
âœ… Database reset complete. Tables: 21
00:04 +42: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Migrate empty chat - no migration needed
00:04 +43: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Migrate empty chat - no migration needed
âœ… Database reset complete. Tables: 21
00:04 +43: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: (setUpAll)
WARNING: Database deleted
00:04 +44: /home/abubakar/dev/pak_connect/test/ali_arshad_abubakar_relay_test.dart: (setUpAll)
00:04 +44: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Migrate chat preserves message order
âœ… Database reset complete. Tables: 21
00:04 +44: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: (setUpAll)
WARNING: Database deleted
00:04 +45: /home/abubakar/dev/pak_connect/test/ali_arshad_abubakar_relay_test.dart: Ali â†’ Arshad â†’ Abubakar Relay Test Ali sends message to Abubakar via Arshad
00:04 +45: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Migrate chat preserves message properties
âœ… Database reset complete. Tables: 21
00:04 +45: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: (setUpAll)
WARNING: Database deleted
00:04 +46: /home/abubakar/dev/pak_connect/test/ali_arshad_abubakar_relay_test.dart: Ali â†’ Arshad â†’ Abubakar Relay Test Ali sends message to Abubakar via Arshad
âœ… Database reset complete. Tables: 21
ðŸ“¡ RELAY ENGINE: Node ID set to ali_key_123... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
ðŸ“¡ RELAY ENGINE: Node ID set to arshad_key_456... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:04 +46: /home/abubakar/dev/pak_connect/test/ali_arshad_abubakar_relay_test.dart: (setUpAll)
WARNING: hasDelivered called before initialization
00:05 +46: /home/abubakar/dev/pak_connect/test/ali_arshad_abubakar_relay_test.dart: Ali â†’ Arshad â†’ Abubakar Relay Test Ali sends message to Abubakar via Arshad
ðŸ“¡ RELAY ENGINE: Node ID set to abubakar_key_789... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:05 +46: /home/abubakar/dev/pak_connect/test/ali_arshad_abubakar_relay_test.dart: (setUpAll)
WARNING: hasDelivered called before initialization
00:05 +46: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Merge with existing persistent chat - no duplicates
âœ… Database reset complete. Tables: 21
00:05 +47: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Merge with existing persistent chat - no duplicates
00:05 +47: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: (setUpAll)
WARNING: Database deleted
00:05 +48: /home/abubakar/dev/pak_connect/test/ali_arshad_abubakar_relay_test.dart: Ali â†’ Arshad â†’ Abubakar Relay Test Relay node does not process messages not intended for them
âœ… Database reset complete. Tables: 21
ðŸ“¡ RELAY ENGINE: Node ID set to ali_key_123... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
ðŸ“¡ RELAY ENGINE: Node ID set to arshad_key_456... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:05 +49: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests needsMigration - detects temp chats with messages
âœ… Database reset complete. Tables: 21
00:05 +49: /home/abubakar/dev/pak_connect/test/ali_arshad_abubakar_relay_test.dart: Ali â†’ Arshad â†’ Abubakar Relay Test Final recipient receives relayed message correctly
âœ… Database reset complete. Tables: 21
ðŸ“¡ RELAY ENGINE: Node ID set to ali_key_123... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:05 +49: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: (setUpAll)
WARNING: Database deleted
00:05 +50: /home/abubakar/dev/pak_connect/test/ali_arshad_abubakar_relay_test.dart: Ali â†’ Arshad â†’ Abubakar Relay Test Final recipient receives relayed message correctly
ðŸ“¡ RELAY ENGINE: Node ID set to abubakar_key_789... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:05 +50: /home/abubakar/dev/pak_connect/test/ali_arshad_abubakar_relay_test.dart: (setUpAll)
WARNING: Failed to persist message: SqfliteFfiException(sqlite_error: 1, , SqliteException(1): while preparing statement, no such table: seen_messages, SQL logic error (code 1)
  Causing statement: INSERT OR REPLACE INTO seen_messages (message_id, seen_type, seen_at) VALUES (?, ?, ?)}) DatabaseException(SqliteException(1): while preparing statement, no such table: seen_messages, SQL logic error (code 1)
  Causing statement: INSERT OR REPLACE INTO seen_messages (message_id, seen_type, seen_at) VALUES (?, ?, ?)) sql 'INSERT OR REPLACE INTO seen_messages (message_id, seen_type, seen_at) VALUES (?, ?, ?)' args [final_delivery_test, delivered, 1762823095848] {details: {database: {path: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823095000.db, id: 6, readOnly: false, singleInstance: true}}}
00:05 +51: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests getChatsNeedingMigration - returns all temp chats with messages
00:05 +51: /home/abubakar/dev/pak_connect/test/ali_arshad_abubakar_relay_test.dart: Ali â†’ Arshad â†’ Abubakar Relay Test Relay statistics are updated correctly
âœ… Database reset complete. Tables: 21
ðŸ“¡ RELAY ENGINE: Node ID set to ali_key_123... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
ðŸ“¡ RELAY ENGINE: Node ID set to arshad_key_456... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:05 +51: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests getChatsNeedingMigration - returns all temp chats with messages
âœ… Database reset complete. Tables: 21
00:05 +52: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests getChatsNeedingMigration - returns all temp chats with messages
00:05 +52: /home/abubakar/dev/pak_connect/test/ali_arshad_abubakar_relay_test.dart: (setUpAll)
WARNING: Database deleted
00:05 +52: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests getChatsNeedingMigration - returns all temp chats with messages
00:05 +52: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: (setUpAll)
WARNING: Database deleted
00:05 +53: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests OfflineMessageQueue Hash Calculation Tests should calculate consistent hash for empty queue
00:05 +53: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Batch migration - migrate multiple chats
âœ… Database reset complete. Tables: 21
00:05 +53: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: (setUpAll)
WARNING: Database deleted
00:05 +54: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests OfflineMessageQueue Hash Calculation Tests should calculate consistent hash for empty queue
âœ… Database reset complete. Tables: 21
00:05 +54: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:05 +55: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Migration updates last_message_time correctly
âœ… Database reset complete. Tables: 21
00:06 +55: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: (setUpAll)
WARNING: Database deleted
00:06 +56: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
00:06 +56: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests OfflineMessageQueue Hash Calculation Tests should calculate different hashes for different queue states
âœ… Database reset complete. Tables: 21
00:06 +56: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:06 +57: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Migration with special characters in content
âœ… Database reset complete. Tables: 21
00:06 +57: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:06 +57: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: (setUpAll)
WARNING: Database deleted
00:06 +58: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore initializes correctly
00:06 +58: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests OfflineMessageQueue Hash Calculation Tests should handle message ordering consistently
âœ… Database reset complete. Tables: 21
00:06 +58: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:06 +59: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore initializes correctly
00:06 +59: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: ChatMigrationService Tests Migration cleans up chat entry from chats table
âœ… Database reset complete. Tables: 21
00:06 +59: /home/abubakar/dev/pak_connect/test/chat_migration_test.dart: (setUpAll)
WARNING: Database deleted
00:06 +60: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore initializes correctly
00:06 +60: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:06 +61: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests OfflineMessageQueue Hash Calculation Tests should exclude delivered messages from hash
00:06 +61: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:06 +61: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests OfflineMessageQueue Hash Calculation Tests should exclude delivered messages from hash
âœ… Database reset complete. Tables: 21
00:06 +61: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:06 +62: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore marks message as delivered
00:06 +62: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:06 +63: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests OfflineMessageQueue Hash Calculation Tests should handle deleted message tracking
00:06 +63: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:06 +63: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests OfflineMessageQueue Hash Calculation Tests should handle deleted message tracking
âœ… Database reset complete. Tables: 21
00:06 +63: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:06 +64: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore marks message as read
00:06 +64: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:06 +65: /home/abubakar/dev/pak_connect/test/relay_phase1_test.dart: (setUpAll)
00:06 +65: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:06 +66: /home/abubakar/dev/pak_connect/test/relay_phase1_test.dart: (setUpAll)
00:06 +66: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:07 +66: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests OfflineMessageQueue Hash Calculation Tests should cache hash calculations
âœ… Database reset complete. Tables: 21
00:07 +66: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:07 +67: /home/abubakar/dev/pak_connect/test/relay_phase1_test.dart: (setUpAll)
00:07 +67: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore persists across restarts
00:07 +68: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore persists across restarts
00:07 +69: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore persists across restarts
00:07 +70: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore persists across restarts
00:07 +71: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore persists across restarts
00:07 +72: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore persists across restarts
00:07 +73: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore persists across restarts
00:07 +74: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore persists across restarts
00:07 +74: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:07 +75: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncMessage Tests should create sync request message
00:07 +76: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncMessage Tests should create sync request message
00:07 +76: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:07 +77: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncMessage Tests should create sync request message
00:07 +78: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncMessage Tests should create sync request message
00:07 +79: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncMessage Tests should create sync request message
00:07 +80: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncMessage Tests should create sync request message
00:07 +81: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncMessage Tests should create sync request message
âœ… Database reset complete. Tables: 21
00:07 +82: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncMessage Tests should create sync request message
00:07 +83: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncMessage Tests should create sync request message
00:07 +84: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncMessage Tests should create sync request message
00:07 +84: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:07 +85: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:07 +86: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:07 +87: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:07 +88: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:07 +89: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:07 +90: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:07 +91: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:07 +91: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncMessage Tests should create sync response message
âœ… Database reset complete. Tables: 21
00:07 +91: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:07 +92: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:07 +92: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncMessage Tests should serialize and deserialize correctly
âœ… Database reset complete. Tables: 21
00:07 +92: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:07 +93: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:07 +93: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncMessage Tests should detect queue synchronization status
âœ… Database reset complete. Tables: 21
00:07 +93: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:07 +94: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:07 +94: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncMessage Tests should identify missing messages
âœ… Database reset complete. Tables: 21
00:07 +94: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:07 +95: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:08 +95: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncManager Tests should initialize correctly
âœ… Database reset complete. Tables: 21
00:08 +95: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:08 +96: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:08 +96: /home/abubakar/dev/pak_connect/test/debug_handshake_test.dart: DEBUG: Trace handshake coordinator flow step by step
âœ… Database reset complete. Tables: 21

========== TEST START ==========

Creating Alice coordinator...
Creating Bob coordinator...

--- Starting handshake ---

Alice phase before start: ConnectionPhase.bleConnected
Bob phase before start: ConnectionPhase.bleConnected
>>> ALICE SENDING: ProtocolMessageType.connectionReady
<<< BOB SENDING: ProtocolMessageType.connectionReady
>>> ALICE SENDING: ProtocolMessageType.identity
<<< BOB SENDING: ProtocolMessageType.identity
>>> ALICE SENDING: ProtocolMessageType.noiseHandshake1
00:08 +96: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncManager Tests should handle sync requests
âœ… Database reset complete. Tables: 21
00:08 +96: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:08 +97: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:08 +97: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncManager Tests should trigger onSendMessages with excess payloads
âœ… Database reset complete. Tables: 21
00:08 +97: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:08 +98: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:08 +98: /home/abubakar/dev/pak_connect/test/debug_handshake_test.dart: DEBUG: Trace handshake coordinator flow step by step
<<< BOB SENDING: ProtocolMessageType.noiseHandshake2
00:08 +98: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncManager Tests should rate limit sync requests
âœ… Database reset complete. Tables: 21
00:08 +98: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Sync transport not configured - cannot sync with test_node_2_public_key_12345678901234567890
WARNING: Sync blocked with test_node_2_public_key_12345678901234567890: Sync already in progress
WARNING: Sync blocked with test_node_2_public_key_12345678901234567890: Sync already in progress
WARNING: Sync blocked with test_node_2_public_key_12345678901234567890: Sync already in progress
WARNING: Sync blocked with test_node_2_public_key_12345678901234567890: Sync already in progress
00:08 +98: /home/abubakar/dev/pak_connect/test/debug_handshake_test.dart: DEBUG: Trace handshake coordinator flow step by step
>>> ALICE SENDING: ProtocolMessageType.noiseHandshake3
00:08 +98: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:08 +99: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:08 +99: /home/abubakar/dev/pak_connect/test/debug_handshake_test.dart: DEBUG: Trace handshake coordinator flow step by step
>>> ALICE SENDING: ProtocolMessageType.contactStatus
<<< BOB SENDING: ProtocolMessageType.contactStatus
âœ… ALICE HANDSHAKE COMPLETE
âœ… BOB HANDSHAKE COMPLETE

--- After startHandshake() ---

Alice phase: ConnectionPhase.complete
Bob phase: ConnectionPhase.complete
Alice completed: true
Bob completed: true

========== TEST END ==========

00:08 +99: /home/abubakar/dev/pak_connect/test/debug_handshake_test.dart: (setUpAll)
WARNING: Database deleted
00:08 +100: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:08 +100: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncManager Tests should track sync statistics
âœ… Database reset complete. Tables: 21
00:08 +100: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Sync transport not configured - cannot sync with test_node_2_public_key_12345678901234567890
WARNING: Database deleted
00:08 +101: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for delivered messages
00:09 +101: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Initialize queue and load from empty database
âœ… Database reset complete. Tables: 21
00:09 +101: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:09 +102: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Initialize queue and load from empty database
00:09 +102: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:09 +102: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests QueueSyncManager Tests should handle sync responses
âœ… Database reset complete. Tables: 21
00:09 +102: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:09 +103: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Initialize queue and load from empty database
âœ… Database reset complete. Tables: 21
00:09 +104: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +104: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests BLE Integration Tests should handle protocol message with queue sync
âœ… Database reset complete. Tables: 21
00:09 +104: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Queue a message and retrieve it
âœ… Database reset complete. Tables: 21
00:09 +104: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests BLE Integration Tests should handle protocol message with queue sync
ðŸ“¥ RECEIVE STEP 1: Received 295 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 50, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 113, 117, 101, 117, 101, 72, 97, 115, 104, 34, 58, 34, 98, 97, 52]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":23,"version":1,"payload":{"queueHash":"ba4
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
00:09 +105: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +105: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:09 +106: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +107: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +108: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +109: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +110: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +111: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +112: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +112: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Queue a message and retrieve it
âœ… Database reset complete. Tables: 21
00:09 +113: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +113: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests BLE Integration Tests should create and send queue sync protocol message
âœ… Database reset complete. Tables: 21
00:09 +113: /home/abubakar/dev/pak_connect/test/relay_phase2_test.dart: Phase 2: Relay Engine Message Type Filtering Should reject non-relay-eligible message types
ðŸ“¡ RELAY ENGINE: Node ID set to node-current... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:09 +114: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +114: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:09 +115: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +115: /home/abubakar/dev/pak_connect/test/relay_phase2_test.dart: Phase 2: Relay Engine Message Type Filtering Should allow relay-eligible message types
ðŸ“¡ RELAY ENGINE: Node ID set to node-current... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:09 +116: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +116: /home/abubakar/dev/pak_connect/test/relay_phase2_test.dart: Phase 2: Relay Engine Message Type Filtering Should prevent creating relay for non-eligible message type
ðŸ“¡ RELAY ENGINE: Node ID set to node-current... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:09 +117: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +117: /home/abubakar/dev/pak_connect/test/relay_phase2_test.dart: Phase 2: Relay Engine Message Type Filtering Should allow creating relay for eligible message type
ðŸ“¡ RELAY ENGINE: Node ID set to node-current... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:09 +118: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +118: /home/abubakar/dev/pak_connect/test/relay_phase2_test.dart: Phase 2: Relay Engine Message Type Filtering Should handle null message type gracefully
ðŸ“¡ RELAY ENGINE: Node ID set to node-current... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:09 +119: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +119: /home/abubakar/dev/pak_connect/test/relay_phase2_test.dart: Phase 2: Integration Tests Should preserve message type through multi-hop relay chain
ðŸ“¡ RELAY ENGINE: Node ID set to node-A... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:09 +120: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +121: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +121: /home/abubakar/dev/pak_connect/test/relay_phase2_test.dart: Phase 2: Integration Tests Non-eligible types should be rejected at relay engine
ðŸ“¡ RELAY ENGINE: Node ID set to node-test... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:09 +122: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +122: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Queue persists across queue instances
âœ… Database reset complete. Tables: 21
00:09 +122: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Relay Message Tests should create relay metadata correctly
âœ… Database reset complete. Tables: 21
00:09 +122: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:09 +123: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:09 +123: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Queue persists across queue instances
âœ… Database reset complete. Tables: 21
00:09 +124: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:10 +124: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Queue multiple messages with different priorities
âœ… Database reset complete. Tables: 21
00:10 +124: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Relay Message Tests should prevent routing loops
âœ… Database reset complete. Tables: 21
00:10 +124: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:10 +125: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:10 +125: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Queue multiple messages with different priorities
âœ… Database reset complete. Tables: 21
00:10 +126: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:10 +126: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Relay Message Tests should respect TTL limits
âœ… Database reset complete. Tables: 21
00:10 +126: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:10 +127: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:10 +127: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Remove message from queue
âœ… Database reset complete. Tables: 21
00:10 +127: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Relay Message Tests should serialize and deserialize relay metadata
âœ… Database reset complete. Tables: 21
00:10 +127: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Remove message from queue
âœ… Database reset complete. Tables: 21
00:10 +128: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:10 +128: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:10 +129: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:10 +129: /home/abubakar/dev/pak_connect/test/database_monitor_test.dart: DatabaseMonitorService Tests Captures database snapshot successfully
âœ… Database reset complete. Tables: 21
00:10 +129: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Mark message as delivered
âœ… Database reset complete. Tables: 21
00:10 +129: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should handle concurrent queue modifications
âœ… Database reset complete. Tables: 21
00:10 +130: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:10 +130: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Mark message as delivered
âœ… Database reset complete. Tables: 21
00:10 +131: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:10 +131: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:10 +132: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:10 +132: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Handle message with attachments
âœ… Database reset complete. Tables: 21
00:10 +132: /home/abubakar/dev/pak_connect/test/database_monitor_test.dart: DatabaseMonitorService Tests Snapshot includes all core tables
âœ… Database reset complete. Tables: 21
00:10 +132: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should handle queue persistence
âœ… Database reset complete. Tables: 21
00:10 +132: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:10 +133: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:11 +134: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:11 +134: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Handle message with attachments
âœ… Database reset complete. Tables: 21
00:11 +135: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:11 +135: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should handle invalid sync messages gracefully
âœ… Database reset complete. Tables: 21
00:11 +135: /home/abubakar/dev/pak_connect/test/database_monitor_test.dart: DatabaseMonitorService Tests Table metrics are accurate
âœ… Database reset complete. Tables: 21
00:11 +135: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Handle message with reply reference
âœ… Database reset complete. Tables: 21
00:11 +135: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:11 +136: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:11 +136: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:11 +137: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:11 +137: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Handle message with reply reference
âœ… Database reset complete. Tables: 21
00:11 +138: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:11 +138: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:11 +139: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:11 +139: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:11 +140: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore enforces LRU limit for read messages
00:11 +140: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:11 +140: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
âœ… Database reset complete. Tables: 21
00:11 +140: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:11 +141: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:11 +141: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:11 +141: /home/abubakar/dev/pak_connect/test/database_monitor_test.dart: DatabaseMonitorService Tests Snapshot JSON serialization works
âœ… Database reset complete. Tables: 21
00:11 +141: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Clear entire queue
âœ… Database reset complete. Tables: 21
00:11 +142: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:11 +142: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Clear entire queue
âœ… Database reset complete. Tables: 21
00:11 +143: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:11 +143: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: Phase 3: Relay Probability Calculation Small network (â‰¤3 nodes) has 100% relay probability
ðŸ“¡ RELAY ENGINE: Node ID set to test_node... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:11 +143: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:11 +144: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:11 +144: /home/abubakar/dev/pak_connect/test/database_monitor_test.dart: DatabaseMonitorService Tests Alert generation works for various conditions
âœ… Database reset complete. Tables: 21
00:11 +144: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:11 +144: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Track deleted messages
âœ… Database reset complete. Tables: 21
00:11 +145: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:11 +145: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: Phase 3: Relay Probability Calculation Medium network (â‰¤10 nodes) has 100% relay probability
ðŸ“¡ RELAY ENGINE: Node ID set to test_node... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:11 +145: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:11 +146: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:11 +146: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:11 +146: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Track deleted messages
âœ… Database reset complete. Tables: 21
00:11 +147: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:11 +147: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: Phase 3: Relay Probability Calculation Growing network (â‰¤30 nodes) has 85% relay probability
ðŸ“¡ RELAY ENGINE: Node ID set to test_node... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:11 +147: /home/abubakar/dev/pak_connect/test/database_monitor_test.dart: DatabaseMonitorService Tests Dashboard data includes all sections
âœ… Database reset complete. Tables: 21
00:11 +147: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:11 +148: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:11 +148: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:11 +148: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Deleted messages persist across instances
âœ… Database reset complete. Tables: 21
00:12 +148: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: Phase 3: Relay Probability Calculation Large network (â‰¤50 nodes) has 70% relay probability
ðŸ“¡ RELAY ENGINE: Node ID set to test_node... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:12 +148: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +149: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +149: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +150: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +150: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Deleted messages persist across instances
âœ… Database reset complete. Tables: 21
00:12 +151: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +151: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: Phase 3: Relay Probability Calculation Very large network (â‰¤100 nodes) has 55% relay probability
ðŸ“¡ RELAY ENGINE: Node ID set to test_node... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:12 +151: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +152: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +152: /home/abubakar/dev/pak_connect/test/database_monitor_test.dart: DatabaseMonitorService Tests Table metrics calculate efficiency correctly
âœ… Database reset complete. Tables: 21
00:12 +153: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +153: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +153: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +153: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Get messages by status
âœ… Database reset complete. Tables: 21
00:12 +153: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: Phase 3: Relay Probability Calculation Massive network (>100 nodes) has 40% relay probability
ðŸ“¡ RELAY ENGINE: Node ID set to test_node... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:12 +153: /home/abubakar/dev/pak_connect/test/database_monitor_test.dart: DatabaseMonitorService Tests Alert severity levels are respected
âœ… Database reset complete. Tables: 21
00:12 +154: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +154: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +155: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +155: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +155: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +155: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:12 +155: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:12 +155: /home/abubakar/dev/pak_connect/test/database_monitor_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +155: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +155: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Get messages by status
âœ… Database reset complete. Tables: 21
00:12 +156: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +156: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: Phase 3: Probabilistic Relay Behavior Small network (3 nodes) relays all messages (100%)
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_relay... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:12 +156: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Queue statistics are accurate
âœ… Database reset complete. Tables: 21
00:12 +156: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:12 +156: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:12 +156: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: e46082a1fb22bbe6...
00:12 +156: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: e46082a1fb22bbe6...
ðŸ”§ DIAGNOSTIC: Node ID length: 47
ðŸ”§ DIAGNOSTIC: Node ID: "ali_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: ali_public_key_1...
00:12 +156: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +156: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:12 +157: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +157: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +157: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:12 +157: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:12 +157: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:12 +157: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +158: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +158: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +158: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Queue statistics are accurate
âœ… Database reset complete. Tables: 21
00:12 +159: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +159: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:12 +159: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:12 +159: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 382bf98662042765...
00:12 +159: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 382bf98662042765...
00:12 +159: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should process message when intended for current user
ðŸ”§ DIAGNOSTIC: Node ID length: 50
ðŸ”§ DIAGNOSTIC: Node ID: "arshad_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: arshad_public_ke...
ðŸ“¥ RECEIVE STEP 1: Received 252 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 109, 115, 103]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"msg
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
00:12 +159: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +160: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +160: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +160: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should process message when intended for current user
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 6
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 47
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 50
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 50
ðŸ”§ ROUTING DEBUG: Message ID: msg123...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Intended recipient: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Current node ID: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Encryption method: none
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:12 +160: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:12 +160: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:12 +160: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Public key read in 1ms
00:12 +160: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [UserPreferences] âœ… Public key read in 1ms
00:12 +160: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 382bf98662042765...
00:12 +160: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 382bf98662042765...
00:12 +160: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:12 +160: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:12 +160: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should process message when intended for current user
ðŸ”§ ROUTING DEBUG: âœ… MESSAGE FOR US - Matched one of our identities
ðŸ”§ ROUTING DEBUG: ===== END ROUTING ANALYSIS =====
00:12 +160: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +160: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:12 +161: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +161: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: Phase 3: Probabilistic Relay Behavior Large network (50 nodes) skips some messages probabilistically
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_relay... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:12 +161: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Relay message with metadata
âœ… Database reset complete. Tables: 21
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 863f122d71ebef1e...
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 863f122d71ebef1e...
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should block message when NOT intended for current user
ðŸ”§ DIAGNOSTIC: Node ID length: 52
ðŸ”§ DIAGNOSTIC: Node ID: "abubakar_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: abubakar_public_...
ðŸ“¥ RECEIVE STEP 1: Received 252 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 109, 115, 103]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"msg
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 6
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 47
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 50
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 52
ðŸ”§ ROUTING DEBUG: Message ID: msg123...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Intended recipient: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Current node ID: abubakar_public_...
ðŸ”§ ROUTING DEBUG: Encryption method: none
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Public key read in 1ms
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [UserPreferences] âœ… Public key read in 1ms
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 863f122d71ebef1e...
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 863f122d71ebef1e...
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:12 +161: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should block message when NOT intended for current user
ðŸ”§ ROUTING DEBUG: ðŸš« DISCARDING - Message not addressed to any of our identities
ðŸ”§ ROUTING DEBUG: - Intended recipient: arshad_public_ke...
00:12 +161: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +162: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +162: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +162: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:12 +163: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +163: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +163: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +163: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:12 +163: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:12 +163: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:12 +163: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:12 +163: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:12 +163: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: bb890ae9c9eeb26f...
00:12 +163: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Relay message with metadata
âœ… Database reset complete. Tables: 21
00:12 +164: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +164: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: bb890ae9c9eeb26f...
00:12 +164: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should block own messages from appearing as incoming
ðŸ”§ DIAGNOSTIC: Node ID length: 47
ðŸ”§ DIAGNOSTIC: Node ID: "ali_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: ali_public_key_1...
ðŸ“¥ RECEIVE STEP 1: Received 181 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 109, 115, 103]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"msg
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 6
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 47
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 0
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 47
ðŸ”§ ROUTING DEBUG: Message ID: msg123...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Intended recipient: NOT SPECIFIED...
ðŸ”§ ROUTING DEBUG: Current node ID: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Encryption method: none
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
ðŸ”§ ROUTING DEBUG: ðŸš« BLOCKING OWN MESSAGE - Sender matches current user
00:12 +164: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +164: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:12 +165: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:12 +165: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:12 +165: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:12 +165: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:12 +165: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +165: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:13 +165: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:13 +165: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: ab247016aeabe29d...
00:13 +165: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: ab247016aeabe29d...
00:13 +165: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +165: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:13 +166: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 22a9f9618f62198f...
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 22a9f9618f62198f...
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 2. Message Encryption Tests should process encrypted message when intended for current user
ðŸ”§ DIAGNOSTIC: Node ID length: 50
ðŸ”§ DIAGNOSTIC: Node ID: "arshad_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: arshad_public_ke...
ðŸ“¥ RECEIVE STEP 1: Received 256 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 109, 115, 103]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"msg
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 6
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 47
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 50
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 50
ðŸ”§ ROUTING DEBUG: Message ID: msg123...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
00:13 +166: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Calculate queue hash
âœ… Database reset complete. Tables: 21
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 2. Message Encryption Tests should process encrypted message when intended for current user
ðŸ”§ ROUTING DEBUG: Intended recipient: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Current node ID: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Encryption method: ecdh
ðŸ”§ ROUTING DEBUG: Message encrypted flag: true
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Public key read in 0ms
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [UserPreferences] âœ… Public key read in 0ms
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 22a9f9618f62198f...
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 22a9f9618f62198f...
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 2. Message Encryption Tests should process encrypted message when intended for current user
ðŸ”§ ROUTING DEBUG: âœ… MESSAGE FOR US - Matched one of our identities
ðŸ”§ ROUTING DEBUG: ===== END ROUTING ANALYSIS =====
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ” Generated and stored new database encryption key
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [DatabaseEncryption] ðŸ” Generated and stored new database encryption key
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823102691.db (factory: _SqfliteDatabaseFactoryImpl)
00:13 +166: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [DatabaseHelper] Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823102691.db (factory: _SqfliteDatabaseFactoryImpl)
00:13 +166: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Calculate queue hash
âœ… Database reset complete. Tables: 21
00:13 +167: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:13 +167: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Get message by ID
âœ… Database reset complete. Tables: 21
00:13 +167: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:13 +167: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: WAL mode set, journal_mode: wal
00:13 +167: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [DatabaseHelper] WAL mode set, journal_mode: wal
00:13 +167: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: Database configured with foreign keys and optimizations
00:13 +167: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [DatabaseHelper] Database configured with foreign keys and optimizations
00:13 +167: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: Creating database schema v9...
00:13 +167: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [DatabaseHelper] Creating database schema v9...
00:13 +167: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Get message by ID
âœ… Database reset complete. Tables: 21
00:13 +168: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
INFO: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:13 +168: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Database schema created successfully with 17 core tables + FTS5
00:13 +168: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [DatabaseHelper] âœ… Database schema created successfully with 17 core tables + FTS5
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing mesh networking service...
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Initializing mesh networking service...
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Node ID: test_node_a_1762..., Demo mode: true
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Node ID: test_node_a_1762..., Demo mode: true
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”— Using AppCore's shared message queue for mesh networking
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”— Using AppCore's shared message queue for mesh networking
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: AppCore not initialized, initializing now...
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [MeshNetworkingService] AppCore not initialized, initializing now...
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸš€ Starting application core initialization...
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸš€ Starting application core initialization...
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Status emitted: AppStatus.initializing
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸ“¡ Status emitted: AppStatus.initializing
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ—’ï¸ Setting up logging...
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸ—’ï¸ Setting up logging...
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Logging setup complete
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âœ… Logging setup complete
INFO: 2025-11-11 06:05:04.077509: âœ… Logging setup complete
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ—„ï¸ Initializing repositories...
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸ—„ï¸ Initializing repositories...
INFO: 2025-11-11 06:05:04.082158: ðŸ—„ï¸ Initializing repositories...
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing database...
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] Initializing database...
INFO: 2025-11-11 06:05:04.084258: Initializing database...
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Generated 256-bit encryption key
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [DatabaseEncryption] Generated 256-bit encryption key
FINE: 2025-11-11 06:05:04.094731: Generated 256-bit encryption key
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ” Generated and stored new database encryption key
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseEncryption] ðŸ” Generated and stored new database encryption key
INFO: 2025-11-11 06:05:04.099652: ðŸ” Generated and stored new database encryption key
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823103866.db (factory: _SqfliteDatabaseFactoryImpl)
00:13 +168: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823103866.db (factory: _SqfliteDatabaseFactoryImpl)
INFO: 2025-11-11 06:05:04.102033: Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823103866.db (factory: _SqfliteDatabaseFactoryImpl)
00:13 +168: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”’ LEVEL: ali_public_key_12345678901234567890123456789012 â†’ LOW (no contact)
00:13 +168: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [SecurityManager] ðŸ”’ LEVEL: ali_public_key_12345678901234567890123456789012 â†’ LOW (no contact)
00:13 +168: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: ðŸ”’ DECRYPT: global âŒ â†’ Bad state: Crypto not initialized. Call initialize() first.
00:13 +168: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [SecurityManager] ðŸ”’ DECRYPT: global âŒ â†’ Bad state: Crypto not initialized. Call initialize() first.
00:13 +168: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
SEVERE: ðŸ”’ DECRYPT: All methods failed - requesting security resync
00:13 +168: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âŒ [SecurityManager] ðŸ”’ DECRYPT: All methods failed - requesting security resync
00:13 +168: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
SEVERE: ðŸ”’ MESSAGE: Decryption failed: Exception: All decryption methods failed - security resync requested
00:13 +168: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âŒ [BLEMessageHandler] ðŸ”’ MESSAGE: Decryption failed: Exception: All decryption methods failed - security resync requested
00:13 +168: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: Database closed
00:13 +168: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [DatabaseHelper] Database closed
00:13 +168: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +168: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:13 +169: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:13 +169: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Handle online/offline status changes
âœ… Database reset complete. Tables: 21
00:13 +169: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +169: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:13 +169: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +169: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +169: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:13 +169: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:13 +169: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 088c40732be11a8e...
00:13 +169: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 088c40732be11a8e...
00:13 +169: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +169: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:13 +170: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:13 +170: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +171: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:13 +171: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +171: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:13 +171: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +171: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +171: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +171: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:13 +171: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:13 +171: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 8f394c1c5de04c2e...
00:13 +171: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 8f394c1c5de04c2e...
00:13 +171: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 3. Relay Messaging Tests (Ali â†’ Abubakar via Arshad) should process relay message when current node is final recipient
ðŸ”§ DIAGNOSTIC: Node ID length: 52
ðŸ”§ DIAGNOSTIC: Node ID: "abubakar_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: abubakar_public_...
ðŸ“¥ RECEIVE STEP 1: Received 537 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 50, 50, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 111, 114, 105, 103, 105, 110, 97, 108, 77, 101, 115, 115, 97, 103, 101]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":22,"version":1,"payload":{"originalMessage
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
00:13 +171: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Unexpected direct protocol message type: ProtocolMessageType.meshRelay
00:13 +171: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [BLEMessageHandler] Unexpected direct protocol message type: ProtocolMessageType.meshRelay
00:13 +171: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +171: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:13 +172: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:13 +172: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +172: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:13 +172: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +172: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +172: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: WAL mode set, journal_mode: wal
00:13 +172: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] WAL mode set, journal_mode: wal
INFO: 2025-11-11 06:05:04.282374: WAL mode set, journal_mode: wal
00:13 +172: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Database configured with foreign keys and optimizations
00:13 +172: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Database configured with foreign keys and optimizations
INFO: 2025-11-11 06:05:04.286322: Database configured with foreign keys and optimizations
00:13 +172: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:13 +172: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:13 +172: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 54c5bdca3e1ddf10...
00:13 +172: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 54c5bdca3e1ddf10...
00:13 +172: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +172: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:13 +173: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:13 +173: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Handle online/offline status changes
âœ… Database reset complete. Tables: 21
00:13 +174: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:13 +174: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Creating database schema v9...
00:13 +174: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Creating database schema v9...
INFO: 2025-11-11 06:05:04.304330: Creating database schema v9...
00:13 +174: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: Phase 3: Probabilistic Relay Behavior Massive network (150 nodes) skips majority of messages
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_relay... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:13 +174: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +174: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:13 +174: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +174: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +174: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:13 +174: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:13 +174: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 50f2e20a5b2f9ed8...
00:13 +174: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 50f2e20a5b2f9ed8...
00:13 +174: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +174: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:13 +175: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:13 +175: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +175: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:13 +175: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +175: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +175: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Database schema created successfully with 17 core tables + FTS5
00:13 +175: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] âœ… Database schema created successfully with 17 core tables + FTS5
INFO: 2025-11-11 06:05:04.374110: âœ… Database schema created successfully with 17 core tables + FTS5
00:13 +175: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:13 +175: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:13 +175: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: d2f31a0eb0be0a6e...
00:13 +175: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: d2f31a0eb0be0a6e...
00:13 +175: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 5. Message Loop and Incorrect Delivery Prevention should prevent message loops in direct messages
ðŸ”§ DIAGNOSTIC: Node ID length: 47
ðŸ”§ DIAGNOSTIC: Node ID: "ali_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: ali_public_key_1...
ðŸ“¥ RECEIVE STEP 1: Received 153 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 109, 115, 103]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"msg
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 6
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 47
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 0
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 47
ðŸ”§ ROUTING DEBUG: Message ID: msg123...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Intended recipient: NOT SPECIFIED...
00:13 +175: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Database initialized successfully
00:13 +175: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] Database initialized successfully
INFO: 2025-11-11 06:05:04.400799: Database initialized successfully
00:13 +175: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 5. Message Loop and Incorrect Delivery Prevention should prevent message loops in direct messages
ðŸ”§ ROUTING DEBUG: Current node ID: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Encryption method: null
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:13 +175: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”‘ Checking for existing key pair...
00:13 +175: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [UserPreferences] ðŸ”‘ Checking for existing key pair...
00:13 +175: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 5. Message Loop and Incorrect Delivery Prevention should prevent message loops in direct messages
ðŸ”§ ROUTING DEBUG: ðŸš« BLOCKING OWN MESSAGE - Sender matches current user
00:13 +175: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
INFO: 2025-11-11 06:05:04.404945: ðŸ”‘ Checking for existing key pair...
00:13 +175: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:13 +175: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
INFO: 2025-11-11 06:05:04.408191: ðŸ”‘ Reading public key from secure storage...
00:13 +175: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Public key read in 1ms
00:13 +175: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [UserPreferences] âœ… Public key read in 1ms
INFO: 2025-11-11 06:05:04.411554: âœ… Public key read in 1ms
00:13 +175: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Public key check complete in 6ms
00:13 +175: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [UserPreferences] âœ… Public key check complete in 6ms
INFO: 2025-11-11 06:05:04.414235: âœ… Public key check complete in 6ms
00:13 +175: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +175: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:13 +176: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:13 +176: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading private key from secure storage...
00:13 +176: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading private key from secure storage...
INFO: 2025-11-11 06:05:04.416355: ðŸ”‘ Reading private key from secure storage...
00:13 +176: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Private key read in 0ms
00:13 +176: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [UserPreferences] âœ… Private key read in 0ms
INFO: 2025-11-11 06:05:04.420702: âœ… Private key read in 0ms
00:13 +176: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Private key check complete in 8ms
00:13 +176: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [UserPreferences] âœ… Private key check complete in 8ms
INFO: 2025-11-11 06:05:04.424180: âœ… Private key check complete in 8ms
00:13 +176: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”‘ No existing key pair found, generating new one...
00:13 +176: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [UserPreferences] ðŸ”‘ No existing key pair found, generating new one...
INFO: 2025-11-11 06:05:04.426127: ðŸ”‘ No existing key pair found, generating new one...
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +176: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”‘ Generating new ECDH key pair...
00:13 +176: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [UserPreferences] ðŸ”‘ Generating new ECDH key pair...
INFO: 2025-11-11 06:05:04.431469: ðŸ”‘ Generating new ECDH key pair...
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 73ee773f59c8564a...
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 73ee773f59c8564a...
00:13 +176: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Retry failed messages
âœ… Database reset complete. Tables: 21
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 5. Message Loop and Incorrect Delivery Prevention should prevent incorrect delivery to wrong recipient
ðŸ”§ DIAGNOSTIC: Node ID length: 52
ðŸ”§ DIAGNOSTIC: Node ID: "abubakar_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: abubakar_public_...
ðŸ“¥ RECEIVE STEP 1: Received 218 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 109, 115, 103]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"msg
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 6
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 47
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 50
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 52
ðŸ”§ ROUTING DEBUG: Message ID: msg123...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Intended recipient: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Current node ID: abubakar_public_...
ðŸ”§ ROUTING DEBUG: Encryption method: null
00:13 +176: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: (setUpAll)
WARNING: Delivery failed for 2.12.323bc8e7bbd...: Test failure (attempt 1/5)
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 5. Message Loop and Incorrect Delivery Prevention should prevent incorrect delivery to wrong recipient
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Public key read in 1ms
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [UserPreferences] âœ… Public key read in 1ms
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 73ee773f59c8564a...
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 73ee773f59c8564a...
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 5. Message Loop and Incorrect Delivery Prevention should prevent incorrect delivery to wrong recipient
ðŸ”§ ROUTING DEBUG: ðŸš« DISCARDING - Message not addressed to any of our identities
ðŸ”§ ROUTING DEBUG: - Intended recipient: arshad_public_ke...
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +176: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:13 +177: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:13 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:13 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:13 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:13 +177: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”‘ Generating key pair...
00:13 +177: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [UserPreferences] ðŸ”‘ Generating key pair...
INFO: 2025-11-11 06:05:04.516449: ðŸ”‘ Generating key pair...
00:13 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:13 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:13 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 4434c96258cb94c6...
00:13 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 4434c96258cb94c6...
00:13 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 5. Message Loop and Incorrect Delivery Prevention should allow correct delivery to intended recipient
ðŸ”§ DIAGNOSTIC: Node ID length: 50
ðŸ”§ DIAGNOSTIC: Node ID: "arshad_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: arshad_public_ke...
ðŸ“¥ RECEIVE STEP 1: Received 214 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 109, 115, 103]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"msg
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 6
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 47
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 50
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 50
ðŸ”§ ROUTING DEBUG: Message ID: msg123...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Intended recipient: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Current node ID: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Encryption method: null
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:14 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:14 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:14 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Public key read in 0ms
00:14 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [UserPreferences] âœ… Public key read in 0ms
00:14 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 4434c96258cb94c6...
00:14 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 4434c96258cb94c6...
00:14 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:14 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:14 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 5. Message Loop and Incorrect Delivery Prevention should allow correct delivery to intended recipient
ðŸ”§ ROUTING DEBUG: âœ… MESSAGE FOR US - Matched one of our identities
ðŸ”§ ROUTING DEBUG: ===== END ROUTING ANALYSIS =====
00:14 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:14 +177: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:14 +178: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 98dc3e60706c368a...
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 98dc3e60706c368a...
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 6. Integration Tests should handle complete direct messaging flow
ðŸ”§ DIAGNOSTIC: Node ID length: 47
ðŸ”§ DIAGNOSTIC: Node ID: "ali_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: ali_public_key_1...
ðŸ”§ DIAGNOSTIC: Node ID length: 50
ðŸ”§ DIAGNOSTIC: Node ID: "arshad_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: arshad_public_ke...
ðŸ“¥ RECEIVE STEP 1: Received 279 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 105, 110, 116]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"int
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 18
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 47
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 50
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 50
ðŸ”§ ROUTING DEBUG: Message ID: integration_test...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Intended recipient: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Current node ID: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Encryption method: none
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Public key read in 0ms
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [UserPreferences] âœ… Public key read in 0ms
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 98dc3e60706c368a...
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 98dc3e60706c368a...
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 6. Integration Tests should handle complete direct messaging flow
ðŸ”§ ROUTING DEBUG: âœ… MESSAGE FOR US - Matched one of our identities
ðŸ”§ ROUTING DEBUG: ===== END ROUTING ANALYSIS =====
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:14 +178: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:14 +179: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:14 +179: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:14 +179: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:14 +179: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:14 +179: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:14 +179: /home/abubakar/dev/pak_connect/test/offline_message_queue_sqlite_test.dart: OfflineMessageQueue SQLite Tests Retry failed messages
âœ… Database reset complete. Tables: 21
00:14 +180: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: e71092120e195ebb...
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: e71092120e195ebb...
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 6. Integration Tests should handle encrypted message flow
ðŸ”§ DIAGNOSTIC: Node ID length: 50
ðŸ”§ DIAGNOSTIC: Node ID: "arshad_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: arshad_public_ke...
ðŸ“¥ RECEIVE STEP 1: Received 271 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 101, 110, 99]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"enc
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 16
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 47
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 50
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 50
ðŸ”§ ROUTING DEBUG: Message ID: encrypted_test_1...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Intended recipient: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Current node ID: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Encryption method: ecdh
ðŸ”§ ROUTING DEBUG: Message encrypted flag: true
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Public key read in 0ms
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [UserPreferences] âœ… Public key read in 0ms
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: e71092120e195ebb...
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: e71092120e195ebb...
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 6. Integration Tests should handle encrypted message flow
ðŸ”§ ROUTING DEBUG: âœ… MESSAGE FOR US - Matched one of our identities
ðŸ”§ ROUTING DEBUG: ===== END ROUTING ANALYSIS =====
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823102691.db (factory: _SqfliteDatabaseFactoryImpl)
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [DatabaseHelper] Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823102691.db (factory: _SqfliteDatabaseFactoryImpl)
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: WAL mode set, journal_mode: wal
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [DatabaseHelper] WAL mode set, journal_mode: wal
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: Database configured with foreign keys and optimizations
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [DatabaseHelper] Database configured with foreign keys and optimizations
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: Creating database schema v9...
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [DatabaseHelper] Creating database schema v9...
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Key pair generated in 185ms
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [UserPreferences] âœ… Key pair generated in 185ms
INFO: 2025-11-11 06:05:04.704571: âœ… Key pair generated in 185ms
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”‘ Storing keys in secure storage...
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [UserPreferences] ðŸ”‘ Storing keys in secure storage...
INFO: 2025-11-11 06:05:04.726559: ðŸ”‘ Storing keys in secure storage...
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Keys stored in 0ms
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [UserPreferences] âœ… Keys stored in 0ms
INFO: 2025-11-11 06:05:04.730685: âœ… Keys stored in 0ms
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸŽ‰ Key pair generation complete in 298ms
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [UserPreferences] ðŸŽ‰ Key pair generation complete in 298ms
INFO: 2025-11-11 06:05:04.733588: ðŸŽ‰ Key pair generation complete in 298ms
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Archive repository initialized successfully
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ArchiveRepository] Archive repository initialized successfully
INFO: 2025-11-11 06:05:04.738375: Archive repository initialized successfully
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Repositories initialized
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] Repositories initialized
INFO: 2025-11-11 06:05:04.740102: Repositories initialized
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Repositories initialized in 657ms
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âœ… Repositories initialized in 657ms
INFO: 2025-11-11 06:05:04.742074: âœ… Repositories initialized in 657ms
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¬ Initializing message queue (PRIORITY: before BLE/core services)...
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸ“¬ Initializing message queue (PRIORITY: before BLE/core services)...
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Database schema created successfully with 17 core tables + FTS5
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [DatabaseHelper] âœ… Database schema created successfully with 17 core tables + FTS5
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
INFO: 2025-11-11 06:05:04.743883: ðŸ“¬ Initializing message queue (PRIORITY: before BLE/core services)...
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”’ LEVEL: ali_public_key_12345678901234567890123456789012 â†’ LOW (no contact)
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [SecurityManager] ðŸ”’ LEVEL: ali_public_key_12345678901234567890123456789012 â†’ LOW (no contact)
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: ðŸ”’ DECRYPT: global âŒ â†’ Bad state: Crypto not initialized. Call initialize() first.
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [SecurityManager] ðŸ”’ DECRYPT: global âŒ â†’ Bad state: Crypto not initialized. Call initialize() first.
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
SEVERE: ðŸ”’ DECRYPT: All methods failed - requesting security resync
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âŒ [SecurityManager] ðŸ”’ DECRYPT: All methods failed - requesting security resync
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded 0 messages from storage (direct: 0, relay: 0)
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Loaded 0 messages from storage (direct: 0, relay: 0)
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
SEVERE: ðŸ”’ MESSAGE: Decryption failed: Exception: All decryption methods failed - security resync requested
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âŒ [BLEMessageHandler] ðŸ”’ MESSAGE: Decryption failed: Exception: All decryption methods failed - security resync requested
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
INFO: 2025-11-11 06:05:04.775794: Loaded 0 messages from storage (direct: 0, relay: 0)
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded 0 deleted message IDs
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Loaded 0 deleted message IDs
INFO: 2025-11-11 06:05:04.784341: Loaded 0 deleted message IDs
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: SQLite-based queue - no migration needed
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [OfflineMessageQueue] SQLite-based queue - no migration needed
FINE: 2025-11-11 06:05:04.786373: SQLite-based queue - no migration needed
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: Database closed
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [DatabaseHelper] Database closed
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Offline message queue initialized with 0 pending messages (direct: 0, relay: 0)
00:14 +180: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Offline message queue initialized with 0 pending messages (direct: 0, relay: 0)
INFO: 2025-11-11 06:05:04.793502: Offline message queue initialized with 0 pending messages (direct: 0, relay: 0)
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:14 +180: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:14 +181: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Message queue ready with 0 messages (0 pending, 0 sending, 0 retrying)
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âœ… Message queue ready with 0 messages (0 pending, 0 sending, 0 retrying)
INFO: 2025-11-11 06:05:04.803480: âœ… Message queue ready with 0 messages (0 pending, 0 sending, 0 retrying)
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Message queue initialized in 60ms
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âœ… Message queue initialized in 60ms
INFO: 2025-11-11 06:05:04.805994: âœ… Message queue initialized in 60ms
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“Š Initializing monitoring...
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸ“Š Initializing monitoring...
INFO: 2025-11-11 06:05:04.807700: ðŸ“Š Initializing monitoring...
00:14 +181: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:14 +181: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:14 +181: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:14 +181: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Performance monitor initialized
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [PerformanceMonitor] Performance monitor initialized
INFO: 2025-11-11 06:05:04.834663: Performance monitor initialized
00:14 +181: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:14 +181: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Performance monitoring started
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [PerformanceMonitor] Performance monitoring started
INFO: 2025-11-11 06:05:04.838602: Performance monitoring started
00:14 +181: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 7ddaedbcf00bbecd...
00:14 +181: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 7ddaedbcf00bbecd...
00:14 +181: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 7. Message Handler Node ID Validation should handle node ID bounds correctly
ðŸ”§ DIAGNOSTIC: Node ID length: 5
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Performance monitor initialized
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] Performance monitor initialized
00:14 +181: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 7. Message Handler Node ID Validation should handle node ID bounds correctly
ðŸ”§ DIAGNOSTIC: Node ID: "short"
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
INFO: 2025-11-11 06:05:04.840037: Performance monitor initialized
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Performance monitoring started
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] Performance monitoring started
00:14 +181: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 7. Message Handler Node ID Validation should handle node ID bounds correctly
ðŸ”§ ROUTING DEBUG: Current node ID set to: short...
ðŸ”§ DIAGNOSTIC: Node ID length: 42
ðŸ”§ DIAGNOSTIC: Node ID: "normal_length_node_id_12345678901234567890"
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
INFO: 2025-11-11 06:05:04.842468: Performance monitoring started
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Monitoring systems initialized
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] Monitoring systems initialized
INFO: 2025-11-11 06:05:04.843949: Monitoring systems initialized
00:14 +181: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 7. Message Handler Node ID Validation should handle node ID bounds correctly
ðŸ”§ ROUTING DEBUG: Current node ID set to: normal_length_no...
ðŸ”§ DIAGNOSTIC: Node ID length: 95
ðŸ”§ DIAGNOSTIC: Node ID: "very_long_node_id_that_exceeds_normal_bounds_12345678901234567890123456789012345678901234567890"
ðŸ”§ ROUTING DEBUG: Current node ID set to: very_long_node_i...
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Monitoring initialized in 36ms
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âœ… Monitoring initialized in 36ms
INFO: 2025-11-11 06:05:04.846837: âœ… Monitoring initialized in 36ms
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ Initializing core services...
00:14 +181: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸ”§ Initializing core services...
INFO: 2025-11-11 06:05:04.849107: ðŸ”§ Initializing core services...
00:14 +181: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:14 +181: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:14 +182: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:14 +182: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:14 +182: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:14 +182: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:14 +182: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:14 +182: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:14 +182: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:14 +182: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 2d4fc81f42cc6a1a...
00:14 +182: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 2d4fc81f42cc6a1a...
00:14 +182: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Creating default notification handler for platform: Linux
00:14 +182: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NotificationHandlerFactory] Creating default notification handler for platform: Linux
INFO: 2025-11-11 06:05:04.885521: Creating default notification handler for platform: Linux
00:14 +182: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 7. Message Handler Node ID Validation should safely truncate node IDs in logging
ðŸ”§ DIAGNOSTIC: Node ID length: 102
ðŸ”§ DIAGNOSTIC: Node ID: "very_long_node_id_that_could_cause_substring_errors_12345678901234567890123456789012345678901234567890"
ðŸ”§ ROUTING DEBUG: Current node ID set to: very_long_node_i...
ðŸ“¥ RECEIVE STEP 1: Received 282 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 98, 111, 117]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"bou
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
00:14 +182: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing notification service...
00:14 +182: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NotificationService] Initializing notification service...
00:14 +182: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 7. Message Handler Node ID Validation should safely truncate node IDs in logging
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
00:14 +182: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:14 +183: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:14 +183: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 7. Message Handler Node ID Validation should safely truncate node IDs in logging
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 19
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 47
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 102
00:14 +183: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
INFO: 2025-11-11 06:05:04.890065: Initializing notification service...
00:14 +183: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 7. Message Handler Node ID Validation should safely truncate node IDs in logging
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 102
ðŸ”§ ROUTING DEBUG: Message ID: bounds_test_mess...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Intended recipient: very_long_node_i...
ðŸ”§ ROUTING DEBUG: Current node ID: very_long_node_i...
ðŸ”§ ROUTING DEBUG: Encryption method: null
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:14 +183: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:14 +183: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:14 +183: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: âœ… Public key read in 0ms
00:14 +183: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [UserPreferences] âœ… Public key read in 0ms
00:14 +183: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing foreground notification handler
00:14 +183: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ForegroundNotificationHandler] Initializing foreground notification handler
INFO: 2025-11-11 06:05:04.898053: Initializing foreground notification handler
00:14 +183: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Foreground notification handler initialized
00:14 +183: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ForegroundNotificationHandler] âœ… Foreground notification handler initialized
INFO: 2025-11-11 06:05:04.900563: âœ… Foreground notification handler initialized
00:14 +183: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 2d4fc81f42cc6a1a...
00:14 +183: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 2d4fc81f42cc6a1a...
00:14 +183: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:14 +183: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:14 +183: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 7. Message Handler Node ID Validation should safely truncate node IDs in logging
ðŸ”§ ROUTING DEBUG: ðŸš« DISCARDING - Message not addressed to any of our identities
ðŸ”§ ROUTING DEBUG: - Intended recipient: very_long_node_i...
00:14 +183: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Notification service initialized with ForegroundNotificationHandler
00:14 +183: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NotificationService] âœ… Notification service initialized with ForegroundNotificationHandler
INFO: 2025-11-11 06:05:04.902777: âœ… Notification service initialized with ForegroundNotificationHandler
00:14 +183: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Notification service initialized with ForegroundNotificationHandler
00:14 +183: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] Notification service initialized with ForegroundNotificationHandler
INFO: 2025-11-11 06:05:04.904544: Notification service initialized with ForegroundNotificationHandler
00:14 +183: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”’ Initializing SecurityManager with Noise Protocol...
00:14 +183: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸ”’ Initializing SecurityManager with Noise Protocol...
INFO: 2025-11-11 06:05:04.905690: ðŸ”’ Initializing SecurityManager with Noise Protocol...
00:14 +183: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: (setUpAll)
WARNING: Database deleted
00:14 +183: /home/abubakar/dev/pak_connect/test/message_encryption_routing_test.dart: Message Encryption and Routing Tests 1. Direct Messaging Tests (Ali â†’ Arshad) should create message with correct intended recipient
âš ï¸ [DatabaseHelper] Database deleted
00:14 +183: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:14 +184: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:14 +184: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Noise encryption service
00:14 +184: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NoiseEncryptionService] Initializing Noise encryption service
INFO: 2025-11-11 06:05:04.912351: Initializing Noise encryption service
00:14 +184: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:14 +184: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: Phase 3: Statistics Tracking Statistics include network size and relay probability
ðŸ“¡ RELAY ENGINE: Node ID set to test_stats_node... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:14 +184: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:14 +185: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:14 +185: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Generated and saved new static identity key
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NoiseEncryptionService] Generated and saved new static identity key
INFO: 2025-11-11 06:05:05.031711: Generated and saved new static identity key
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Noise encryption service initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NoiseEncryptionService] Noise encryption service initialized
INFO: 2025-11-11 06:05:05.034397: Noise encryption service initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Our fingerprint: e0136eb7b4682d2f89913ad9a72a1dce418869599b74ab1b1d01f2dbf73ac307
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NoiseEncryptionService] Our fingerprint: e0136eb7b4682d2f89913ad9a72a1dce418869599b74ab1b1d01f2dbf73ac307
INFO: 2025-11-11 06:05:05.055893: Our fingerprint: e0136eb7b4682d2f89913ad9a72a1dce418869599b74ab1b1d01f2dbf73ac307
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”’ SecurityManager initialized with Noise Protocol
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SecurityManager] ðŸ”’ SecurityManager initialized with Noise Protocol
INFO: 2025-11-11 06:05:05.058965: ðŸ”’ SecurityManager initialized with Noise Protocol
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”’ Identity fingerprint: e0136eb7b4682d2f...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SecurityManager] ðŸ”’ Identity fingerprint: e0136eb7b4682d2f...
INFO: 2025-11-11 06:05:05.061600: ðŸ”’ Identity fingerprint: e0136eb7b4682d2f...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… SecurityManager initialized successfully
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âœ… SecurityManager initialized successfully
INFO: 2025-11-11 06:05:05.063532: âœ… SecurityManager initialized successfully
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”‘ Initializing EphemeralKeyManager for session...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸ”‘ Initializing EphemeralKeyManager for session...
INFO: 2025-11-11 06:05:05.065302: ðŸ”‘ Initializing EphemeralKeyManager for session...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading private key from secure storage...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading private key from secure storage...
INFO: 2025-11-11 06:05:05.066978: ðŸ”‘ Reading private key from secure storage...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Private key read in 0ms
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [UserPreferences] âœ… Private key read in 0ms
INFO: 2025-11-11 06:05:05.068759: âœ… Private key read in 0ms
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
INFO: 2025-11-11 06:05:05.072323: ðŸ”„ Generating new ephemeral session (no cache)...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
INFO: 2025-11-11 06:05:05.108871: âœ… Generated ephemeral signing keys
00:14 +185: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: Phase 3: Statistics Tracking Statistics track probabilistic skip count
ðŸ“¡ RELAY ENGINE: Node ID set to test_stats_node... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: aff3c31810e09af8...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: aff3c31810e09af8...
INFO: 2025-11-11 06:05:05.111659: âœ… Generated new ephemeral session: aff3c31810e09af8...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: aff3c31810e09af8...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: aff3c31810e09af8...
INFO: 2025-11-11 06:05:05.113764: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: aff3c31810e09af8...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
INFO: 2025-11-11 06:05:05.115438: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… EphemeralKeyManager initialized - Session ID: aff3c31810e09af8...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âœ… EphemeralKeyManager initialized - Session ID: aff3c31810e09af8...
INFO: 2025-11-11 06:05:05.117195: âœ… EphemeralKeyManager initialized - Session ID: aff3c31810e09af8...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸŒ Initializing TopologyManager with session ephemeral ID...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸŒ Initializing TopologyManager with session ephemeral ID...
INFO: 2025-11-11 06:05:05.118562: ðŸŒ Initializing TopologyManager with session ephemeral ID...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Added new node: aff3c318 (You)
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [TopologyManager] Added new node: aff3c318 (You)
INFO: 2025-11-11 06:05:05.119792: Added new node: aff3c318 (You)
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: TopologyManager initialized for node aff3c318...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [TopologyManager] TopologyManager initialized for node aff3c318...
INFO: 2025-11-11 06:05:05.120551: TopologyManager initialized for node aff3c318...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… TopologyManager initialized with ephemeral node ID: aff3c31810e09af8...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âœ… TopologyManager initialized with ephemeral node ID: aff3c31810e09af8...
INFO: 2025-11-11 06:05:05.121620: âœ… TopologyManager initialized with ephemeral node ID: aff3c31810e09af8...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… ContactManagementService singleton instance created
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ContactManagementService] âœ… ContactManagementService singleton instance created
INFO: 2025-11-11 06:05:05.124813: âœ… ContactManagementService singleton instance created
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Contact management service initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ContactManagementService] Contact management service initialized
INFO: 2025-11-11 06:05:05.130518: Contact management service initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Contact management service initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] Contact management service initialized
INFO: 2025-11-11 06:05:05.132203: Contact management service initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: ArchiveRepository already initialized - skipping
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [ArchiveRepository] ArchiveRepository already initialized - skipping
FINE: 2025-11-11 06:05:05.135911: ArchiveRepository already initialized - skipping
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing archive management service
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ArchiveManagementService] Initializing archive management service
INFO: 2025-11-11 06:05:05.138555: Initializing archive management service
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: ArchiveRepository already initialized - skipping
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [ArchiveRepository] ArchiveRepository already initialized - skipping
FINE: 2025-11-11 06:05:05.140343: ArchiveRepository already initialized - skipping
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Archive management service initialized successfully
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ArchiveManagementService] Archive management service initialized successfully
INFO: 2025-11-11 06:05:05.146782: Archive management service initialized successfully
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing archive search service
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ArchiveSearchService] Initializing archive search service
INFO: 2025-11-11 06:05:05.149318: Initializing archive search service
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: ArchiveRepository already initialized - skipping
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [ArchiveRepository] ArchiveRepository already initialized - skipping
FINE: 2025-11-11 06:05:05.151190: ArchiveRepository already initialized - skipping
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Rebuilt search indexes for 0 archives
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ArchiveSearchService] Rebuilt search indexes for 0 archives
INFO: 2025-11-11 06:05:05.163908: Rebuilt search indexes for 0 archives
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Archive search service initialized successfully
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ArchiveSearchService] Archive search service initialized successfully
INFO: 2025-11-11 06:05:05.166075: Archive search service initialized successfully
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Chat management service initialized with archive support
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ChatManagementService] Chat management service initialized with archive support
INFO: 2025-11-11 06:05:05.167617: Chat management service initialized with archive support
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Chat management service initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] Chat management service initialized
INFO: 2025-11-11 06:05:05.169343: Chat management service initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Core services initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] Core services initialized
INFO: 2025-11-11 06:05:05.170811: Core services initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Core services initialized in 322ms
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âœ… Core services initialized in 322ms
INFO: 2025-11-11 06:05:05.173157: âœ… Core services initialized in 322ms
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Initializing BLE integration...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸ“¡ Initializing BLE integration...
INFO: 2025-11-11 06:05:05.174834: ðŸ“¡ Initializing BLE integration...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… BLE integration ready (BLEService manages its own BLEStateManager)
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âœ… BLE integration ready (BLEService manages its own BLEStateManager)
INFO: 2025-11-11 06:05:05.176270: âœ… BLE integration ready (BLEService manages its own BLEStateManager)
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… BLE integration initialized in 2ms
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âœ… BLE integration initialized in 2ms
INFO: 2025-11-11 06:05:05.178165: âœ… BLE integration initialized in 2ms
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âš¡ Initializing enhanced features...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âš¡ Initializing enhanced features...
INFO: 2025-11-11 06:05:05.179963: âš¡ Initializing enhanced features...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”‹ Initializing battery optimizer...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸ”‹ Initializing battery optimizer...
INFO: 2025-11-11 06:05:05.182388: ðŸ”‹ Initializing battery optimizer...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
SEVERE: âŒ Failed to initialize Battery Optimizer: MissingPluginException(No implementation found for method getBatteryLevel on channel dev.fluttercommunity.plus/battery)
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âŒ [BatteryOptimizer] âŒ Failed to initialize Battery Optimizer: MissingPluginException(No implementation found for method getBatteryLevel on channel dev.fluttercommunity.plus/battery)
SEVERE: 2025-11-11 06:05:05.192905: âŒ Failed to initialize Battery Optimizer: MissingPluginException(No implementation found for method getBatteryLevel on channel dev.fluttercommunity.plus/battery)
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Battery optimizer initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âœ… Battery optimizer initialized
INFO: 2025-11-11 06:05:05.195284: âœ… Battery optimizer initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Burst scanning controller created - will initialize with BLE service
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] Burst scanning controller created - will initialize with BLE service
INFO: 2025-11-11 06:05:05.197607: Burst scanning controller created - will initialize with BLE service
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Enhanced features initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] Enhanced features initialized
INFO: 2025-11-11 06:05:05.199502: Enhanced features initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Enhanced features initialized in 19ms
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âœ… Enhanced features initialized in 19ms
INFO: 2025-11-11 06:05:05.200848: âœ… Enhanced features initialized in 19ms
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Starting integrated systems...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸ”„ Starting integrated systems...
INFO: 2025-11-11 06:05:05.202018: ðŸ”„ Starting integrated systems...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Starting burst scanning integration...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] Starting burst scanning integration...
INFO: 2025-11-11 06:05:05.204148: Starting burst scanning integration...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ Pre-initializing burst scanning controller...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸ”§ Pre-initializing burst scanning controller...
INFO: 2025-11-11 06:05:05.206132: ðŸ”§ Pre-initializing burst scanning controller...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Burst scanning will initialize on provider access
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âœ… Burst scanning will initialize on provider access
INFO: 2025-11-11 06:05:05.310469: âœ… Burst scanning will initialize on provider access
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ—„ï¸ Starting auto-archive scheduler...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸ—„ï¸ Starting auto-archive scheduler...
INFO: 2025-11-11 06:05:05.312292: ðŸ—„ï¸ Starting auto-archive scheduler...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Auto-archive disabled in settings
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AutoArchiveScheduler] Auto-archive disabled in settings
INFO: 2025-11-11 06:05:05.316831: Auto-archive disabled in settings
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Auto-archive scheduler started
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âœ… Auto-archive scheduler started
INFO: 2025-11-11 06:05:05.318755: âœ… Auto-archive scheduler started
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Integrated systems started
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] Integrated systems started
INFO: 2025-11-11 06:05:05.320375: Integrated systems started
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Integrated systems started in 118ms
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] âœ… Integrated systems started in 118ms
INFO: 2025-11-11 06:05:05.322286: âœ… Integrated systems started in 118ms
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Status emitted: AppStatus.ready
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸ“¡ Status emitted: AppStatus.ready
INFO: 2025-11-11 06:05:05.323721: ðŸ“¡ Status emitted: AppStatus.ready
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸŽ¯ Status changed to READY
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸŽ¯ Status changed to READY
INFO: 2025-11-11 06:05:05.325022: ðŸŽ¯ Status changed to READY
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸŽ‰ Application core initialized successfully in 1252ms
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [AppCore] ðŸŽ‰ Application core initialized successfully in 1252ms
INFO: 2025-11-11 06:05:05.327104: ðŸŽ‰ Application core initialized successfully in 1252ms
00:14 +185: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: (setUpAll)
âœ… Database reset complete. Tables: 21
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Connected to shared message queue with 0 pending messages
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Connected to shared message queue with 0 pending messages
INFO: 2025-11-11 06:05:05.329626: âœ… Connected to shared message queue with 0 pending messages
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
INFO: 2025-11-11 06:05:05.331858: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:14 +185: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Queue callbacks reconfigured for mesh networking
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Queue callbacks reconfigured for mesh networking
INFO: 2025-11-11 06:05:05.337760: âœ… Queue callbacks reconfigured for mesh networking
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:05.346257: Loaded spam prevention data
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:05.349617: SpamPreventionManager initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Smart Mesh Router for node test_nod...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Initializing Smart Mesh Router for node test_nod...
INFO: 2025-11-11 06:05:05.362393: Initializing Smart Mesh Router for node test_nod...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Network Topology Analyzer
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Initializing Network Topology Analyzer
INFO: 2025-11-11 06:05:05.366611: Initializing Network Topology Analyzer
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer initialized
INFO: 2025-11-11 06:05:05.370554: Network Topology Analyzer initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Connection Quality Monitor
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Initializing Connection Quality Monitor
INFO: 2025-11-11 06:05:05.373873: Initializing Connection Quality Monitor
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor initialized
INFO: 2025-11-11 06:05:05.375940: Connection Quality Monitor initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart Mesh Router initialized (demo: true)
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] âœ… Smart Mesh Router initialized (demo: true)
INFO: 2025-11-11 06:05:05.377745: âœ… Smart Mesh Router initialized (demo: true)
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart routing components initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Smart routing components initialized
INFO: 2025-11-11 06:05:05.379232: âœ… Smart routing components initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:05.383841: ðŸ“¡ RelayConfigManager initialized:
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:05.385518:    - Relay enabled: true
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:05.387289:    - Max relay hops: 10
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:05.388615:    - Battery threshold: 20%
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:05.390011: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:05.391657: ðŸ“¡ Relay enabled: true | Network: 0 nodes
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: true | Relay: ON | Network: 0 nodes
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Queue sync manager initialized for node: test_node_a_1762...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [QueueSyncManager] Queue sync manager initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:05.397324: Queue sync manager initialized for node: test_node_a_1762...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Core mesh components initialized with smart routing
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Core mesh components initialized with smart routing
INFO: 2025-11-11 06:05:05.401075: Core mesh components initialized with smart routing
ðŸ”§ INIT DIAGNOSTIC: Node ID length: 25
ðŸ”§ INIT DEBUG: Setting current node ID to: test_node_a_1762...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:05.411063: Loaded spam prevention data
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:05.412883: SpamPreventionManager initialized
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:05.416836: ðŸ“¡ RelayConfigManager initialized:
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:05.418539:    - Relay enabled: true
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:05.419947:    - Max relay hops: 10
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:05.421233:    - Battery threshold: 20%
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:05.422641: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:05.423906: ðŸ“¡ Relay enabled: true | Network: 0 nodes
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh relay system initialized for node: test_node_a_1762...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [BLEMessageHandler] Mesh relay system initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:05.429301: Mesh relay system initialized for node: test_node_a_1762...
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: BLE integration set up
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] BLE integration set up
INFO: 2025-11-11 06:05:05.433582: BLE integration set up
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… BLE integration set up successfully
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… BLE integration set up successfully
INFO: 2025-11-11 06:05:05.435505: âœ… BLE integration set up successfully
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Setting up demo capabilities for FYP demonstration
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Setting up demo capabilities for FYP demonstration
INFO: 2025-11-11 06:05:05.437703: Setting up demo capabilities for FYP demonstration
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Broadcasting mesh status with 0 queue messages
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Broadcasting mesh status with 0 queue messages
FINE: 2025-11-11 06:05:05.442863: Broadcasting mesh status with 0 queue messages
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Mesh networking service initialized successfully
00:14 +185: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Mesh networking service initialized successfully
INFO: 2025-11-11 06:05:05.450674: âœ… Mesh networking service initialized successfully
00:14 +185: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:14 +186: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:14 +186: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:05.469781: SpamPreventionManager disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:05.472159: SpamPreventionManager disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Offline message queue disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Offline message queue disposed
INFO: 2025-11-11 06:05:05.474437: Offline message queue disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:05.477635: Network Topology Analyzer disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:05.480140: Cleared all connection quality monitoring data
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:05.481683: Connection Quality Monitor disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Route cache cleared
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RouteCalculator] Route cache cleared
INFO: 2025-11-11 06:05:05.483905: Route cache cleared
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:05.485406: Cleared all connection quality monitoring data
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router state cleared
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router state cleared
INFO: 2025-11-11 06:05:05.486815: Smart Mesh Router state cleared
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router disposed
INFO: 2025-11-11 06:05:05.488271: Smart Mesh Router disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:05.489393: Network Topology Analyzer disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:05.490368: Cleared all connection quality monitoring data
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:05.491356: Connection Quality Monitor disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh networking service disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Mesh networking service disposed
INFO: 2025-11-11 06:05:05.492926: Mesh networking service disposed
00:14 +186: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests Archive chat successfully
âœ… Database reset complete. Tables: 21
00:15 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Database closed
00:15 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Database closed
INFO: 2025-11-11 06:05:05.542505: Database closed
00:15 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +186: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:05.547065: Database deleted
00:15 +187: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:05.556078: Database deleted
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
INFO: 2025-11-11 06:05:05.557431: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
INFO: 2025-11-11 06:05:05.558785: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing mesh networking service...
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Initializing mesh networking service...
INFO: 2025-11-11 06:05:05.559940: Initializing mesh networking service...
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Node ID: test_node_a_1762..., Demo mode: true
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Node ID: test_node_a_1762..., Demo mode: true
INFO: 2025-11-11 06:05:05.560785: Node ID: test_node_a_1762..., Demo mode: true
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”— Using AppCore's shared message queue for mesh networking
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”— Using AppCore's shared message queue for mesh networking
INFO: 2025-11-11 06:05:05.562614: ðŸ”— Using AppCore's shared message queue for mesh networking
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Connected to shared message queue with 0 pending messages
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Connected to shared message queue with 0 pending messages
INFO: 2025-11-11 06:05:05.564160: âœ… Connected to shared message queue with 0 pending messages
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
INFO: 2025-11-11 06:05:05.565661: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Queue callbacks reconfigured for mesh networking
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Queue callbacks reconfigured for mesh networking
INFO: 2025-11-11 06:05:05.567212: âœ… Queue callbacks reconfigured for mesh networking
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:05.569919: Loaded spam prevention data
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:05.571957: SpamPreventionManager initialized
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Smart Mesh Router for node test_nod...
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Initializing Smart Mesh Router for node test_nod...
INFO: 2025-11-11 06:05:05.573158: Initializing Smart Mesh Router for node test_nod...
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Network Topology Analyzer
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Initializing Network Topology Analyzer
INFO: 2025-11-11 06:05:05.574358: Initializing Network Topology Analyzer
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer initialized
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer initialized
INFO: 2025-11-11 06:05:05.575856: Network Topology Analyzer initialized
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Connection Quality Monitor
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Initializing Connection Quality Monitor
INFO: 2025-11-11 06:05:05.577312: Initializing Connection Quality Monitor
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor initialized
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor initialized
INFO: 2025-11-11 06:05:05.578989: Connection Quality Monitor initialized
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart Mesh Router initialized (demo: true)
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] âœ… Smart Mesh Router initialized (demo: true)
INFO: 2025-11-11 06:05:05.580617: âœ… Smart Mesh Router initialized (demo: true)
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart routing components initialized
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Smart routing components initialized
00:15 +187: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: Phase 3: Statistics Tracking Clear statistics resets probabilistic skip count
ðŸ“¡ RELAY ENGINE: Node ID set to test_stats_node... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
INFO: 2025-11-11 06:05:05.581945: âœ… Smart routing components initialized
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:05.583471: ðŸ“¡ RelayConfigManager initialized:
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:05.584939:    - Relay enabled: true
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:05.586159:    - Max relay hops: 10
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:05.587217:    - Battery threshold: 20%
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:05.588595: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:05.589736: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should provide mesh network status stream
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: true | Relay: ON | Network: 0 nodes
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Queue sync manager initialized for node: test_node_a_1762...
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [QueueSyncManager] Queue sync manager initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:05.591780: Queue sync manager initialized for node: test_node_a_1762...
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Core mesh components initialized with smart routing
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Core mesh components initialized with smart routing
INFO: 2025-11-11 06:05:05.593066: Core mesh components initialized with smart routing
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should provide mesh network status stream
ðŸ”§ INIT DIAGNOSTIC: Node ID length: 25
ðŸ”§ INIT DEBUG: Setting current node ID to: test_node_a_1762...
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:05.596109: Loaded spam prevention data
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:05.597819: SpamPreventionManager initialized
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:05.599369: ðŸ“¡ RelayConfigManager initialized:
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:05.600499:    - Relay enabled: true
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:05.601527:    - Max relay hops: 10
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:05.602536:    - Battery threshold: 20%
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:05.603625: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:05.604702: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should provide mesh network status stream
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh relay system initialized for node: test_node_a_1762...
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [BLEMessageHandler] Mesh relay system initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:05.606280: Mesh relay system initialized for node: test_node_a_1762...
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: BLE integration set up
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] BLE integration set up
INFO: 2025-11-11 06:05:05.607722: BLE integration set up
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… BLE integration set up successfully
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… BLE integration set up successfully
INFO: 2025-11-11 06:05:05.609124: âœ… BLE integration set up successfully
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Setting up demo capabilities for FYP demonstration
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Setting up demo capabilities for FYP demonstration
INFO: 2025-11-11 06:05:05.610435: Setting up demo capabilities for FYP demonstration
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Broadcasting mesh status with 0 queue messages
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Broadcasting mesh status with 0 queue messages
FINE: 2025-11-11 06:05:05.612131: Broadcasting mesh status with 0 queue messages
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Mesh networking service initialized successfully
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Mesh networking service initialized successfully
INFO: 2025-11-11 06:05:05.613672: âœ… Mesh networking service initialized successfully
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: ðŸ”„ Late subscriber received current mesh status immediately
00:15 +187: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] ðŸ”„ Late subscriber received current mesh status immediately
FINE: 2025-11-11 06:05:05.618232: ðŸ”„ Late subscriber received current mesh status immediately
00:15 +188: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +189: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +190: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +191: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +192: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +193: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +194: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:05.722736: SpamPreventionManager disposed
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:05.724426: SpamPreventionManager disposed
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Offline message queue disposed
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Offline message queue disposed
INFO: 2025-11-11 06:05:05.725722: Offline message queue disposed
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:05.726979: Network Topology Analyzer disposed
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:05.728344: Cleared all connection quality monitoring data
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:05.730052: Connection Quality Monitor disposed
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Route cache cleared
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RouteCalculator] Route cache cleared
INFO: 2025-11-11 06:05:05.731379: Route cache cleared
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:05.732782: Cleared all connection quality monitoring data
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router state cleared
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router state cleared
INFO: 2025-11-11 06:05:05.733733: Smart Mesh Router state cleared
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router disposed
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router disposed
INFO: 2025-11-11 06:05:05.734474: Smart Mesh Router disposed
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:05.735525: Network Topology Analyzer disposed
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:15 +194: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:05.736885: Cleared all connection quality monitoring data
00:15 +194: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +195: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +195: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:15 +195: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:05.737524: Connection Quality Monitor disposed
00:15 +195: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh networking service disposed
00:15 +195: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Mesh networking service disposed
INFO: 2025-11-11 06:05:05.738661: Mesh networking service disposed
00:15 +195: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +195: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:05.743947: Database deleted
00:15 +196: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +196: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:05.755074: Database deleted
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
INFO: 2025-11-11 06:05:05.756594: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
INFO: 2025-11-11 06:05:05.757917: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing mesh networking service...
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Initializing mesh networking service...
INFO: 2025-11-11 06:05:05.759307: Initializing mesh networking service...
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Node ID: test_node_a_1762..., Demo mode: true
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Node ID: test_node_a_1762..., Demo mode: true
INFO: 2025-11-11 06:05:05.760498: Node ID: test_node_a_1762..., Demo mode: true
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”— Using AppCore's shared message queue for mesh networking
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”— Using AppCore's shared message queue for mesh networking
INFO: 2025-11-11 06:05:05.761598: ðŸ”— Using AppCore's shared message queue for mesh networking
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Connected to shared message queue with 0 pending messages
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Connected to shared message queue with 0 pending messages
INFO: 2025-11-11 06:05:05.762971: âœ… Connected to shared message queue with 0 pending messages
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
INFO: 2025-11-11 06:05:05.764290: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Queue callbacks reconfigured for mesh networking
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Queue callbacks reconfigured for mesh networking
INFO: 2025-11-11 06:05:05.765246: âœ… Queue callbacks reconfigured for mesh networking
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:05.767421: Loaded spam prevention data
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:05.768891: SpamPreventionManager initialized
00:15 +196: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests Restore archived chat successfully
âœ… Database reset complete. Tables: 21
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Smart Mesh Router for node test_nod...
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Initializing Smart Mesh Router for node test_nod...
INFO: 2025-11-11 06:05:05.770358: Initializing Smart Mesh Router for node test_nod...
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Network Topology Analyzer
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Initializing Network Topology Analyzer
INFO: 2025-11-11 06:05:05.771629: Initializing Network Topology Analyzer
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer initialized
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer initialized
INFO: 2025-11-11 06:05:05.772907: Network Topology Analyzer initialized
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Connection Quality Monitor
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Initializing Connection Quality Monitor
INFO: 2025-11-11 06:05:05.774637: Initializing Connection Quality Monitor
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor initialized
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor initialized
INFO: 2025-11-11 06:05:05.776668: Connection Quality Monitor initialized
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart Mesh Router initialized (demo: true)
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] âœ… Smart Mesh Router initialized (demo: true)
INFO: 2025-11-11 06:05:05.778563: âœ… Smart Mesh Router initialized (demo: true)
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart routing components initialized
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Smart routing components initialized
INFO: 2025-11-11 06:05:05.780134: âœ… Smart routing components initialized
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:05.782641: ðŸ“¡ RelayConfigManager initialized:
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:05.784252:    - Relay enabled: true
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:05.785919:    - Max relay hops: 10
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:05.787290:    - Battery threshold: 20%
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:05.788540: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:05.790140: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Demo Scenario Tests should initialize Aâ†’Bâ†’C demo scenario
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: true | Relay: ON | Network: 0 nodes
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Queue sync manager initialized for node: test_node_a_1762...
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [QueueSyncManager] Queue sync manager initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:05.792407: Queue sync manager initialized for node: test_node_a_1762...
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Core mesh components initialized with smart routing
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Core mesh components initialized with smart routing
INFO: 2025-11-11 06:05:05.794087: Core mesh components initialized with smart routing
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Demo Scenario Tests should initialize Aâ†’Bâ†’C demo scenario
ðŸ”§ INIT DIAGNOSTIC: Node ID length: 25
ðŸ”§ INIT DEBUG: Setting current node ID to: test_node_a_1762...
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:05.797676: Loaded spam prevention data
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:05.799613: SpamPreventionManager initialized
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:05.800929: ðŸ“¡ RelayConfigManager initialized:
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:05.802142:    - Relay enabled: true
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:05.803625:    - Max relay hops: 10
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:05.804962:    - Battery threshold: 20%
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:05.806485: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:05.807628: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Demo Scenario Tests should initialize Aâ†’Bâ†’C demo scenario
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh relay system initialized for node: test_node_a_1762...
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [BLEMessageHandler] Mesh relay system initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:05.808859: Mesh relay system initialized for node: test_node_a_1762...
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: BLE integration set up
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] BLE integration set up
INFO: 2025-11-11 06:05:05.810219: BLE integration set up
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… BLE integration set up successfully
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… BLE integration set up successfully
INFO: 2025-11-11 06:05:05.811530: âœ… BLE integration set up successfully
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Setting up demo capabilities for FYP demonstration
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Setting up demo capabilities for FYP demonstration
INFO: 2025-11-11 06:05:05.813271: Setting up demo capabilities for FYP demonstration
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Broadcasting mesh status with 0 queue messages
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Broadcasting mesh status with 0 queue messages
FINE: 2025-11-11 06:05:05.814666: Broadcasting mesh status with 0 queue messages
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Mesh networking service initialized successfully
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Mesh networking service initialized successfully
INFO: 2025-11-11 06:05:05.816224: âœ… Mesh networking service initialized successfully
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing demo scenario: aToBtoC
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Initializing demo scenario: aToBtoC
INFO: 2025-11-11 06:05:05.818926: Initializing demo scenario: aToBtoC
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:05.825286: SpamPreventionManager disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:05.826880: SpamPreventionManager disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Offline message queue disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Offline message queue disposed
INFO: 2025-11-11 06:05:05.828276: Offline message queue disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:05.829454: Network Topology Analyzer disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:05.831112: Cleared all connection quality monitoring data
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:05.832306: Connection Quality Monitor disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Route cache cleared
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RouteCalculator] Route cache cleared
INFO: 2025-11-11 06:05:05.833004: Route cache cleared
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:05.833899: Cleared all connection quality monitoring data
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router state cleared
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router state cleared
INFO: 2025-11-11 06:05:05.834570: Smart Mesh Router state cleared
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router disposed
INFO: 2025-11-11 06:05:05.835223: Smart Mesh Router disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:05.836392: Network Topology Analyzer disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:15 +196: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: Phase 3: Integration Tests Probabilistic relay works with existing relay logic
ðŸ“¡ RELAY ENGINE: Node ID set to integration_node... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 50 nodes
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:05.838058: Cleared all connection quality monitoring data
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:05.839317: Connection Quality Monitor disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh networking service disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Mesh networking service disposed
INFO: 2025-11-11 06:05:05.841047: Mesh networking service disposed
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +196: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:05.846529: Database deleted
00:15 +197: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:05.856602: Database deleted
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
INFO: 2025-11-11 06:05:05.858042: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
INFO: 2025-11-11 06:05:05.858945: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing mesh networking service...
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Initializing mesh networking service...
INFO: 2025-11-11 06:05:05.859969: Initializing mesh networking service...
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Node ID: test_node_a_1762..., Demo mode: true
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Node ID: test_node_a_1762..., Demo mode: true
INFO: 2025-11-11 06:05:05.860849: Node ID: test_node_a_1762..., Demo mode: true
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”— Using AppCore's shared message queue for mesh networking
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”— Using AppCore's shared message queue for mesh networking
INFO: 2025-11-11 06:05:05.861364: ðŸ”— Using AppCore's shared message queue for mesh networking
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Connected to shared message queue with 0 pending messages
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Connected to shared message queue with 0 pending messages
INFO: 2025-11-11 06:05:05.862370: âœ… Connected to shared message queue with 0 pending messages
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
INFO: 2025-11-11 06:05:05.863703: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Queue callbacks reconfigured for mesh networking
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Queue callbacks reconfigured for mesh networking
INFO: 2025-11-11 06:05:05.865074: âœ… Queue callbacks reconfigured for mesh networking
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:05.867517: Loaded spam prevention data
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:15 +197: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:05.869055: SpamPreventionManager initialized
00:15 +198: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Smart Mesh Router for node test_nod...
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Initializing Smart Mesh Router for node test_nod...
INFO: 2025-11-11 06:05:05.870004: Initializing Smart Mesh Router for node test_nod...
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Network Topology Analyzer
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Initializing Network Topology Analyzer
INFO: 2025-11-11 06:05:05.871294: Initializing Network Topology Analyzer
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer initialized
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer initialized
INFO: 2025-11-11 06:05:05.872584: Network Topology Analyzer initialized
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Connection Quality Monitor
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Initializing Connection Quality Monitor
INFO: 2025-11-11 06:05:05.873703: Initializing Connection Quality Monitor
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor initialized
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor initialized
INFO: 2025-11-11 06:05:05.874925: Connection Quality Monitor initialized
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart Mesh Router initialized (demo: true)
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] âœ… Smart Mesh Router initialized (demo: true)
INFO: 2025-11-11 06:05:05.877218: âœ… Smart Mesh Router initialized (demo: true)
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart routing components initialized
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Smart routing components initialized
INFO: 2025-11-11 06:05:05.878342: âœ… Smart routing components initialized
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:05.879550: ðŸ“¡ RelayConfigManager initialized:
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:05.881189:    - Relay enabled: true
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:05.882323:    - Max relay hops: 10
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:05.883269:    - Battery threshold: 20%
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:05.884161: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:05.885276: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Demo Scenario Tests should initialize queue sync demo scenario
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: true | Relay: ON | Network: 0 nodes
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Queue sync manager initialized for node: test_node_a_1762...
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [QueueSyncManager] Queue sync manager initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:05.886834: Queue sync manager initialized for node: test_node_a_1762...
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Core mesh components initialized with smart routing
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Core mesh components initialized with smart routing
INFO: 2025-11-11 06:05:05.887775: Core mesh components initialized with smart routing
00:15 +198: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Demo Scenario Tests should initialize queue sync demo scenario
ðŸ”§ INIT DIAGNOSTIC: Node ID length: 25
ðŸ”§ INIT DEBUG: Setting current node ID to: test_node_a_1762...
00:15 +198: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +199: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:05.889928: Loaded spam prevention data
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:05.891364: SpamPreventionManager initialized
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:05.892859: ðŸ“¡ RelayConfigManager initialized:
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:05.894345:    - Relay enabled: true
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:05.895741:    - Max relay hops: 10
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:05.897008:    - Battery threshold: 20%
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:05.898720: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:05.899977: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Demo Scenario Tests should initialize queue sync demo scenario
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh relay system initialized for node: test_node_a_1762...
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [BLEMessageHandler] Mesh relay system initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:05.901315: Mesh relay system initialized for node: test_node_a_1762...
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: BLE integration set up
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] BLE integration set up
INFO: 2025-11-11 06:05:05.902210: BLE integration set up
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… BLE integration set up successfully
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… BLE integration set up successfully
INFO: 2025-11-11 06:05:05.903225: âœ… BLE integration set up successfully
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Setting up demo capabilities for FYP demonstration
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Setting up demo capabilities for FYP demonstration
INFO: 2025-11-11 06:05:05.904175: Setting up demo capabilities for FYP demonstration
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Broadcasting mesh status with 0 queue messages
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Broadcasting mesh status with 0 queue messages
FINE: 2025-11-11 06:05:05.905220: Broadcasting mesh status with 0 queue messages
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Mesh networking service initialized successfully
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Mesh networking service initialized successfully
INFO: 2025-11-11 06:05:05.906034: âœ… Mesh networking service initialized successfully
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing demo scenario: queueSync
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Initializing demo scenario: queueSync
INFO: 2025-11-11 06:05:05.907365: Initializing demo scenario: queueSync
00:15 +199: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:05.911678: SpamPreventionManager disposed
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:05.913238: SpamPreventionManager disposed
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Offline message queue disposed
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Offline message queue disposed
INFO: 2025-11-11 06:05:05.914603: Offline message queue disposed
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:15 +199: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:05.916276: Network Topology Analyzer disposed
00:15 +200: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:05.917309: Cleared all connection quality monitoring data
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:05.918292: Connection Quality Monitor disposed
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Route cache cleared
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RouteCalculator] Route cache cleared
INFO: 2025-11-11 06:05:05.919349: Route cache cleared
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:05.920196: Cleared all connection quality monitoring data
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router state cleared
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router state cleared
INFO: 2025-11-11 06:05:05.921423: Smart Mesh Router state cleared
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router disposed
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router disposed
INFO: 2025-11-11 06:05:05.922780: Smart Mesh Router disposed
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:05.923958: Network Topology Analyzer disposed
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:05.925146: Cleared all connection quality monitoring data
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:15 +200: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:05.926365: Connection Quality Monitor disposed
00:15 +201: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +201: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh networking service disposed
00:15 +201: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Mesh networking service disposed
INFO: 2025-11-11 06:05:05.928018: Mesh networking service disposed
00:15 +201: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +201: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:05.932954: Database deleted
00:15 +202: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:05.944802: Database deleted
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
INFO: 2025-11-11 06:05:05.947091: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
INFO: 2025-11-11 06:05:05.948738: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing mesh networking service...
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Initializing mesh networking service...
INFO: 2025-11-11 06:05:05.949997: Initializing mesh networking service...
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Node ID: test_node_a_1762..., Demo mode: true
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Node ID: test_node_a_1762..., Demo mode: true
INFO: 2025-11-11 06:05:05.951403: Node ID: test_node_a_1762..., Demo mode: true
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”— Using AppCore's shared message queue for mesh networking
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”— Using AppCore's shared message queue for mesh networking
INFO: 2025-11-11 06:05:05.952669: ðŸ”— Using AppCore's shared message queue for mesh networking
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Connected to shared message queue with 0 pending messages
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Connected to shared message queue with 0 pending messages
INFO: 2025-11-11 06:05:05.953789: âœ… Connected to shared message queue with 0 pending messages
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
INFO: 2025-11-11 06:05:05.955051: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Queue callbacks reconfigured for mesh networking
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Queue callbacks reconfigured for mesh networking
INFO: 2025-11-11 06:05:05.956020: âœ… Queue callbacks reconfigured for mesh networking
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:05.957705: Loaded spam prevention data
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:05.958790: SpamPreventionManager initialized
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Smart Mesh Router for node test_nod...
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Initializing Smart Mesh Router for node test_nod...
INFO: 2025-11-11 06:05:05.960210: Initializing Smart Mesh Router for node test_nod...
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Network Topology Analyzer
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Initializing Network Topology Analyzer
INFO: 2025-11-11 06:05:05.961410: Initializing Network Topology Analyzer
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer initialized
00:15 +202: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer initialized
INFO: 2025-11-11 06:05:05.962905: Network Topology Analyzer initialized
00:15 +203: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Connection Quality Monitor
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Initializing Connection Quality Monitor
INFO: 2025-11-11 06:05:05.965111: Initializing Connection Quality Monitor
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor initialized
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor initialized
INFO: 2025-11-11 06:05:05.967723: Connection Quality Monitor initialized
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart Mesh Router initialized (demo: true)
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] âœ… Smart Mesh Router initialized (demo: true)
INFO: 2025-11-11 06:05:05.969739: âœ… Smart Mesh Router initialized (demo: true)
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart routing components initialized
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Smart routing components initialized
INFO: 2025-11-11 06:05:05.973069: âœ… Smart routing components initialized
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:05.974779: ðŸ“¡ RelayConfigManager initialized:
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:05.976062:    - Relay enabled: true
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:05.977013:    - Max relay hops: 10
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:05.977983:    - Battery threshold: 20%
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:05.979241: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:05.980307: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +203: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Demo Scenario Tests should initialize spam prevention demo scenario
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: true | Relay: ON | Network: 0 nodes
00:15 +204: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Queue sync manager initialized for node: test_node_a_1762...
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [QueueSyncManager] Queue sync manager initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:05.982863: Queue sync manager initialized for node: test_node_a_1762...
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Core mesh components initialized with smart routing
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Core mesh components initialized with smart routing
INFO: 2025-11-11 06:05:05.984074: Core mesh components initialized with smart routing
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Demo Scenario Tests should initialize spam prevention demo scenario
ðŸ”§ INIT DIAGNOSTIC: Node ID length: 25
ðŸ”§ INIT DEBUG: Setting current node ID to: test_node_a_1762...
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:05.986051: Loaded spam prevention data
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:05.987238: SpamPreventionManager initialized
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:05.988344: ðŸ“¡ RelayConfigManager initialized:
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:05.989073:    - Relay enabled: true
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:05.989629:    - Max relay hops: 10
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:05.990414:    - Battery threshold: 20%
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:05.991329: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:05.992032: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Demo Scenario Tests should initialize spam prevention demo scenario
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh relay system initialized for node: test_node_a_1762...
00:15 +204: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [BLEMessageHandler] Mesh relay system initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:05.993336: Mesh relay system initialized for node: test_node_a_1762...
00:15 +205: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: BLE integration set up
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] BLE integration set up
INFO: 2025-11-11 06:05:05.994406: BLE integration set up
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… BLE integration set up successfully
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… BLE integration set up successfully
INFO: 2025-11-11 06:05:05.995672: âœ… BLE integration set up successfully
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Setting up demo capabilities for FYP demonstration
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Setting up demo capabilities for FYP demonstration
INFO: 2025-11-11 06:05:05.997014: Setting up demo capabilities for FYP demonstration
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Broadcasting mesh status with 0 queue messages
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Broadcasting mesh status with 0 queue messages
FINE: 2025-11-11 06:05:05.998217: Broadcasting mesh status with 0 queue messages
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Mesh networking service initialized successfully
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Mesh networking service initialized successfully
INFO: 2025-11-11 06:05:05.999350: âœ… Mesh networking service initialized successfully
00:15 +205: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: Phase 3: Integration Tests Messages for current node always delivered (bypass probabilistic skip)
ðŸ“¡ RELAY ENGINE: Node ID set to delivery_test_no... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 150 nodes
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing demo scenario: spamPrevention
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Initializing demo scenario: spamPrevention
INFO: 2025-11-11 06:05:06.002197: Initializing demo scenario: spamPrevention
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:06.006020: SpamPreventionManager disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:06.007857: SpamPreventionManager disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Offline message queue disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Offline message queue disposed
INFO: 2025-11-11 06:05:06.009144: Offline message queue disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:06.010611: Network Topology Analyzer disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:06.011898: Cleared all connection quality monitoring data
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:06.012921: Connection Quality Monitor disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Route cache cleared
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RouteCalculator] Route cache cleared
INFO: 2025-11-11 06:05:06.014286: Route cache cleared
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:06.015908: Cleared all connection quality monitoring data
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router state cleared
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router state cleared
INFO: 2025-11-11 06:05:06.017299: Smart Mesh Router state cleared
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router disposed
INFO: 2025-11-11 06:05:06.018566: Smart Mesh Router disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:06.019838: Network Topology Analyzer disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:06.021062: Cleared all connection quality monitoring data
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:06.022467: Connection Quality Monitor disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh networking service disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Mesh networking service disposed
INFO: 2025-11-11 06:05:06.023951: Mesh networking service disposed
00:15 +205: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests Restore non-existent archive fails gracefully
âœ… Database reset complete. Tables: 21
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +205: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:06.029297: Database deleted
00:15 +206: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +207: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:06.039310: Database deleted
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
INFO: 2025-11-11 06:05:06.041043: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
INFO: 2025-11-11 06:05:06.042461: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing mesh networking service...
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Initializing mesh networking service...
INFO: 2025-11-11 06:05:06.043444: Initializing mesh networking service...
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Node ID: test_node_a_1762..., Demo mode: true
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Node ID: test_node_a_1762..., Demo mode: true
INFO: 2025-11-11 06:05:06.044199: Node ID: test_node_a_1762..., Demo mode: true
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”— Using AppCore's shared message queue for mesh networking
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”— Using AppCore's shared message queue for mesh networking
INFO: 2025-11-11 06:05:06.045491: ðŸ”— Using AppCore's shared message queue for mesh networking
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Connected to shared message queue with 0 pending messages
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Connected to shared message queue with 0 pending messages
INFO: 2025-11-11 06:05:06.046401: âœ… Connected to shared message queue with 0 pending messages
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
INFO: 2025-11-11 06:05:06.047575: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Queue callbacks reconfigured for mesh networking
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Queue callbacks reconfigured for mesh networking
INFO: 2025-11-11 06:05:06.048774: âœ… Queue callbacks reconfigured for mesh networking
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:06.050737: Loaded spam prevention data
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:06.052104: SpamPreventionManager initialized
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Smart Mesh Router for node test_nod...
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Initializing Smart Mesh Router for node test_nod...
INFO: 2025-11-11 06:05:06.054478: Initializing Smart Mesh Router for node test_nod...
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Network Topology Analyzer
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Initializing Network Topology Analyzer
INFO: 2025-11-11 06:05:06.055777: Initializing Network Topology Analyzer
00:15 +207: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer initialized
00:15 +207: /home/abubakar/dev/pak_connect/test/relay_phase3_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +208: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer initialized
INFO: 2025-11-11 06:05:06.056855: Network Topology Analyzer initialized
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Connection Quality Monitor
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Initializing Connection Quality Monitor
INFO: 2025-11-11 06:05:06.058053: Initializing Connection Quality Monitor
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor initialized
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor initialized
INFO: 2025-11-11 06:05:06.058885: Connection Quality Monitor initialized
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart Mesh Router initialized (demo: true)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] âœ… Smart Mesh Router initialized (demo: true)
INFO: 2025-11-11 06:05:06.059739: âœ… Smart Mesh Router initialized (demo: true)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart routing components initialized
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Smart routing components initialized
INFO: 2025-11-11 06:05:06.060752: âœ… Smart routing components initialized
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:06.062169: ðŸ“¡ RelayConfigManager initialized:
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:06.063194:    - Relay enabled: true
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:06.064019:    - Max relay hops: 10
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:06.064629:    - Battery threshold: 20%
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:06.066148: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:06.067328: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Message Sending Tests should send direct message when recipient is connected
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: true | Relay: ON | Network: 0 nodes
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Queue sync manager initialized for node: test_node_a_1762...
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [QueueSyncManager] Queue sync manager initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:06.069264: Queue sync manager initialized for node: test_node_a_1762...
00:15 +208: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Core mesh components initialized with smart routing
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Core mesh components initialized with smart routing
INFO: 2025-11-11 06:05:06.070206: Core mesh components initialized with smart routing
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Message Sending Tests should send direct message when recipient is connected
ðŸ”§ INIT DIAGNOSTIC: Node ID length: 25
ðŸ”§ INIT DEBUG: Setting current node ID to: test_node_a_1762...
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:06.073065: Loaded spam prevention data
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:06.074527: SpamPreventionManager initialized
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:06.075798: ðŸ“¡ RelayConfigManager initialized:
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:06.076787:    - Relay enabled: true
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:06.077747:    - Max relay hops: 10
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:06.078844:    - Battery threshold: 20%
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:06.079826: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:06.080798: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Message Sending Tests should send direct message when recipient is connected
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh relay system initialized for node: test_node_a_1762...
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [BLEMessageHandler] Mesh relay system initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:06.082343: Mesh relay system initialized for node: test_node_a_1762...
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: BLE integration set up
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] BLE integration set up
INFO: 2025-11-11 06:05:06.083635: BLE integration set up
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… BLE integration set up successfully
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… BLE integration set up successfully
INFO: 2025-11-11 06:05:06.085335: âœ… BLE integration set up successfully
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Setting up demo capabilities for FYP demonstration
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Setting up demo capabilities for FYP demonstration
INFO: 2025-11-11 06:05:06.086567: Setting up demo capabilities for FYP demonstration
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Broadcasting mesh status with 0 queue messages
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Broadcasting mesh status with 0 queue messages
FINE: 2025-11-11 06:05:06.088199: Broadcasting mesh status with 0 queue messages
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Mesh networking service initialized successfully
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Mesh networking service initialized successfully
INFO: 2025-11-11 06:05:06.089513: âœ… Mesh networking service initialized successfully
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mock: Simulating direct connection to test_node_c_1762823106041
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingIntegrationTest] Mock: Simulating direct connection to test_node_c_1762823106041
INFO: 2025-11-11 06:05:06.092618: Mock: Simulating direct connection to test_node_c_1762823106041
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Sending mesh message to test_nod... (demo: true)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Sending mesh message to test_nod... (demo: true)
INFO: 2025-11-11 06:05:06.094834: Sending mesh message to test_nod... (demo: true)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ†” CHAT ID GENERATED: test_node_c_1762... (session-specific)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ChatUtils] ðŸ†” CHAT ID GENERATED: test_node_c_1762... (session-specific)
INFO: 2025-11-11 06:05:06.096966: ðŸ†” CHAT ID GENERATED: test_node_c_1762... (session-specific)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Session isolation: ephemeral ID (pre-pairing) or persistent key (post-pairing)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ChatUtils] âœ… Session isolation: ephemeral ID (pre-pairing) or persistent key (post-pairing)
INFO: 2025-11-11 06:05:06.098175: âœ… Session isolation: ephemeral ID (pre-pairing) or persistent key (post-pairing)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸŒ DEVICE CONNECTED: test_nod... - checking queued messages
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelay] ðŸŒ DEVICE CONNECTED: test_nod... - checking queued messages
INFO: 2025-11-11 06:05:06.110436: ðŸŒ DEVICE CONNECTED: test_nod... - checking queued messages
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection online - attempting delivery of 0 queued messages (direct: 0, relay: 0)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Connection online - attempting delivery of 0 queued messages (direct: 0, relay: 0)
INFO: 2025-11-11 06:05:06.113137: Connection online - attempting delivery of 0 queued messages (direct: 0, relay: 0)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: â„¹ï¸ No queued messages: No pending messages for test_nod...
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshRelay] â„¹ï¸ No queued messages: No pending messages for test_nod...
FINE: 2025-11-11 06:05:06.118549: â„¹ï¸ No queued messages: No pending messages for test_nod...
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Starting queue sync with test_nod...
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Starting queue sync with test_nod...
INFO: 2025-11-11 06:05:06.122364: ðŸ”„ Starting queue sync with test_nod...
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Calculated queue hash: e3b0c44298fc1c14... (0 messages, 0 deleted)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [OfflineMessageQueue] Calculated queue hash: e3b0c44298fc1c14... (0 messages, 0 deleted)
FINE: 2025-11-11 06:05:06.127474: Calculated queue hash: e3b0c44298fc1c14... (0 messages, 0 deleted)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Our queue hash: e3b0c44298fc1c14... (0 messages)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Our queue hash: e3b0c44298fc1c14... (0 messages)
INFO: 2025-11-11 06:05:06.131275: ðŸ”„ Our queue hash: e3b0c44298fc1c14... (0 messages)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Sending queue sync to test_nod... (0 ids)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Sending queue sync to test_nod... (0 ids)
INFO: 2025-11-11 06:05:06.139138: ðŸ”„ Sending queue sync to test_nod... (0 ids)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Handling sync request from test_node_c_1762...
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [QueueSyncManager] Handling sync request from test_node_c_1762...
INFO: 2025-11-11 06:05:06.143879: Handling sync request from test_node_c_1762...
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Queues already synchronized with test_node_c_1762823106041
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [QueueSyncManager] Queues already synchronized with test_node_c_1762823106041
INFO: 2025-11-11 06:05:06.146156: Queues already synchronized with test_node_c_1762823106041
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Generated secure message ID: 2.1.d350af1c2dba86a3... (nonce: 1)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MessageSecurity] Generated secure message ID: 2.1.d350af1c2dba86a3... (nonce: 1)
INFO: 2025-11-11 06:05:06.150748: Generated secure message ID: 2.1.d350af1c2dba86a3... (nonce: 1)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Inserted into direct queue at index 0 (queue size: 1)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [OfflineMessageQueue] Inserted into direct queue at index 0 (queue size: 1)
FINE: 2025-11-11 06:05:06.154388: Inserted into direct queue at index 0 (queue size: 1)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: âœ… Using cached encryption key (skipped secure storage read)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [DatabaseEncryption] âœ… Using cached encryption key (skipped secure storage read)
FINE: 2025-11-11 06:05:06.156874: âœ… Using cached encryption key (skipped secure storage read)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823103866.db (factory: _SqfliteDatabaseFactoryImpl)
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823103866.db (factory: _SqfliteDatabaseFactoryImpl)
INFO: 2025-11-11 06:05:06.158091: Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823103866.db (factory: _SqfliteDatabaseFactoryImpl)
00:15 +208: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests Get all archived chats
âœ… Database reset complete. Tables: 21
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: WAL mode set, journal_mode: wal
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] WAL mode set, journal_mode: wal
INFO: 2025-11-11 06:05:06.178820: WAL mode set, journal_mode: wal
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Database configured with foreign keys and optimizations
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Database configured with foreign keys and optimizations
INFO: 2025-11-11 06:05:06.182113: Database configured with foreign keys and optimizations
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Creating database schema v9...
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Creating database schema v9...
INFO: 2025-11-11 06:05:06.188367: Creating database schema v9...
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Database schema created successfully with 17 core tables + FTS5
00:15 +208: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] âœ… Database schema created successfully with 17 core tables + FTS5
INFO: 2025-11-11 06:05:06.238283: âœ… Database schema created successfully with 17 core tables + FTS5
00:15 +209: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Message queued: 2.1.d350af1c2dba...
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Message queued: 2.1.d350af1c2dba...
FINE: 2025-11-11 06:05:06.274683: Message queued: 2.1.d350af1c2dba...
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Broadcasting mesh status with 1 queue messages
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Broadcasting mesh status with 1 queue messages
FINE: 2025-11-11 06:05:06.276480: Broadcasting mesh status with 1 queue messages
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Broadcasting mesh status with 1 queue messages
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Broadcasting mesh status with 1 queue messages
FINE: 2025-11-11 06:05:06.279096: Broadcasting mesh status with 1 queue messages
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Message queued [direct]: 2.1.d350af1c2dba... (priority: normal, peer: 1/100)
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Message queued [direct]: 2.1.d350af1c2dba... (priority: normal, peer: 1/100)
INFO: 2025-11-11 06:05:06.280279: Message queued [direct]: 2.1.d350af1c2dba... (priority: normal, peer: 1/100)
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Message queued for direct delivery: 2.1.d350af1c2dba...
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Message queued for direct delivery: 2.1.d350af1c2dba...
INFO: 2025-11-11 06:05:06.284132: Message queued for direct delivery: 2.1.d350af1c2dba...
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:06.288591: SpamPreventionManager disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:06.290031: SpamPreventionManager disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Offline message queue disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Offline message queue disposed
INFO: 2025-11-11 06:05:06.291078: Offline message queue disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:06.292179: Network Topology Analyzer disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:06.293268: Cleared all connection quality monitoring data
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:06.294433: Connection Quality Monitor disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Route cache cleared
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RouteCalculator] Route cache cleared
INFO: 2025-11-11 06:05:06.295533: Route cache cleared
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:06.296522: Cleared all connection quality monitoring data
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router state cleared
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router state cleared
INFO: 2025-11-11 06:05:06.297387: Smart Mesh Router state cleared
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router disposed
INFO: 2025-11-11 06:05:06.298552: Smart Mesh Router disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:06.300008: Network Topology Analyzer disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:06.300917: Cleared all connection quality monitoring data
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:06.302190: Connection Quality Monitor disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh networking service disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Mesh networking service disposed
INFO: 2025-11-11 06:05:06.303238: Mesh networking service disposed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Attempting delivery: 2.1.d350af1c2dba... (attempt 1/5)
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [OfflineMessageQueue] Attempting delivery: 2.1.d350af1c2dba... (attempt 1/5)
FINE: 2025-11-11 06:05:06.308368: Attempting delivery: 2.1.d350af1c2dba... (attempt 1/5)
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Send message request: 2.1.d350af1c2dba...
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Send message request: 2.1.d350af1c2dba...
FINE: 2025-11-11 06:05:06.312466: Send message request: 2.1.d350af1c2dba...
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
SEVERE: Message not found in queue: 2.1.d350af1c2dba...
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âŒ [MeshNetworkingService] Message not found in queue: 2.1.d350af1c2dba...
SEVERE: 2025-11-11 06:05:06.313740: Message not found in queue: 2.1.d350af1c2dba...
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Failed to save message 2.1.d350af1c2dba...: DatabaseException(error database_closed)
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [OfflineMessageQueue] Failed to save message 2.1.d350af1c2dba...: DatabaseException(error database_closed)
WARNING: 2025-11-11 06:05:06.317086: Failed to save message 2.1.d350af1c2dba...: DatabaseException(error database_closed)
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Message sent, awaiting ACK: 2.1.d350af1c2dba...
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Message sent, awaiting ACK: 2.1.d350af1c2dba...
INFO: 2025-11-11 06:05:06.318612: Message sent, awaiting ACK: 2.1.d350af1c2dba...
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Database closed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Database closed
INFO: 2025-11-11 06:05:06.319838: Database closed
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +209: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:06.323920: Database deleted
00:15 +210: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:06.332850: Database deleted
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
INFO: 2025-11-11 06:05:06.334304: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
INFO: 2025-11-11 06:05:06.335370: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing mesh networking service...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Initializing mesh networking service...
INFO: 2025-11-11 06:05:06.336301: Initializing mesh networking service...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Node ID: test_node_a_1762..., Demo mode: true
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Node ID: test_node_a_1762..., Demo mode: true
INFO: 2025-11-11 06:05:06.337577: Node ID: test_node_a_1762..., Demo mode: true
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”— Using AppCore's shared message queue for mesh networking
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”— Using AppCore's shared message queue for mesh networking
INFO: 2025-11-11 06:05:06.338376: ðŸ”— Using AppCore's shared message queue for mesh networking
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Connected to shared message queue with 0 pending messages
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Connected to shared message queue with 0 pending messages
INFO: 2025-11-11 06:05:06.339274: âœ… Connected to shared message queue with 0 pending messages
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
INFO: 2025-11-11 06:05:06.340666: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Queue callbacks reconfigured for mesh networking
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Queue callbacks reconfigured for mesh networking
INFO: 2025-11-11 06:05:06.341845: âœ… Queue callbacks reconfigured for mesh networking
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:06.343371: Loaded spam prevention data
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:06.344694: SpamPreventionManager initialized
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Smart Mesh Router for node test_nod...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Initializing Smart Mesh Router for node test_nod...
INFO: 2025-11-11 06:05:06.345843: Initializing Smart Mesh Router for node test_nod...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Network Topology Analyzer
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Initializing Network Topology Analyzer
INFO: 2025-11-11 06:05:06.346933: Initializing Network Topology Analyzer
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer initialized
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer initialized
INFO: 2025-11-11 06:05:06.348093: Network Topology Analyzer initialized
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Connection Quality Monitor
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Initializing Connection Quality Monitor
INFO: 2025-11-11 06:05:06.349963: Initializing Connection Quality Monitor
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor initialized
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor initialized
INFO: 2025-11-11 06:05:06.351541: Connection Quality Monitor initialized
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart Mesh Router initialized (demo: true)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] âœ… Smart Mesh Router initialized (demo: true)
INFO: 2025-11-11 06:05:06.352902: âœ… Smart Mesh Router initialized (demo: true)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart routing components initialized
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Smart routing components initialized
INFO: 2025-11-11 06:05:06.353944: âœ… Smart routing components initialized
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:06.354971: ðŸ“¡ RelayConfigManager initialized:
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:06.355833:    - Relay enabled: true
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:06.356467:    - Max relay hops: 10
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:06.356859:    - Battery threshold: 20%
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:06.357904: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:06.358942: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Message Sending Tests should send relay message when recipient not directly connected
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: true | Relay: ON | Network: 0 nodes
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Queue sync manager initialized for node: test_node_a_1762...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [QueueSyncManager] Queue sync manager initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:06.360336: Queue sync manager initialized for node: test_node_a_1762...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Core mesh components initialized with smart routing
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Core mesh components initialized with smart routing
INFO: 2025-11-11 06:05:06.361274: Core mesh components initialized with smart routing
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Message Sending Tests should send relay message when recipient not directly connected
ðŸ”§ INIT DIAGNOSTIC: Node ID length: 25
ðŸ”§ INIT DEBUG: Setting current node ID to: test_node_a_1762...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:06.363195: Loaded spam prevention data
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:06.364368: SpamPreventionManager initialized
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:06.366060: ðŸ“¡ RelayConfigManager initialized:
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:06.367210:    - Relay enabled: true
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:06.368734:    - Max relay hops: 10
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:06.370649:    - Battery threshold: 20%
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:06.371947: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:06.372952: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Message Sending Tests should send relay message when recipient not directly connected
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh relay system initialized for node: test_node_a_1762...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [BLEMessageHandler] Mesh relay system initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:06.374222: Mesh relay system initialized for node: test_node_a_1762...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: BLE integration set up
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] BLE integration set up
INFO: 2025-11-11 06:05:06.375450: BLE integration set up
00:15 +210: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests Filter archived chats by contact name
âœ… Database reset complete. Tables: 21
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… BLE integration set up successfully
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… BLE integration set up successfully
INFO: 2025-11-11 06:05:06.376453: âœ… BLE integration set up successfully
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Setting up demo capabilities for FYP demonstration
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Setting up demo capabilities for FYP demonstration
INFO: 2025-11-11 06:05:06.378038: Setting up demo capabilities for FYP demonstration
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Broadcasting mesh status with 1 queue messages
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Broadcasting mesh status with 1 queue messages
FINE: 2025-11-11 06:05:06.379255: Broadcasting mesh status with 1 queue messages
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Mesh networking service initialized successfully
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Mesh networking service initialized successfully
INFO: 2025-11-11 06:05:06.380690: âœ… Mesh networking service initialized successfully
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mock: Simulating direct connection to test_node_b_1762823106334
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingIntegrationTest] Mock: Simulating direct connection to test_node_b_1762823106334
INFO: 2025-11-11 06:05:06.382970: Mock: Simulating direct connection to test_node_b_1762823106334
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Sending mesh message to test_nod... (demo: true)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Sending mesh message to test_nod... (demo: true)
INFO: 2025-11-11 06:05:06.384835: Sending mesh message to test_nod... (demo: true)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ†” CHAT ID GENERATED: test_node_c_1762... (session-specific)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ChatUtils] ðŸ†” CHAT ID GENERATED: test_node_c_1762... (session-specific)
INFO: 2025-11-11 06:05:06.386056: ðŸ†” CHAT ID GENERATED: test_node_c_1762... (session-specific)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Session isolation: ephemeral ID (pre-pairing) or persistent key (post-pairing)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ChatUtils] âœ… Session isolation: ephemeral ID (pre-pairing) or persistent key (post-pairing)
INFO: 2025-11-11 06:05:06.387362: âœ… Session isolation: ephemeral ID (pre-pairing) or persistent key (post-pairing)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸŒ DEVICE CONNECTED: test_nod... - checking queued messages
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelay] ðŸŒ DEVICE CONNECTED: test_nod... - checking queued messages
INFO: 2025-11-11 06:05:06.393671: ðŸŒ DEVICE CONNECTED: test_nod... - checking queued messages
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: â„¹ï¸ No queued messages: No pending messages for test_nod...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshRelay] â„¹ï¸ No queued messages: No pending messages for test_nod...
FINE: 2025-11-11 06:05:06.394966: â„¹ï¸ No queued messages: No pending messages for test_nod...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ§  Using smart router for message routing
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ§  Using smart router for message routing
INFO: 2025-11-11 06:05:06.396327: ðŸ§  Using smart router for message routing
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ¤” Determining route to test_nod... via 1 hops
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] ðŸ¤” Determining route to test_nod... via 1 hops
INFO: 2025-11-11 06:05:06.399756: ðŸ¤” Determining route to test_nod... via 1 hops
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Starting queue sync with test_nod...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Starting queue sync with test_nod...
INFO: 2025-11-11 06:05:06.403313: ðŸ”„ Starting queue sync with test_nod...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Calculated queue hash: f32f493d51604f01... (1 messages, 0 deleted)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [OfflineMessageQueue] Calculated queue hash: f32f493d51604f01... (1 messages, 0 deleted)
FINE: 2025-11-11 06:05:06.406863: Calculated queue hash: f32f493d51604f01... (1 messages, 0 deleted)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Our queue hash: f32f493d51604f01... (1 messages)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Our queue hash: f32f493d51604f01... (1 messages)
INFO: 2025-11-11 06:05:06.409201: ðŸ”„ Our queue hash: f32f493d51604f01... (1 messages)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Sending queue sync to test_nod... (1 ids)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Sending queue sync to test_nod... (1 ids)
INFO: 2025-11-11 06:05:06.411378: ðŸ”„ Sending queue sync to test_nod... (1 ids)
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Handling sync request from test_node_b_1762...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [QueueSyncManager] Handling sync request from test_node_b_1762...
INFO: 2025-11-11 06:05:06.412985: Handling sync request from test_node_b_1762...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: No queued payloads to send back to test_node_b_1762 during sync
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [QueueSyncManager] No queued payloads to send back to test_node_b_1762 during sync
FINE: 2025-11-11 06:05:06.417371: No queued payloads to send back to test_node_b_1762 during sync
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: No messages to sync - queues already synchronized with test_node_b_1762823106334
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [QueueSyncManager] No messages to sync - queues already synchronized with test_node_b_1762823106334
INFO: 2025-11-11 06:05:06.419095: No messages to sync - queues already synchronized with test_node_b_1762823106334
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Adding connection: test_nod... -> test_nod...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Adding connection: test_nod... -> test_nod...
INFO: 2025-11-11 06:05:06.421885: Adding connection: test_nod... -> test_nod...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Calculating routes from test_nod... to test_nod...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RouteCalculator] Calculating routes from test_nod... to test_nod...
INFO: 2025-11-11 06:05:06.427945: Calculating routes from test_nod... to test_nod...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Found 0 multi-hop routes
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RouteCalculator] Found 0 multi-hop routes
INFO: 2025-11-11 06:05:06.432503: Found 0 multi-hop routes
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Calculated 0 routes
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RouteCalculator] Calculated 0 routes
INFO: 2025-11-11 06:05:06.436253: Calculated 0 routes
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: âŒ No routes found to test_nod...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [SmartMeshRouter] âŒ No routes found to test_nod...
WARNING: 2025-11-11 06:05:06.437770: âŒ No routes found to test_nod...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: âš ï¸ Smart router failed: No route available to destination - using fallback
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [MeshNetworkingService] âš ï¸ Smart router failed: No route available to destination - using fallback
WARNING: 2025-11-11 06:05:06.440142: âš ï¸ Smart router failed: No route available to destination - using fallback
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Created outgoing relay for 1762823106392... to test_nod...
00:15 +210: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] Created outgoing relay for 1762823106392... to test_nod...
INFO: 2025-11-11 06:05:06.449883: Created outgoing relay for 1762823106392... to test_nod...
00:15 +211: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should cleanup old deleted message IDs
00:15 +211: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Generated secure message ID: 2.1.fc909530978608b3... (nonce: 1)
00:15 +211: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MessageSecurity] Generated secure message ID: 2.1.fc909530978608b3... (nonce: 1)
INFO: 2025-11-11 06:05:06.455788: Generated secure message ID: 2.1.fc909530978608b3... (nonce: 1)
00:15 +211: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Inserted into direct queue at index 0 (queue size: 2)
00:15 +211: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [OfflineMessageQueue] Inserted into direct queue at index 0 (queue size: 2)
FINE: 2025-11-11 06:05:06.457375: Inserted into direct queue at index 0 (queue size: 2)
00:15 +211: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: âœ… Using cached encryption key (skipped secure storage read)
00:15 +211: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [DatabaseEncryption] âœ… Using cached encryption key (skipped secure storage read)
FINE: 2025-11-11 06:05:06.458828: âœ… Using cached encryption key (skipped secure storage read)
00:15 +211: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823103866.db (factory: _SqfliteDatabaseFactoryImpl)
00:15 +211: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823103866.db (factory: _SqfliteDatabaseFactoryImpl)
INFO: 2025-11-11 06:05:06.460101: Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823103866.db (factory: _SqfliteDatabaseFactoryImpl)
00:15 +211: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: WAL mode set, journal_mode: wal
00:15 +211: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] WAL mode set, journal_mode: wal
INFO: 2025-11-11 06:05:06.479669: WAL mode set, journal_mode: wal
00:15 +211: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Database configured with foreign keys and optimizations
00:15 +211: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Database configured with foreign keys and optimizations
INFO: 2025-11-11 06:05:06.482573: Database configured with foreign keys and optimizations
00:15 +211: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Creating database schema v9...
00:15 +211: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Creating database schema v9...
INFO: 2025-11-11 06:05:06.488371: Creating database schema v9...
00:15 +211: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:15 +212: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Database schema created successfully with 17 core tables + FTS5
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] âœ… Database schema created successfully with 17 core tables + FTS5
INFO: 2025-11-11 06:05:06.538180: âœ… Database schema created successfully with 17 core tables + FTS5
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Message queued: 2.1.fc9095309786...
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Message queued: 2.1.fc9095309786...
FINE: 2025-11-11 06:05:06.560715: Message queued: 2.1.fc9095309786...
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Broadcasting mesh status with 2 queue messages
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Broadcasting mesh status with 2 queue messages
FINE: 2025-11-11 06:05:06.561810: Broadcasting mesh status with 2 queue messages
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Broadcasting mesh status with 2 queue messages
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Broadcasting mesh status with 2 queue messages
FINE: 2025-11-11 06:05:06.562971: Broadcasting mesh status with 2 queue messages
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Message queued [direct]: 2.1.fc9095309786... (priority: normal, peer: 1/100)
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Message queued [direct]: 2.1.fc9095309786... (priority: normal, peer: 1/100)
INFO: 2025-11-11 06:05:06.564205: Message queued [direct]: 2.1.fc9095309786... (priority: normal, peer: 1/100)
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Message sent to test_nod...: 1762823106392
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [ConnectionQualityMonitor] Message sent to test_nod...: 1762823106392
FINE: 2025-11-11 06:05:06.566493: Message sent to test_nod...: 1762823106392
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Message queued for smart mesh relay: 1762823106392... -> test_nod... (score: 0.50)
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Message queued for smart mesh relay: 1762823106392... -> test_nod... (score: 0.50)
INFO: 2025-11-11 06:05:06.568434: Message queued for smart mesh relay: 1762823106392... -> test_nod... (score: 0.50)
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:06.573181: SpamPreventionManager disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:06.574326: SpamPreventionManager disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Offline message queue disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Offline message queue disposed
INFO: 2025-11-11 06:05:06.575718: Offline message queue disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:06.577207: Network Topology Analyzer disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:06.578770: Cleared all connection quality monitoring data
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:06.579847: Connection Quality Monitor disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Route cache cleared
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RouteCalculator] Route cache cleared
INFO: 2025-11-11 06:05:06.581082: Route cache cleared
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:06.582271: Cleared all connection quality monitoring data
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router state cleared
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router state cleared
INFO: 2025-11-11 06:05:06.583369: Smart Mesh Router state cleared
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router disposed
INFO: 2025-11-11 06:05:06.584832: Smart Mesh Router disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:06.586377: Network Topology Analyzer disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:06.587247: Cleared all connection quality monitoring data
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:06.588267: Connection Quality Monitor disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh networking service disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Mesh networking service disposed
INFO: 2025-11-11 06:05:06.589552: Mesh networking service disposed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Attempting delivery: 2.1.fc9095309786... (attempt 1/5)
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [OfflineMessageQueue] Attempting delivery: 2.1.fc9095309786... (attempt 1/5)
FINE: 2025-11-11 06:05:06.592235: Attempting delivery: 2.1.fc9095309786... (attempt 1/5)
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Send message request: 2.1.fc9095309786...
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Send message request: 2.1.fc9095309786...
FINE: 2025-11-11 06:05:06.593361: Send message request: 2.1.fc9095309786...
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
SEVERE: Message not found in queue: 2.1.fc9095309786...
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âŒ [MeshNetworkingService] Message not found in queue: 2.1.fc9095309786...
SEVERE: 2025-11-11 06:05:06.594395: Message not found in queue: 2.1.fc9095309786...
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Failed to save message 2.1.fc9095309786...: DatabaseException(error database_closed)
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [OfflineMessageQueue] Failed to save message 2.1.fc9095309786...: DatabaseException(error database_closed)
WARNING: 2025-11-11 06:05:06.596146: Failed to save message 2.1.fc9095309786...: DatabaseException(error database_closed)
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Message sent, awaiting ACK: 2.1.fc9095309786...
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Message sent, awaiting ACK: 2.1.fc9095309786...
INFO: 2025-11-11 06:05:06.598014: Message sent, awaiting ACK: 2.1.fc9095309786...
00:16 +212: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests Filter archived chats by date range
âœ… Database reset complete. Tables: 21
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Database closed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Database closed
INFO: 2025-11-11 06:05:06.600789: Database closed
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:16 +212: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:06.605934: Database deleted
00:16 +213: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:06.614647: Database deleted
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
INFO: 2025-11-11 06:05:06.616723: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
INFO: 2025-11-11 06:05:06.618105: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing mesh networking service...
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Initializing mesh networking service...
INFO: 2025-11-11 06:05:06.619357: Initializing mesh networking service...
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Node ID: test_node_a_1762..., Demo mode: true
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Node ID: test_node_a_1762..., Demo mode: true
INFO: 2025-11-11 06:05:06.620614: Node ID: test_node_a_1762..., Demo mode: true
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”— Using AppCore's shared message queue for mesh networking
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”— Using AppCore's shared message queue for mesh networking
INFO: 2025-11-11 06:05:06.622: ðŸ”— Using AppCore's shared message queue for mesh networking
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Connected to shared message queue with 0 pending messages
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Connected to shared message queue with 0 pending messages
INFO: 2025-11-11 06:05:06.623483: âœ… Connected to shared message queue with 0 pending messages
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
INFO: 2025-11-11 06:05:06.624434: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Queue callbacks reconfigured for mesh networking
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Queue callbacks reconfigured for mesh networking
INFO: 2025-11-11 06:05:06.625587: âœ… Queue callbacks reconfigured for mesh networking
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:06.627486: Loaded spam prevention data
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:06.628556: SpamPreventionManager initialized
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Smart Mesh Router for node test_nod...
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Initializing Smart Mesh Router for node test_nod...
INFO: 2025-11-11 06:05:06.629330: Initializing Smart Mesh Router for node test_nod...
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Network Topology Analyzer
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Initializing Network Topology Analyzer
INFO: 2025-11-11 06:05:06.629956: Initializing Network Topology Analyzer
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer initialized
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer initialized
INFO: 2025-11-11 06:05:06.630996: Network Topology Analyzer initialized
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Connection Quality Monitor
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Initializing Connection Quality Monitor
INFO: 2025-11-11 06:05:06.633060: Initializing Connection Quality Monitor
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor initialized
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor initialized
INFO: 2025-11-11 06:05:06.634195: Connection Quality Monitor initialized
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart Mesh Router initialized (demo: true)
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] âœ… Smart Mesh Router initialized (demo: true)
INFO: 2025-11-11 06:05:06.635308: âœ… Smart Mesh Router initialized (demo: true)
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart routing components initialized
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Smart routing components initialized
INFO: 2025-11-11 06:05:06.636172: âœ… Smart routing components initialized
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:06.637353: ðŸ“¡ RelayConfigManager initialized:
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:06.638274:    - Relay enabled: true
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:06.639070:    - Max relay hops: 10
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:06.639694:    - Battery threshold: 20%
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:06.640383: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:06.641165: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Integration Tests should integrate with ContactRepository
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: true | Relay: ON | Network: 0 nodes
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Queue sync manager initialized for node: test_node_a_1762...
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [QueueSyncManager] Queue sync manager initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:06.642303: Queue sync manager initialized for node: test_node_a_1762...
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Core mesh components initialized with smart routing
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Core mesh components initialized with smart routing
INFO: 2025-11-11 06:05:06.643078: Core mesh components initialized with smart routing
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Integration Tests should integrate with ContactRepository
ðŸ”§ INIT DIAGNOSTIC: Node ID length: 25
ðŸ”§ INIT DEBUG: Setting current node ID to: test_node_a_1762...
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:06.644975: Loaded spam prevention data
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:06.646021: SpamPreventionManager initialized
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:06.647465: ðŸ“¡ RelayConfigManager initialized:
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:06.648950:    - Relay enabled: true
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:06.650154:    - Max relay hops: 10
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:06.651269:    - Battery threshold: 20%
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:06.652230: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:06.653547: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Integration Tests should integrate with ContactRepository
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh relay system initialized for node: test_node_a_1762...
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [BLEMessageHandler] Mesh relay system initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:06.654988: Mesh relay system initialized for node: test_node_a_1762...
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: BLE integration set up
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] BLE integration set up
INFO: 2025-11-11 06:05:06.656314: BLE integration set up
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… BLE integration set up successfully
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… BLE integration set up successfully
INFO: 2025-11-11 06:05:06.657375: âœ… BLE integration set up successfully
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Setting up demo capabilities for FYP demonstration
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Setting up demo capabilities for FYP demonstration
INFO: 2025-11-11 06:05:06.658329: Setting up demo capabilities for FYP demonstration
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Broadcasting mesh status with 2 queue messages
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Broadcasting mesh status with 2 queue messages
FINE: 2025-11-11 06:05:06.663325: Broadcasting mesh status with 2 queue messages
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Mesh networking service initialized successfully
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Mesh networking service initialized successfully
INFO: 2025-11-11 06:05:06.665103: âœ… Mesh networking service initialized successfully
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: âœ… Using cached encryption key (skipped secure storage read)
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [DatabaseEncryption] âœ… Using cached encryption key (skipped secure storage read)
FINE: 2025-11-11 06:05:06.679654: âœ… Using cached encryption key (skipped secure storage read)
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823103866.db (factory: _SqfliteDatabaseFactoryImpl)
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823103866.db (factory: _SqfliteDatabaseFactoryImpl)
00:16 +213: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Queue Hash Synchronization System Tests Integration and Edge Case Tests should handle sync timeout scenarios
âœ… Database reset complete. Tables: 21
00:16 +213: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
INFO: 2025-11-11 06:05:06.681404: Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823103866.db (factory: _SqfliteDatabaseFactoryImpl)
00:16 +213: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Sync transport not configured - cannot sync with test_node_2_public_key_12345678901234567890
WARNING: Database deleted
00:16 +214: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +214: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: WAL mode set, journal_mode: wal
00:16 +214: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] WAL mode set, journal_mode: wal
INFO: 2025-11-11 06:05:06.701414: WAL mode set, journal_mode: wal
00:16 +214: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Database configured with foreign keys and optimizations
00:16 +214: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Database configured with foreign keys and optimizations
INFO: 2025-11-11 06:05:06.703962: Database configured with foreign keys and optimizations
00:16 +214: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:16 +214: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Creating database schema v9...
00:16 +214: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Creating database schema v9...
INFO: 2025-11-11 06:05:05.919551: Creating database schema v9...
00:16 +214: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Database schema created successfully with 17 core tables + FTS5
00:16 +214: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] âœ… Database schema created successfully with 17 core tables + FTS5
INFO: 2025-11-11 06:05:05.963269: âœ… Database schema created successfully with 17 core tables + FTS5
00:16 +215: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:06.016967: SpamPreventionManager disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:06.018452: SpamPreventionManager disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Offline message queue disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Offline message queue disposed
INFO: 2025-11-11 06:05:06.019515: Offline message queue disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:06.020817: Network Topology Analyzer disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:06.022399: Cleared all connection quality monitoring data
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:06.023239: Connection Quality Monitor disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Route cache cleared
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RouteCalculator] Route cache cleared
INFO: 2025-11-11 06:05:06.024343: Route cache cleared
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:06.025264: Cleared all connection quality monitoring data
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router state cleared
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router state cleared
INFO: 2025-11-11 06:05:06.026459: Smart Mesh Router state cleared
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router disposed
INFO: 2025-11-11 06:05:06.027449: Smart Mesh Router disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:06.028630: Network Topology Analyzer disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:06.029744: Cleared all connection quality monitoring data
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:06.030683: Connection Quality Monitor disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh networking service disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Mesh networking service disposed
INFO: 2025-11-11 06:05:06.031705: Mesh networking service disposed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Database closed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Database closed
INFO: 2025-11-11 06:05:06.044518: Database closed
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:16 +215: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:06.048671: Database deleted
00:16 +216: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:06.056457: Database deleted
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
INFO: 2025-11-11 06:05:06.057906: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
INFO: 2025-11-11 06:05:06.058982: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing mesh networking service...
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Initializing mesh networking service...
INFO: 2025-11-11 06:05:06.060137: Initializing mesh networking service...
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Node ID: test_node_a_1762..., Demo mode: true
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Node ID: test_node_a_1762..., Demo mode: true
INFO: 2025-11-11 06:05:06.061148: Node ID: test_node_a_1762..., Demo mode: true
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”— Using AppCore's shared message queue for mesh networking
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”— Using AppCore's shared message queue for mesh networking
INFO: 2025-11-11 06:05:06.062111: ðŸ”— Using AppCore's shared message queue for mesh networking
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Connected to shared message queue with 0 pending messages
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Connected to shared message queue with 0 pending messages
INFO: 2025-11-11 06:05:06.063641: âœ… Connected to shared message queue with 0 pending messages
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
INFO: 2025-11-11 06:05:06.064892: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Queue callbacks reconfigured for mesh networking
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Queue callbacks reconfigured for mesh networking
INFO: 2025-11-11 06:05:06.066174: âœ… Queue callbacks reconfigured for mesh networking
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:06.067972: Loaded spam prevention data
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:06.069072: SpamPreventionManager initialized
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Smart Mesh Router for node test_nod...
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Initializing Smart Mesh Router for node test_nod...
INFO: 2025-11-11 06:05:06.070268: Initializing Smart Mesh Router for node test_nod...
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Network Topology Analyzer
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Initializing Network Topology Analyzer
INFO: 2025-11-11 06:05:06.071262: Initializing Network Topology Analyzer
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer initialized
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer initialized
INFO: 2025-11-11 06:05:06.072266: Network Topology Analyzer initialized
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Connection Quality Monitor
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Initializing Connection Quality Monitor
INFO: 2025-11-11 06:05:06.073726: Initializing Connection Quality Monitor
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor initialized
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor initialized
INFO: 2025-11-11 06:05:06.074755: Connection Quality Monitor initialized
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart Mesh Router initialized (demo: true)
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] âœ… Smart Mesh Router initialized (demo: true)
INFO: 2025-11-11 06:05:06.076039: âœ… Smart Mesh Router initialized (demo: true)
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart routing components initialized
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Smart routing components initialized
INFO: 2025-11-11 06:05:06.076921: âœ… Smart routing components initialized
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:06.078273: ðŸ“¡ RelayConfigManager initialized:
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:06.079311:    - Relay enabled: true
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:06.080299:    - Max relay hops: 10
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:06.081403:    - Battery threshold: 20%
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:06.082111: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:06.083146: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Integration Tests should integrate with MessageRepository
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: true | Relay: ON | Network: 0 nodes
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Queue sync manager initialized for node: test_node_a_1762...
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [QueueSyncManager] Queue sync manager initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:06.084824: Queue sync manager initialized for node: test_node_a_1762...
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Core mesh components initialized with smart routing
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Core mesh components initialized with smart routing
INFO: 2025-11-11 06:05:06.086083: Core mesh components initialized with smart routing
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Integration Tests should integrate with MessageRepository
ðŸ”§ INIT DIAGNOSTIC: Node ID length: 25
ðŸ”§ INIT DEBUG: Setting current node ID to: test_node_a_1762...
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:06.088810: Loaded spam prevention data
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:04.616498: SpamPreventionManager initialized
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:04.617987: ðŸ“¡ RelayConfigManager initialized:
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:04.618926:    - Relay enabled: true
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:04.619838:    - Max relay hops: 10
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:04.620937:    - Battery threshold: 20%
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:04.622194: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:04.623361: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Integration Tests should integrate with MessageRepository
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh relay system initialized for node: test_node_a_1762...
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [BLEMessageHandler] Mesh relay system initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:04.624674: Mesh relay system initialized for node: test_node_a_1762...
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: BLE integration set up
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] BLE integration set up
INFO: 2025-11-11 06:05:04.626133: BLE integration set up
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… BLE integration set up successfully
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… BLE integration set up successfully
INFO: 2025-11-11 06:05:04.627480: âœ… BLE integration set up successfully
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Setting up demo capabilities for FYP demonstration
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Setting up demo capabilities for FYP demonstration
INFO: 2025-11-11 06:05:04.628739: Setting up demo capabilities for FYP demonstration
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Broadcasting mesh status with 2 queue messages
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Broadcasting mesh status with 2 queue messages
FINE: 2025-11-11 06:05:04.629758: Broadcasting mesh status with 2 queue messages
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Mesh networking service initialized successfully
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Mesh networking service initialized successfully
INFO: 2025-11-11 06:05:04.630912: âœ… Mesh networking service initialized successfully
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: âœ… Using cached encryption key (skipped secure storage read)
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [DatabaseEncryption] âœ… Using cached encryption key (skipped secure storage read)
FINE: 2025-11-11 06:05:04.634223: âœ… Using cached encryption key (skipped secure storage read)
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823103866.db (factory: _SqfliteDatabaseFactoryImpl)
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823103866.db (factory: _SqfliteDatabaseFactoryImpl)
INFO: 2025-11-11 06:05:04.635392: Initializing database at: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823103866.db (factory: _SqfliteDatabaseFactoryImpl)
00:16 +216: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests Sort archived chats by message count
âœ… Database reset complete. Tables: 21
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: WAL mode set, journal_mode: wal
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] WAL mode set, journal_mode: wal
INFO: 2025-11-11 06:05:04.656801: WAL mode set, journal_mode: wal
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Database configured with foreign keys and optimizations
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Database configured with foreign keys and optimizations
INFO: 2025-11-11 06:05:04.659069: Database configured with foreign keys and optimizations
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Creating database schema v9...
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Creating database schema v9...
INFO: 2025-11-11 06:05:04.663632: Creating database schema v9...
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Database schema created successfully with 17 core tables + FTS5
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] âœ… Database schema created successfully with 17 core tables + FTS5
INFO: 2025-11-11 06:05:04.711669: âœ… Database schema created successfully with 17 core tables + FTS5
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Created chat entry for: test_chat
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MessageRepository] âœ… Created chat entry for: test_chat
INFO: 2025-11-11 06:05:04.743079: âœ… Created chat entry for: test_chat
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: âœ… Saved message test_integration_msg
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MessageRepository] âœ… Saved message test_integration_msg
FINE: 2025-11-11 06:05:04.752083: âœ… Saved message test_integration_msg
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:04.760924: SpamPreventionManager disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:04.762398: SpamPreventionManager disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Offline message queue disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Offline message queue disposed
INFO: 2025-11-11 06:05:04.763495: Offline message queue disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:04.765548: Network Topology Analyzer disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:04.767074: Cleared all connection quality monitoring data
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:04.768308: Connection Quality Monitor disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Route cache cleared
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RouteCalculator] Route cache cleared
INFO: 2025-11-11 06:05:04.769733: Route cache cleared
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:04.771624: Cleared all connection quality monitoring data
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router state cleared
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router state cleared
INFO: 2025-11-11 06:05:04.772959: Smart Mesh Router state cleared
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router disposed
INFO: 2025-11-11 06:05:04.774307: Smart Mesh Router disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:04.775166: Network Topology Analyzer disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:04.776518: Cleared all connection quality monitoring data
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:04.777690: Connection Quality Monitor disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh networking service disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Mesh networking service disposed
INFO: 2025-11-11 06:05:04.779092: Mesh networking service disposed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Database closed
00:16 +216: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [DatabaseHelper] Database closed
INFO: 2025-11-11 06:05:04.791689: Database closed
00:16 +217: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +217: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:16 +217: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:04.795690: Database deleted
00:16 +218: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:04.806068: Database deleted
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
INFO: 2025-11-11 06:05:04.807889: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
INFO: 2025-11-11 06:05:04.809: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing mesh networking service...
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Initializing mesh networking service...
INFO: 2025-11-11 06:05:04.810247: Initializing mesh networking service...
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Node ID: test_node_a_1762..., Demo mode: true
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Node ID: test_node_a_1762..., Demo mode: true
INFO: 2025-11-11 06:05:04.811156: Node ID: test_node_a_1762..., Demo mode: true
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”— Using AppCore's shared message queue for mesh networking
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”— Using AppCore's shared message queue for mesh networking
INFO: 2025-11-11 06:05:04.812298: ðŸ”— Using AppCore's shared message queue for mesh networking
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Connected to shared message queue with 0 pending messages
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Connected to shared message queue with 0 pending messages
INFO: 2025-11-11 06:05:04.813270: âœ… Connected to shared message queue with 0 pending messages
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
INFO: 2025-11-11 06:05:04.813768: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Queue callbacks reconfigured for mesh networking
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Queue callbacks reconfigured for mesh networking
INFO: 2025-11-11 06:05:04.814721: âœ… Queue callbacks reconfigured for mesh networking
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:04.817540: Loaded spam prevention data
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:04.818991: SpamPreventionManager initialized
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Smart Mesh Router for node test_nod...
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Initializing Smart Mesh Router for node test_nod...
INFO: 2025-11-11 06:05:04.819911: Initializing Smart Mesh Router for node test_nod...
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Network Topology Analyzer
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Initializing Network Topology Analyzer
INFO: 2025-11-11 06:05:04.820579: Initializing Network Topology Analyzer
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer initialized
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer initialized
INFO: 2025-11-11 06:05:04.821694: Network Topology Analyzer initialized
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Connection Quality Monitor
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Initializing Connection Quality Monitor
INFO: 2025-11-11 06:05:04.822884: Initializing Connection Quality Monitor
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor initialized
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor initialized
INFO: 2025-11-11 06:05:04.824520: Connection Quality Monitor initialized
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart Mesh Router initialized (demo: true)
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] âœ… Smart Mesh Router initialized (demo: true)
INFO: 2025-11-11 06:05:04.827607: âœ… Smart Mesh Router initialized (demo: true)
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart routing components initialized
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Smart routing components initialized
INFO: 2025-11-11 06:05:04.828509: âœ… Smart routing components initialized
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:04.829721: ðŸ“¡ RelayConfigManager initialized:
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:04.830626:    - Relay enabled: true
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:04.831597:    - Max relay hops: 10
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:04.832210:    - Battery threshold: 20%
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:04.832572: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:04.833337: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Demo Utilities Tests should generate realistic demo messages
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: true | Relay: ON | Network: 0 nodes
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Queue sync manager initialized for node: test_node_a_1762...
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [QueueSyncManager] Queue sync manager initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:04.834403: Queue sync manager initialized for node: test_node_a_1762...
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Core mesh components initialized with smart routing
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Core mesh components initialized with smart routing
INFO: 2025-11-11 06:05:04.834890: Core mesh components initialized with smart routing
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Demo Utilities Tests should generate realistic demo messages
ðŸ”§ INIT DIAGNOSTIC: Node ID length: 25
ðŸ”§ INIT DEBUG: Setting current node ID to: test_node_a_1762...
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:04.836437: Loaded spam prevention data
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:04.837059: SpamPreventionManager initialized
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:04.837692: ðŸ“¡ RelayConfigManager initialized:
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:04.838327:    - Relay enabled: true
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:04.838669:    - Max relay hops: 10
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:04.839082:    - Battery threshold: 20%
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:04.839937: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:04.840964: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Demo Utilities Tests should generate realistic demo messages
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh relay system initialized for node: test_node_a_1762...
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [BLEMessageHandler] Mesh relay system initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:04.842178: Mesh relay system initialized for node: test_node_a_1762...
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: BLE integration set up
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] BLE integration set up
INFO: 2025-11-11 06:05:04.843142: BLE integration set up
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… BLE integration set up successfully
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… BLE integration set up successfully
INFO: 2025-11-11 06:05:04.843904: âœ… BLE integration set up successfully
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Setting up demo capabilities for FYP demonstration
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Setting up demo capabilities for FYP demonstration
INFO: 2025-11-11 06:05:04.844520: Setting up demo capabilities for FYP demonstration
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Broadcasting mesh status with 2 queue messages
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Broadcasting mesh status with 2 queue messages
FINE: 2025-11-11 06:05:04.845705: Broadcasting mesh status with 2 queue messages
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Mesh networking service initialized successfully
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Mesh networking service initialized successfully
INFO: 2025-11-11 06:05:04.846750: âœ… Mesh networking service initialized successfully
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:04.852103: SpamPreventionManager disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:04.853569: SpamPreventionManager disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Offline message queue disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Offline message queue disposed
INFO: 2025-11-11 06:05:04.854980: Offline message queue disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:04.856169: Network Topology Analyzer disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:04.857213: Cleared all connection quality monitoring data
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:04.858200: Connection Quality Monitor disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Route cache cleared
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RouteCalculator] Route cache cleared
INFO: 2025-11-11 06:05:04.859388: Route cache cleared
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:04.860029: Cleared all connection quality monitoring data
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router state cleared
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router state cleared
INFO: 2025-11-11 06:05:04.860770: Smart Mesh Router state cleared
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router disposed
INFO: 2025-11-11 06:05:04.861194: Smart Mesh Router disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:04.861707: Network Topology Analyzer disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:04.862419: Cleared all connection quality monitoring data
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:04.863090: Connection Quality Monitor disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh networking service disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Mesh networking service disposed
INFO: 2025-11-11 06:05:04.864347: Mesh networking service disposed
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:16 +218: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:04.869714: Database deleted
00:16 +219: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:04.878315: Database deleted
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
INFO: 2025-11-11 06:05:04.880045: MeshNetworkingService constructor - broadcasting initial status to prevent loading loop
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
INFO: 2025-11-11 06:05:04.880973: âœ… Initial MeshNetworkStatus broadcasted - RelayQueueWidget loading should complete
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing mesh networking service...
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Initializing mesh networking service...
INFO: 2025-11-11 06:05:04.881909: Initializing mesh networking service...
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Node ID: test_node_a_1762..., Demo mode: true
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Node ID: test_node_a_1762..., Demo mode: true
INFO: 2025-11-11 06:05:04.882657: Node ID: test_node_a_1762..., Demo mode: true
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”— Using AppCore's shared message queue for mesh networking
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”— Using AppCore's shared message queue for mesh networking
INFO: 2025-11-11 06:05:04.883356: ðŸ”— Using AppCore's shared message queue for mesh networking
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Connected to shared message queue with 0 pending messages
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Connected to shared message queue with 0 pending messages
INFO: 2025-11-11 06:05:04.884210: âœ… Connected to shared message queue with 0 pending messages
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
INFO: 2025-11-11 06:05:04.885260: ðŸ”„ Reconfiguring shared queue callbacks for mesh networking...
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Queue callbacks reconfigured for mesh networking
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Queue callbacks reconfigured for mesh networking
INFO: 2025-11-11 06:05:04.886007: âœ… Queue callbacks reconfigured for mesh networking
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:04.887600: Loaded spam prevention data
00:16 +219: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:04.888880: SpamPreventionManager initialized
00:16 +219: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Smart Mesh Router for node test_nod...
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Initializing Smart Mesh Router for node test_nod...
INFO: 2025-11-11 06:05:04.890176: Initializing Smart Mesh Router for node test_nod...
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Network Topology Analyzer
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Initializing Network Topology Analyzer
INFO: 2025-11-11 06:05:04.891041: Initializing Network Topology Analyzer
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer initialized
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer initialized
INFO: 2025-11-11 06:05:04.892252: Network Topology Analyzer initialized
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Initializing Connection Quality Monitor
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Initializing Connection Quality Monitor
INFO: 2025-11-11 06:05:04.893420: Initializing Connection Quality Monitor
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor initialized
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor initialized
INFO: 2025-11-11 06:05:04.894261: Connection Quality Monitor initialized
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart Mesh Router initialized (demo: true)
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] âœ… Smart Mesh Router initialized (demo: true)
INFO: 2025-11-11 06:05:04.895628: âœ… Smart Mesh Router initialized (demo: true)
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Smart routing components initialized
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Smart routing components initialized
INFO: 2025-11-11 06:05:04.896357: âœ… Smart routing components initialized
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:04.897299: ðŸ“¡ RelayConfigManager initialized:
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:04.897922:    - Relay enabled: true
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:04.899197:    - Max relay hops: 10
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:04.900283:    - Battery threshold: 20%
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:04.900963: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:04.901940: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Demo Utilities Tests should calculate demo performance metrics
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: true | Relay: ON | Network: 0 nodes
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Queue sync manager initialized for node: test_node_a_1762...
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [QueueSyncManager] Queue sync manager initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:04.903581: Queue sync manager initialized for node: test_node_a_1762...
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Core mesh components initialized with smart routing
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Core mesh components initialized with smart routing
INFO: 2025-11-11 06:05:04.904367: Core mesh components initialized with smart routing
00:16 +219 ~1: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Demo Utilities Tests should calculate demo performance metrics
ðŸ”§ INIT DIAGNOSTIC: Node ID length: 25
ðŸ”§ INIT DEBUG: Setting current node ID to: test_node_a_1762...
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Loaded spam prevention data
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] Loaded spam prevention data
INFO: 2025-11-11 06:05:04.909408: Loaded spam prevention data
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager initialized
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager initialized
INFO: 2025-11-11 06:05:04.910779: SpamPreventionManager initialized
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ RelayConfigManager initialized:
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager] ðŸ“¡ RelayConfigManager initialized:
INFO: 2025-11-11 06:05:04.912259: ðŸ“¡ RelayConfigManager initialized:
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Relay enabled: true
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Relay enabled: true
INFO: 2025-11-11 06:05:04.913294:    - Relay enabled: true
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Max relay hops: 10
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Max relay hops: 10
INFO: 2025-11-11 06:05:04.914197:    - Max relay hops: 10
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO:    - Battery threshold: 20%
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RelayConfigManager]    - Battery threshold: 20%
INFO: 2025-11-11 06:05:04.915049:    - Battery threshold: 20%
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
INFO: 2025-11-11 06:05:04.916093: ðŸ”§ MeshRelayEngine (RE)INITIALIZED for node: test_node_a_1762... (EPHEMERAL)
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshRelayEngine] ðŸ“¡ Relay enabled: true | Network: 0 nodes
INFO: 2025-11-11 06:05:04.917386: ðŸ“¡ Relay enabled: true | Network: 0 nodes
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Demo Utilities Tests should calculate demo performance metrics
ðŸ“¡ RELAY ENGINE: Node ID set to test_node_a_1762... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh relay system initialized for node: test_node_a_1762...
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [BLEMessageHandler] Mesh relay system initialized for node: test_node_a_1762...
INFO: 2025-11-11 06:05:04.918137: Mesh relay system initialized for node: test_node_a_1762...
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: BLE integration set up
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] BLE integration set up
INFO: 2025-11-11 06:05:04.918883: BLE integration set up
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… BLE integration set up successfully
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… BLE integration set up successfully
INFO: 2025-11-11 06:05:04.919870: âœ… BLE integration set up successfully
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Setting up demo capabilities for FYP demonstration
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Setting up demo capabilities for FYP demonstration
INFO: 2025-11-11 06:05:04.920956: Setting up demo capabilities for FYP demonstration
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
FINE: Broadcasting mesh status with 2 queue messages
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
ðŸ” [MeshNetworkingService] Broadcasting mesh status with 2 queue messages
FINE: 2025-11-11 06:05:04.922198: Broadcasting mesh status with 2 queue messages
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: âœ… Mesh networking service initialized successfully
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] âœ… Mesh networking service initialized successfully
INFO: 2025-11-11 06:05:04.923244: âœ… Mesh networking service initialized successfully
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Generated Aâ†’Bâ†’C demo scenario with nodes: test_node_a_1762823104879 â†’ test_node_b_1762823104879 â†’ test_node_c_1762823104879
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshDemoUtils] Generated Aâ†’Bâ†’C demo scenario with nodes: test_node_a_1762823104879 â†’ test_node_b_1762823104879 â†’ test_node_c_1762823104879
INFO: 2025-11-11 06:05:04.928327: Generated Aâ†’Bâ†’C demo scenario with nodes: test_node_a_1762823104879 â†’ test_node_b_1762823104879 â†’ test_node_c_1762823104879
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/chat_lifecycle_persistence_test.dart: ChatScreen Lifecycle Persistence Tests PersistentChatStateManager handles multiple chats correctly
ðŸ”„ PERSISTENT: Setting up persistent listener for chat_1
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests FTS5 search finds messages by content
âœ… Database reset complete. Tables: 21
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/chat_lifecycle_persistence_test.dart: ChatScreen Lifecycle Persistence Tests PersistentChatStateManager handles multiple chats correctly
ðŸ”„ PERSISTENT: Setting up persistent listener for chat_2
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/chat_lifecycle_persistence_test.dart: ChatScreen Lifecycle Persistence Tests PersistentChatStateManager handles multiple chats correctly
ðŸ”„ PERSISTENT: Registering chat screen for chat_1
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
INFO: 2025-11-11 06:05:04.937706: SpamPreventionManager disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: SpamPreventionManager disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SpamPreventionManager] SpamPreventionManager disposed
INFO: 2025-11-11 06:05:04.939229: SpamPreventionManager disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Offline message queue disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [OfflineMessageQueue] Offline message queue disposed
INFO: 2025-11-11 06:05:04.940404: Offline message queue disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/chat_lifecycle_persistence_test.dart: ChatScreen Lifecycle Persistence Tests PersistentChatStateManager handles multiple chats correctly
ðŸ”„ PERSISTENT: Registering chat screen for chat_2
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:04.941932: Network Topology Analyzer disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:04.942963: Cleared all connection quality monitoring data
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:04.943773: Connection Quality Monitor disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Route cache cleared
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [RouteCalculator] Route cache cleared
INFO: 2025-11-11 06:05:04.944816: Route cache cleared
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:04.945462: Cleared all connection quality monitoring data
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router state cleared
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router state cleared
INFO: 2025-11-11 06:05:04.946415: Smart Mesh Router state cleared
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Smart Mesh Router disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [SmartMeshRouter] Smart Mesh Router disposed
INFO: 2025-11-11 06:05:04.946987: Smart Mesh Router disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Network Topology Analyzer disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [NetworkTopologyAnalyzer] Network Topology Analyzer disposed
INFO: 2025-11-11 06:05:04.947653: Network Topology Analyzer disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Cleared all connection quality monitoring data
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Cleared all connection quality monitoring data
INFO: 2025-11-11 06:05:04.948199: Cleared all connection quality monitoring data
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Connection Quality Monitor disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [ConnectionQualityMonitor] Connection Quality Monitor disposed
INFO: 2025-11-11 06:05:04.948971: Connection Quality Monitor disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Mesh networking service disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshNetworkingService] Mesh networking service disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/chat_lifecycle_persistence_test.dart: ChatScreen Lifecycle Persistence Tests PersistentChatStateManager handles multiple chats correctly
ï¿½ðŸŸ¡ðŸŸ¡ PERSISTENT MANAGER RECEIVED MESSAGE ðŸŸ¡ðŸŸ¡ðŸŸ¡
ðŸŸ¡ Chat ID: chat_1
ðŸŸ¡ Content length: 17
ðŸŸ¡ Is chat active: true
ðŸŸ¡ Has handler: true
ï¿½ âž¡ï¸ DELIVERING TO ACTIVE CHAT SCREEN
ï¿½ðŸŸ¡ðŸŸ¡ PERSISTENT MANAGER RECEIVED MESSAGE ðŸŸ¡ðŸŸ¡ðŸŸ¡
ðŸŸ¡ Chat ID: chat_2
ðŸŸ¡ Content length: 17
ðŸŸ¡ Is chat active: true
ðŸŸ¡ Has handler: true
ï¿½ âž¡ï¸ DELIVERING TO ACTIVE CHAT SCREEN
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
INFO: 2025-11-11 06:05:04.950174: Mesh networking service disposed
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:16 +219 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
âš ï¸ [DatabaseHelper] Database deleted
WARNING: 2025-11-11 06:05:04.955378: Database deleted
00:16 +220 ~2: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +220 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Generated Aâ†’Bâ†’C demo scenario with nodes: demo_a â†’ demo_b â†’ demo_c
00:16 +220 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshDemoUtils] Generated Aâ†’Bâ†’C demo scenario with nodes: demo_a â†’ demo_b â†’ demo_c
INFO: 2025-11-11 06:05:04.961597: Generated Aâ†’Bâ†’C demo scenario with nodes: demo_a â†’ demo_b â†’ demo_c
00:16 +221 ~2: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +221 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Generated Aâ†’Bâ†’C demo scenario with nodes: nodea_demo_1762823104970_376 â†’ nodeb_demo_1762823104970_830 â†’ nodec_demo_1762823104970_471
00:16 +221 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshDemoUtils] Generated Aâ†’Bâ†’C demo scenario with nodes: nodea_demo_1762823104970_376 â†’ nodeb_demo_1762823104970_830 â†’ nodec_demo_1762823104970_471
INFO: 2025-11-11 06:05:04.970293: Generated Aâ†’Bâ†’C demo scenario with nodes: nodea_demo_1762823104970_376 â†’ nodeb_demo_1762823104970_830 â†’ nodec_demo_1762823104970_471
00:16 +221 ~2: loading /home/abubakar/dev/pak_connect/test/hint_system_test.dart
â„¹ï¸ [HintSystemTest] Generated 10,000 intro hints in 1230ms
00:16 +222 ~2: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +223 ~2: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +223 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: (setUpAll)
INFO: Generated Aâ†’Bâ†’C demo scenario with nodes: nodea_demo_1762823104988_443 â†’ nodeb_demo_1762823104988_754 â†’ nodec_demo_1762823104988_924
00:16 +223 ~2: /home/abubakar/dev/pak_connect/test/mesh_networking_integration_test.dart: Mesh Networking Integration Tests Service Initialization should initialize all mesh components correctly
â„¹ï¸ [MeshDemoUtils] Generated Aâ†’Bâ†’C demo scenario with nodes: nodea_demo_1762823104988_443 â†’ nodeb_demo_1762823104988_754 â†’ nodec_demo_1762823104988_924
INFO: 2025-11-11 06:05:04.988562: Generated Aâ†’Bâ†’C demo scenario with nodes: nodea_demo_1762823104988_443 â†’ nodeb_demo_1762823104988_754 â†’ nodec_demo_1762823104988_924
00:16 +224 ~2: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +225 ~2: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +225 ~2: /home/abubakar/dev/pak_connect/test/chat_lifecycle_persistence_test.dart: ChatScreen Lifecycle Persistence Tests PersistentChatStateManager handles multiple chats correctly
ðŸ”„ PERSISTENT: Unregistering chat screen for chat_1
ï¿½ðŸŸ¡ðŸŸ¡ PERSISTENT MANAGER RECEIVED MESSAGE ðŸŸ¡ðŸŸ¡ðŸŸ¡
ðŸŸ¡ Chat ID: chat_1
ðŸŸ¡ Content length: 26
ðŸŸ¡ Is chat active: false
ðŸŸ¡ Has handler: false
ðŸŸ¡ ï¿½ BUFFERING MESSAGE (chat not active)
ï¿½ðŸŸ¡ðŸŸ¡ PERSISTENT MANAGER RECEIVED MESSAGE ðŸŸ¡ðŸŸ¡ðŸŸ¡
ðŸŸ¡ Chat ID: chat_2
ðŸŸ¡ Content length: 24
ðŸŸ¡ Is chat active: true
ðŸŸ¡ Has handler: true
ï¿½ âž¡ï¸ DELIVERING TO ACTIVE CHAT SCREEN
00:16 +225 ~2: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests FTS5 search with specific keyword
âœ… Database reset complete. Tables: 21
00:16 +226 ~2: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +226 ~2: /home/abubakar/dev/pak_connect/test/chat_lifecycle_persistence_test.dart: ChatScreen Lifecycle Persistence Tests PersistentChatStateManager handles multiple chats correctly
ðŸ”„ PERSISTENT: Registering chat screen for chat_1
ðŸ”„ PERSISTENT: Processing 1 buffered messages for chat_1
00:16 +226 ~2: loading /home/abubakar/dev/pak_connect/test/hint_system_test.dart
â„¹ï¸ [HintSystemTest] Computed 10,000 blinded hints in 218ms
00:16 +227 ~2: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:16 +227 ~2: /home/abubakar/dev/pak_connect/test/chat_lifecycle_persistence_test.dart: ChatScreen Lifecycle Persistence Tests PersistentChatStateManager handles multiple chats correctly
âœ… Multi-chat persistence verified
00:16 +227 ~2: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests FTS5 search with no results
âœ… Database reset complete. Tables: 21
00:17 +228 ~2: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +228 ~2: /home/abubakar/dev/pak_connect/test/chat_lifecycle_persistence_test.dart: ChatScreen Lifecycle Persistence Tests PersistentChatStateManager handles multiple chats correctly
ðŸ”„ PERSISTENT: Cleaning up all persistent listeners
00:17 +229 ~2: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +229 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +229 ~3: loading /home/abubakar/dev/pak_connect/test/hint_system_test.dart
â„¹ï¸ [HintSystemTest] Pack/parsed 10,000 advertisements in 81ms
00:17 +230 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +230 ~3: /home/abubakar/dev/pak_connect/test/chat_lifecycle_persistence_test.dart: ChatScreen Lifecycle Persistence Tests Debug info provides accurate state information - NO DB VERSION
ðŸ”„ PERSISTENT: Setting up persistent listener for debug_chat_no_db
ðŸ”„ PERSISTENT: Registering chat screen for debug_chat_no_db
ðŸ”„ PERSISTENT: Unregistering chat screen for debug_chat_no_db
âœ… Debug info accuracy verified
ðŸ”„ PERSISTENT: Cleaning up all persistent listeners
00:17 +231 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +232 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +233 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +234 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +235 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +236 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +236 ~3: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests FTS5 search handles empty query
âœ… Database reset complete. Tables: 21
00:17 +237 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +237 ~3: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests Permanently delete archive
âœ… Database reset complete. Tables: 21
00:17 +238 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +238 ~3: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests Delete cascade removes messages and FTS5 entries
âœ… Database reset complete. Tables: 21
00:17 +239 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +239 ~3: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests Delete non-existent archive fails gracefully
âœ… Database reset complete. Tables: 21
00:17 +240 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +241 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +241 ~3: /home/abubakar/dev/pak_connect/test/power_management_phase1_test.dart: Phase 1: Duty Cycle Scanning Tests PowerManagementStats calculates duty cycle percentages correctly
âœ… Duty cycle percentages verified:
   Performance: 100.0%
   Balanced: 80.0%
   Power Saver: 20.0%
   Ultra Low: 9.0%
00:17 +242 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +242 ~3: /home/abubakar/dev/pak_connect/test/power_management_phase1_test.dart: Phase 1: Duty Cycle Scanning Tests Battery efficiency rating considers duty cycle
âœ… Battery efficiency ratings:
   Performance mode: 27.0%
   Ultra Low Power: 93.5%
00:17 +243 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +243 ~3: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests Get archive statistics
âœ… Database reset complete. Tables: 21
00:17 +243 ~3: /home/abubakar/dev/pak_connect/test/power_management_phase1_test.dart: Phase 1: Duty Cycle Scanning Tests RSSI thresholds vary by power mode (BitChat pattern)
âœ… RSSI thresholds by power mode:
   performance: -95 dBm
00:17 +244 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +244 ~3: /home/abubakar/dev/pak_connect/test/power_management_phase1_test.dart: Phase 1: Duty Cycle Scanning Tests Connection limits vary by power mode (BitChat pattern)
âœ… Connection limits by power mode:
   Current mode (performance): 8 connections
00:17 +245 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +245 ~3: /home/abubakar/dev/pak_connect/test/power_management_phase1_test.dart: Phase 1: Emergency Mode Sync Skipping Tests Emergency mode is disabled when battery > 10%
âœ… Normal mode: battery 50% - emergency mode: false
00:17 +246 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +246 ~3: /home/abubakar/dev/pak_connect/test/power_management_phase1_test.dart: Phase 1: Emergency Mode Sync Skipping Tests Emergency mode activates when battery <= 10%
âš ï¸  Emergency mode: battery 9% - emergency mode: true
00:17 +247 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +247 ~3: /home/abubakar/dev/pak_connect/test/power_management_phase1_test.dart: Phase 1: Emergency Mode Sync Skipping Tests Emergency mode disabled when charging even at low battery
âœ… Charging overrides emergency mode: battery 5% charging: true - emergency mode: false
00:17 +248 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +248 ~3: /home/abubakar/dev/pak_connect/test/power_management_phase1_test.dart: Phase 1: Emergency Mode Sync Skipping Tests Battery state transitions log correctly
âœ… Battery transitions handled correctly
00:17 +249 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +249 ~3: /home/abubakar/dev/pak_connect/test/power_management_phase1_test.dart: Phase 1: Emergency Mode Sync Skipping Tests Skipped syncs counter increments in emergency mode
âœ… Skipped syncs counter ready: 0
00:17 +250 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +250 ~3: /home/abubakar/dev/pak_connect/test/power_management_phase1_test.dart: Phase 1: Power Mode Transitions Tests Power mode determined correctly from battery + background state
âœ… Power mode transitions:
   Initial (100% battery, foreground): performance
   After background (100% battery, background): balanced
   After foreground (100% battery, foreground): performance
00:17 +251 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +251 ~3: /home/abubakar/dev/pak_connect/test/power_management_phase1_test.dart: Phase 1: Integration Tests PowerManagementStats serializes to string correctly
âœ… PowerManagementStats toString:
   PowerStats(mode: powerSaver, battery: 25%, duty: 20.0%, quality: 85.0%, efficiency: 85.0%)
00:17 +252 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +252 ~3: /home/abubakar/dev/pak_connect/test/power_management_phase1_test.dart: Phase 1: Integration Tests GossipSyncManager statistics include emergency mode info
âœ… GossipSyncManager statistics:
   Battery: 8%
   Emergency mode: true
00:17 +253 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +253 ~3: /home/abubakar/dev/pak_connect/test/power_management_phase1_test.dart: Phase 1: Integration Tests GossipSyncManager statistics include emergency mode info
   Skipped syncs: 0
00:17 +254 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:17 +254 ~3: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests Archive statistics for empty database
âœ… Database reset complete. Tables: 21
00:17 +255 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:18 +255 ~3: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests Get specific archived chat by ID
âœ… Database reset complete. Tables: 21
00:18 +256 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:18 +256 ~3: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests Archive preserves message order
âœ… Database reset complete. Tables: 21
00:18 +257 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:18 +257 ~3: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests Pagination with limit
âœ… Database reset complete. Tables: 21
00:18 +258 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:18 +258 ~3: /home/abubakar/dev/pak_connect/test/archive_repository_sqlite_test.dart: ArchiveRepository SQLite Tests Multiple archives searchable independently
âœ… Database reset complete. Tables: 21
00:18 +259 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:18 +259 ~3: /home/abubakar/dev/pak_connect/test/mesh_system_analysis_test.dart: Mesh System Analysis Tests Mesh networking system provides proper status and analysis
ðŸ“¡ RELAY ENGINE: Node ID set to arshad_67890... (EPHEMERAL) | Smart Routing: true | Relay: ON | Network: 0 nodes
00:19 +260 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:19 +260 ~3: /home/abubakar/dev/pak_connect/test/mesh_system_analysis_test.dart: Mesh System Analysis Tests Sync/relay node analysis does not block operations
ðŸ“¡ RELAY ENGINE: Node ID set to arshad_67890... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:19 +261 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:19 +261 ~3: /home/abubakar/dev/pak_connect/test/mesh_system_analysis_test.dart: Mesh System Analysis Tests Relay message validation prevents incorrect processing
ðŸ“¡ RELAY ENGINE: Node ID set to ali_12345... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
ðŸ“¡ RELAY ENGINE: Node ID set to arshad_67890... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:19 +261 ~3: /home/abubakar/dev/pak_connect/test/mesh_system_analysis_test.dart: (setUpAll)
WARNING: hasDelivered called before initialization
00:19 +262 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:19 +263 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:19 +264 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:19 +265 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:19 +266 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:19 +267 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:19 +268 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:19 +269 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:19 +270 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:19 +271 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:19 +272 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:19 +273 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:19 +273 ~3: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:19 +274 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:19 +274 ~3: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:20 +274 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:20 +274 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:20 +275 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:20 +275 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:20 +276 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: SeenMessageStore performs maintenance correctly
00:20 +276 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:20 +276 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:20 +277 ~3: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Performance Tests should cache hash calculations for performance
00:20 +277 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:20 +277 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:20 +278 ~3: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Performance Tests should cache hash calculations for performance
00:20 +278 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:20 +279 ~3: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Performance Tests should cache hash calculations for performance
00:20 +279 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:20 +279 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:20 +280 ~3: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: Performance Tests should cache hash calculations for performance
00:20 +280 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:20 +280 ~3: /home/abubakar/dev/pak_connect/test/queue_sync_system_test.dart: (setUpAll)
WARNING: Database deleted
00:20 +281 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: Profile Screen Backend Validation Encryption key pair can be generated
00:20 +281 ~3: /home/abubakar/dev/pak_connect/test/seen_message_store_test.dart: (setUpAll)
WARNING: Database deleted
00:20 +282 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: Profile Screen Backend Validation Encryption key pair can be generated
00:20 +282 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:20 +283 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: (setUpAll)
00:20 +283 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:20 +284 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: (setUpAll)
00:20 +284 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:20 +284 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: Profile Screen Backend Validation Key regeneration creates new keys
00:20 +284 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:20 +285 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should detect failed messages from both persistence systems
00:20 +285 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:21 +286 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should detect failed messages from both persistence systems
00:21 +286 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:21 +287 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should detect failed messages from both persistence systems
00:21 +287 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:21 +287 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should detect failed messages from both persistence systems
âœ… Database reset complete. Tables: 21
00:21 +287 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:21 +288 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should detect failed messages from both persistence systems
00:21 +288 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:21 +289 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should detect failed messages from both persistence systems
00:21 +289 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:21 +289 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: (setUpAll)
WARNING: Database deleted
00:21 +290 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: (setUpAll)
00:21 +290 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:21 +291 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: (setUpAll)
00:21 +291 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:21 +291 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should coordinate retry across both systems
âœ… Database reset complete. Tables: 21
00:21 +291 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:21 +292 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should coordinate retry across both systems
00:21 +292 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:21 +293 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should coordinate retry across both systems
00:21 +293 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:21 +294 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should coordinate retry across both systems
00:21 +294 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:21 +295 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should coordinate retry across both systems
00:21 +295 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: (setUpAll)
WARNING: Database deleted
00:21 +296 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests RelayMetadata provides correct ACK routing path
00:21 +296 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:21 +297 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests RelayMetadata provides correct ACK routing path
00:21 +297 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:21 +298 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests RelayMetadata provides correct ACK routing path
00:21 +298 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:21 +299 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests RelayMetadata provides correct ACK routing path
00:21 +299 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Failed to get contact count: SqfliteFfiException(error, Bad state: This database has already been closed}) DatabaseException(Bad state: This database has already been closed) sql 'SELECT COUNT(*) as count FROM contacts' {details: {database: {path: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823108350.db, id: 7, readOnly: false, singleInstance: true}}}
WARNING: Database deleted
00:21 +300 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests RelayMetadata provides correct ACK routing path
00:21 +300 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Failed to get verified contact count: SqfliteFfiException(error, Bad state: This database has already been closed}) DatabaseException(Bad state: This database has already been closed) sql 'SELECT COUNT(*) as count FROM contacts WHERE trust_status = ?' args [1] {details: {database: {path: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823108350.db, id: 7, readOnly: false, singleInstance: true}}}
WARNING: Failed to get chat count: SqfliteFfiException(error, Bad state: This database has already been closed}) DatabaseException(Bad state: This database has already been closed) sql 'SELECT COUNT(*) as count FROM chats WHERE is_archived = 0' {details: {database: {path: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823108350.db, id: 7, readOnly: false, singleInstance: true}}}
WARNING: Failed to get total message count: SqfliteFfiException(error, Bad state: This database has already been closed}) DatabaseException(Bad state: This database has already been closed) sql 'SELECT COUNT(*) as count FROM messages' {details: {database: {path: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823108350.db, id: 7, readOnly: false, singleInstance: true}}}
WARNING: Database deleted
00:21 +300 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
âœ… Database reset complete. Tables: 21
00:21 +301 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests RelayMetadata provides correct ACK routing path
00:21 +301 ~3: /home/abubakar/dev/pak_connect/test/profile_screen_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:21 +302 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests RelayMetadata provides correct ACK routing path
âœ… Database reset complete. Tables: 21
00:21 +303 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:21 +303 ~3: /home/abubakar/dev/pak_connect/test/core/protocol_message_compression_test.dart: ProtocolMessage Compression (Phase 4) toBytes() with compression compresses large messages with repeated content
Compression savings: 1375 â†’ 167 bytes (87.9% reduction)
00:21 +304 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:21 +305 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:21 +305 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests Message stays in queue with awaiting_ack status
âœ… Database reset complete. Tables: 21
00:21 +306 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:21 +307 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:22 +308 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:22 +309 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:22 +310 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:22 +311 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:22 +312 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:22 +313 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:22 +314 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:22 +315 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:22 +316 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:22 +317 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:22 +318 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:22 +318 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: (setUpAll)
WARNING: âš ï¸ Repository message retry failed: Exception: Simulated delivery failure
00:22 +318 ~3: /home/abubakar/dev/pak_connect/test/core/protocol_message_compression_test.dart: ProtocolMessage Compression (Phase 4) compression statistics tracks compression savings for large messages
ProtocolMessageType.textMessage: 1473 â†’ 157 bytes (89.3% saved)
ProtocolMessageType.meshRelay: 1267 â†’ 187 bytes (85.2% saved)
ProtocolMessageType.queueSync: 3477 â†’ 592 bytes (83.0% saved)
Overall compression savings: 84.9%
00:22 +319 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle mixed success/failure scenarios
00:22 +319 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: (setUpAll)
WARNING: Database deleted
00:22 +320 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests Ali â†’ Arshad â†’ Abubakar with full ACK propagation back
00:22 +321 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests Ali â†’ Arshad â†’ Abubakar with full ACK propagation back
00:22 +322 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests Ali â†’ Arshad â†’ Abubakar with full ACK propagation back
00:22 +323 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests Ali â†’ Arshad â†’ Abubakar with full ACK propagation back
00:22 +324 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests Ali â†’ Arshad â†’ Abubakar with full ACK propagation back
âœ… Database reset complete. Tables: 21
00:22 +324 ~3: /home/abubakar/dev/pak_connect/test/core/protocol_message_compression_test.dart: ProtocolMessage Compression (Phase 4) performance benchmarks compression is fast enough for BLE
Average compression time: 0.42ms per message
00:22 +325 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests Ali â†’ Arshad â†’ Abubakar with full ACK propagation back
ðŸ“¡ RELAY ENGINE: Node ID set to ali_key_123... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
ðŸ“¡ RELAY ENGINE: Node ID set to arshad_key_456... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:22 +325 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: (setUpAll)
WARNING: hasDelivered called before initialization
00:22 +325 ~3: /home/abubakar/dev/pak_connect/test/core/protocol_message_compression_test.dart: ProtocolMessage Compression (Phase 4) performance benchmarks decompression is fast
Average decompression time: 0.17ms per message
00:22 +326 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests Ali â†’ Arshad â†’ Abubakar with full ACK propagation back
ðŸ“¡ RELAY ENGINE: Node ID set to abubakar_key_789... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:22 +326 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: (setUpAll)
WARNING: hasDelivered called before initialization
00:22 +327 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should report system health accurately
âœ… Database reset complete. Tables: 21
00:22 +327 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: (setUpAll)
WARNING: Database deleted
00:22 +328 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests Relay node does not mark message as delivered
âœ… Database reset complete. Tables: 21
ðŸ“¡ RELAY ENGINE: Node ID set to ali_key_123... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
ðŸ“¡ RELAY ENGINE: Node ID set to arshad_key_456... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:22 +329 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Message Retry Coordination Tests should handle empty retry scenarios gracefully
âœ… Database reset complete. Tables: 21
00:22 +329 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: (setUpAll)
WARNING: Database deleted
00:22 +330 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests ACK includes correct routing path for backward propagation
âœ… Database reset complete. Tables: 21
00:22 +331 ~3: /home/abubakar/dev/pak_connect/test/message_retry_coordination_test.dart: Integration with Original Systems should maintain backward compatibility with MessageRepository
00:22 +332 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests Multiple messages maintain separate ACK states
00:22 +333 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests Multiple messages maintain separate ACK states
âœ… Database reset complete. Tables: 21
ðŸ“¡ RELAY ENGINE: Node ID set to ali_key_123... (EPHEMERAL) | Smart Routing: false | Relay: ON | Network: 0 nodes
00:22 +334 ~3: /home/abubakar/dev/pak_connect/test/core/bluetooth/handshake_coordinator_test.dart: (setUpAll)
00:22 +334 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: ACK Propagation Tests Loop prevention works with ACK routing path
âœ… Database reset complete. Tables: 21
00:22 +335 ~3: /home/abubakar/dev/pak_connect/test/core/bluetooth/handshake_coordinator_test.dart: (setUpAll)
00:22 +335 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: (tearDownAll)
00:22 +335 ~3: /home/abubakar/dev/pak_connect/test/relay_ack_propagation_test.dart: (setUpAll)
WARNING: Database deleted
00:22 +335 ~3: /home/abubakar/dev/pak_connect/test/core/bluetooth/handshake_coordinator_test.dart: HandshakeCoordinator with Noise Protocol ConnectionPhase enum includes Noise phases
00:22 +336 ~3: /home/abubakar/dev/pak_connect/test/core/bluetooth/handshake_coordinator_test.dart: HandshakeCoordinator with Noise Protocol message type enum includes Noise types
00:22 +337 ~3: /home/abubakar/dev/pak_connect/test/core/bluetooth/handshake_coordinator_test.dart: HandshakeCoordinator with Noise Protocol Noise message factory methods work correctly
00:22 +338 ~3: /home/abubakar/dev/pak_connect/test/core/bluetooth/handshake_coordinator_test.dart: HandshakeCoordinator with Noise Protocol Noise message serialization preserves data
00:22 +339 ~3: /home/abubakar/dev/pak_connect/test/core/bluetooth/handshake_coordinator_test.dart: HandshakeCoordinator with Noise Protocol HandshakeCoordinator initializes with correct state
00:22 +340 ~3: /home/abubakar/dev/pak_connect/test/core/bluetooth/handshake_coordinator_test.dart: HandshakeCoordinator with Noise Protocol HandshakeCoordinator starts handshake
00:22 +341 ~3: /home/abubakar/dev/pak_connect/test/core/bluetooth/handshake_coordinator_test.dart: HandshakeCoordinator with Noise Protocol SecurityManager Noise service is available
00:22 +342 ~3: /home/abubakar/dev/pak_connect/test/core/bluetooth/handshake_coordinator_test.dart: HandshakeCoordinator with Noise Protocol Noise handshake messages have expected sizes
00:22 +343 ~3: /home/abubakar/dev/pak_connect/test/core/bluetooth/handshake_coordinator_test.dart: (tearDownAll)
00:23 +343 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle creates initiator session
00:23 +344 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle creates responder session
00:23 +345 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle complete XX handshake initiator and responder
00:23 +346 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle encrypt and decrypt messages after handshake
00:23 +347 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle nonces increment correctly
00:23 +348 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle replay protection rejects old messages
00:23 +349 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle cannot encrypt before handshake
00:23 +350 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle cannot decrypt before handshake
00:23 +351 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle rejects invalid handshake message sizes
00:23 +352 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle handshake provides channel binding hash
00:23 +353 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle cannot start handshake twice
00:23 +354 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle responder cannot call startHandshake
00:23 +355 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle messages encrypted with different nonces are unique
00:23 +356 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle decryption fails with corrupted ciphertext
00:23 +357 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle decryption fails with corrupted nonce
00:23 +358 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle handles empty message encryption
00:23 +359 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle handles large message encryption
00:23 +360 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle replay window accepts messages within window
00:23 +361 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle bidirectional communication works
00:23 +362 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_test.dart: NoiseSession - Session Lifecycle session state transitions correctly
00:23 +363 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService initializes and generates new keys
00:23 +364 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService initializes and generates new keys
00:23 +365 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService initializes and generates new keys
00:23 +366 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService initializes and generates new keys
00:23 +367 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService throws StateError if not initialized
00:23 +368 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService fingerprint is deterministic
00:23 +369 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService calculateFingerprint static method works
00:23 +370 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService completes handshake between two services
00:24 +371 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService encrypts and decrypts messages
00:24 +372 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService encrypt returns null without established session
00:24 +373 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService decrypt returns null without established session
00:24 +374 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService getPeerPublicKeyData returns peer key after handshake
00:24 +375 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager creates manager with keys
00:24 +376 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService getSessionState returns correct state
00:24 +377 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager initiates handshake as initiator
00:24 +378 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager initiates handshake as initiator
00:24 +379 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService getAllSessionStats returns statistics
00:24 +380 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager processes handshake message as responder
00:24 +381 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager processes handshake message as responder
00:24 +382 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager processes handshake message as responder
00:24 +383 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager processes handshake message as responder
00:24 +384 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService multiple peers independently
00:24 +385 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager completes full handshake between two managers
00:24 +386 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService bidirectional message exchange
00:24 +387 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager encrypts and decrypts messages between managers
00:24 +388 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager encrypts and decrypts messages between managers
00:24 +389 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService decrypt returns null on corrupted data
00:24 +390 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager manages multiple peer sessions
00:24 +391 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_encryption_service_test.dart: NoiseEncryptionService persists and loads keys from storage
00:24 +392 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager removes session
00:24 +393 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager replacing session removes old one
00:24 +394 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager cannot encrypt without established session
00:24 +395 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager cannot decrypt without session
00:24 +396 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager handshake failure triggers callback
00:24 +397 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager provides session statistics
00:24 +398 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager gets handshake hash for channel binding
00:24 +399 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager shutdown destroys all sessions
00:24 +400 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager concurrent handshakes with different peers
00:24 +401 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/symmetric_state_test.dart: SymmetricState initialization
00:24 +402 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/symmetric_state_test.dart: SymmetricState initialization
00:24 +403 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/symmetric_state_test.dart: SymmetricState initialization
00:24 +404 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/symmetric_state_test.dart: SymmetricState initialization
00:24 +405 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/noise_session_manager_test.dart: NoiseSessionManager bidirectional message exchange
00:24 +406 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/symmetric_state_test.dart: SymmetricState mixHash changes hash
00:24 +407 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/symmetric_state_test.dart: SymmetricState mixKey enables encryption
00:24 +408 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/symmetric_state_test.dart: SymmetricState split produces two ciphers
00:24 +409 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/symmetric_state_test.dart: SymmetricState roundtrip encrypt-decrypt
00:25 +410 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/handshake_state_test.dart: HandshakeState - XX Pattern initiator creates valid HandshakeState
00:25 +411 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/handshake_state_test.dart: HandshakeState - XX Pattern responder creates valid HandshakeState
00:25 +412 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/handshake_state_test.dart: HandshakeState - XX Pattern XX handshake message A is 32 bytes
00:25 +413 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/handshake_state_test.dart: HandshakeState - XX Pattern complete XX handshake with mutual authentication
00:25 +414 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/handshake_state_test.dart: HandshakeState - XX Pattern split produces working cipher states
00:25 +415 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/handshake_state_test.dart: HandshakeState - XX Pattern split fails before handshake complete
00:25 +416 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/dh_state_test.dart: DHState generateKeyPair produces valid 32-byte keys
00:25 +417 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/dh_state_test.dart: DHState generateKeyPair produces different keys each time
00:25 +418 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/dh_state_test.dart: DHState DH calculation produces 32-byte shared secret
00:25 +419 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/dh_state_test.dart: DHState DH is symmetric
00:25 +420 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/dh_state_test.dart: DHState destroy wipes keys
00:25 +421 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/dh_state_test.dart: DHState invalid key length throws
00:25 +422 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/dh_state_test.dart: DHState RFC 7748 test vector
00:25 +423 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/dh_state_test.dart: DHState setPrivateKey derives public key
00:25 +424 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/dh_state_test.dart: DHState copy creates independent instance
00:26 +425 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/cipher_state_test.dart: CipherState initialization with key
00:26 +426 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/cipher_state_test.dart: CipherState encrypt-decrypt roundtrip
00:26 +427 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/cipher_state_test.dart: CipherState ciphertext includes MAC tag
00:26 +428 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/cipher_state_test.dart: CipherState nonce increments produce different ciphertexts
00:26 +429 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/cipher_state_test.dart: CipherState manual nonce control
00:26 +430 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/cipher_state_test.dart: CipherState wrong key fails decryption
00:26 +431 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/cipher_state_test.dart: CipherState wrong AD fails authentication
00:26 +432 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/cipher_state_test.dart: CipherState destroy wipes key
00:26 +433 ~3: /home/abubakar/dev/pak_connect/test/core/security/noise/primitives/cipher_state_test.dart: CipherState empty plaintext works
00:26 +434 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil compress compresses large text efficiently
00:26 +435 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil compress returns null for small data (below threshold)
00:26 +436 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil compress returns null for high-entropy data
00:26 +437 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil compress returns null when compressed size >= original
00:26 +438 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil compress respects compression config
00:26 +439 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil compress respects compression level
00:26 +440 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil compress returns null when compression disabled
00:26 +441 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil compress tracks compression time
00:26 +442 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil compress sets correct algorithm name
00:27 +443 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil decompress decompresses correctly (round-trip)
00:27 +444 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil decompress validates original size if provided
00:27 +445 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil decompress falls back to alternate format on failure
00:27 +446 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil decompress handles both raw deflate and zlib formats
00:27 +447 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil decompress returns null for invalid compressed data
00:27 +448 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil decompress handles empty data gracefully
00:27 +449 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil shouldCompress returns false for small data
00:27 +450 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil shouldCompress returns false for high-entropy data
00:27 +451 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil shouldCompress returns true for large compressible data
00:27 +452 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil shouldCompress respects custom threshold
00:27 +453 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil shouldCompress respects custom entropy threshold
00:27 +454 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil shouldCompress returns false when compression disabled
00:27 +455 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil analyze returns stats without compressing
00:27 +456 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil analyze indicates when compression would be skipped
00:27 +457 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil analyze provides accurate compression preview
00:27 +458 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil calculateEntropy returns 0.0 for empty data
00:27 +459 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil calculateEntropy returns low entropy for repetitive data
00:27 +460 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil calculateEntropy returns high entropy for random data
00:27 +461 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil calculateEntropy returns moderate entropy for text
00:27 +462 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil runSelfTest passes self-test with default config
00:27 +463 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil runSelfTest passes self-test with custom configs
00:27 +464 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil CompressionConfig has sensible defaults
00:27 +465 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil CompressionConfig provides preset configs
00:27 +466 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil CompressionConfig supports copyWith
00:27 +467 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil CompressionConfig has working equality
00:27 +468 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil CompressionStats calculates compression ratio correctly
00:27 +469 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil CompressionStats returns 1.0 ratio for uncompressed data
00:27 +470 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil CompressionStats correctly identifies beneficial compression
00:27 +471 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil CompressionStats supports JSON serialization
00:27 +472 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil CompressionStats has working equality
00:27 +473 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil CompressionStats has informative toString
00:27 +474 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil integration tests handles various text sizes
00:27 +475 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil integration tests handles binary data
00:27 +476 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil integration tests handles JSON data
00:27 +477 ~3: /home/abubakar/dev/pak_connect/test/core/compression/compression_util_test.dart: CompressionUtil integration tests compression is deterministic
00:27 +478 ~3: /home/abubakar/dev/pak_connect/test/core/services/security_manager_test.dart: (setUpAll)
00:27 +478 ~3: /home/abubakar/dev/pak_connect/test/core/services/security_manager_test.dart: SecurityManager with Noise Integration initializes with Noise service
00:27 +479 ~3: /home/abubakar/dev/pak_connect/test/core/services/security_manager_test.dart: SecurityManager with Noise Integration getIdentityFingerprint returns valid fingerprint
00:27 +480 ~3: /home/abubakar/dev/pak_connect/test/core/services/security_manager_test.dart: SecurityManager with Noise Integration can initialize twice (idempotent)
00:27 +481 ~3: /home/abubakar/dev/pak_connect/test/core/services/security_manager_test.dart: SecurityManager with Noise Integration Noise service is available for encryption
00:27 +482 ~3: /home/abubakar/dev/pak_connect/test/core/services/security_manager_test.dart: SecurityManager with Noise Integration shutdown clears Noise service
00:27 +483 ~3: /home/abubakar/dev/pak_connect/test/core/services/security_manager_test.dart: SecurityManager with Noise Integration EncryptionMethod factories create correct types
00:27 +484 ~3: /home/abubakar/dev/pak_connect/test/core/services/security_manager_test.dart: SecurityManager with Noise Integration SecurityLevel enum values
00:27 +485 ~3: /home/abubakar/dev/pak_connect/test/core/services/security_manager_test.dart: SecurityManager with Noise Integration EncryptionType enum includes noise
00:27 +486 ~3: /home/abubakar/dev/pak_connect/test/core/services/security_manager_test.dart: (tearDownAll)
00:28 +486 ~3: /home/abubakar/dev/pak_connect/test/mesh_relay_flow_test.dart: (setUpAll)
00:28 +486 ~3: /home/abubakar/dev/pak_connect/test/mesh_relay_flow_test.dart: Mesh Relay Flow Tests Basic Aâ†’Bâ†’C Relay Flow
  Skip: TEMPORARILY SKIP: Multi-node tests need BLE mocking - will fix after simpler tests pass
00:28 +486 ~4: /home/abubakar/dev/pak_connect/test/mesh_relay_flow_test.dart: Mesh Relay Flow Tests Spam Prevention - Rate Limiting
  Skip: TEMPORARILY SKIP: Multi-node tests need BLE mocking - will fix after simpler tests pass
00:28 +486 ~5: /home/abubakar/dev/pak_connect/test/mesh_relay_flow_test.dart: Mesh Relay Flow Tests TTL and Hop Limiting
  Skip: TEMPORARILY SKIP: Multi-node tests need BLE mocking - will fix after simpler tests pass
00:28 +486 ~6: /home/abubakar/dev/pak_connect/test/mesh_relay_flow_test.dart: Mesh Relay Flow Tests Loop Detection and Prevention
  Skip: TEMPORARILY SKIP: Multi-node tests need BLE mocking - will fix after simpler tests pass
00:28 +486 ~7: /home/abubakar/dev/pak_connect/test/mesh_relay_flow_test.dart: Mesh Relay Flow Tests Message Size Validation
  Skip: TEMPORARILY SKIP: Multi-node tests need BLE mocking - will fix after simpler tests pass
00:28 +486 ~8: /home/abubakar/dev/pak_connect/test/mesh_relay_flow_test.dart: Mesh Relay Flow Tests Duplicate Message Detection
  Skip: TEMPORARILY SKIP: Multi-node tests need BLE mocking - will fix after simpler tests pass
00:28 +486 ~9: /home/abubakar/dev/pak_connect/test/mesh_relay_flow_test.dart: Mesh Relay Flow Tests Recipient Detection Optimization
  Skip: TEMPORARILY SKIP: Multi-node tests need BLE mocking - will fix after simpler tests pass
00:28 +486 ~10: /home/abubakar/dev/pak_connect/test/mesh_relay_flow_test.dart: Mesh Relay Flow Tests Priority-Based TTL Assignment
  Skip: TEMPORARILY SKIP: Multi-node tests need BLE mocking - will fix after simpler tests pass
00:28 +486 ~11: /home/abubakar/dev/pak_connect/test/mesh_relay_flow_test.dart: Mesh Relay Flow Tests Trust Scoring System
  Skip: TEMPORARILY SKIP: Multi-node tests need BLE mocking - will fix after simpler tests pass
00:28 +486 ~12: /home/abubakar/dev/pak_connect/test/mesh_relay_flow_test.dart: Mesh Relay Flow Tests Multi-Hop Relay Chain Aâ†’Bâ†’C
  Skip: TEMPORARILY SKIP: Multi-node tests need BLE mocking - will fix after simpler tests pass
00:28 +486 ~13: /home/abubakar/dev/pak_connect/test/mesh_relay_flow_test.dart: Mesh Relay Flow Tests Error Handling and Edge Cases
  Skip: TEMPORARILY SKIP: Multi-node tests need BLE mocking - will fix after simpler tests pass
00:28 +486 ~14: /home/abubakar/dev/pak_connect/test/mesh_relay_flow_test.dart: Mesh Relay Flow Tests Integration with BLE Message Handler
  Skip: TEMPORARILY SKIP: Multi-node tests need BLE mocking - will fix after simpler tests pass
00:28 +486 ~15: /home/abubakar/dev/pak_connect/test/mesh_relay_flow_test.dart: (tearDownAll)
00:28 +486 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: (setUpAll)
00:28 +486 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Mark chat as read - new chat
00:29 +487 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Mark chat as read - new chat
00:29 +488 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Mark chat as read - new chat
00:29 +489 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Mark chat as read - new chat
âœ… Database reset complete. Tables: 21
00:29 +490 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Mark chat as read - new chat
00:29 +491 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Mark chat as read - new chat
00:29 +492 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Mark chat as read - new chat
00:29 +493 ~15: /home/abubakar/dev/pak_connect/test/gossip_sync_manager_test.dart: GossipSyncManager builds sync request with queue hash
00:29 +494 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Mark chat as read - existing chat with unread messages
00:29 +495 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Mark chat as read - existing chat with unread messages
00:29 +496 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Mark chat as read - existing chat with unread messages
âœ… Database reset complete. Tables: 21
00:29 +497 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Increment unread count - new chat
âœ… Database reset complete. Tables: 21
00:29 +498 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Increment unread count - existing chat
âœ… Database reset complete. Tables: 21
00:29 +499 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
00:29 +499 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Get total unread count - no chats
âœ… Database reset complete. Tables: 21
00:29 +500 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: Database Migration v5â†’v6 creates is_favorite column in new databases
00:30 +500 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
00:30 +500 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Get total unread count - multiple chats
âœ… Database reset complete. Tables: 21
00:30 +501 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: Database Migration v5â†’v6 creates is_favorite column in new databases
00:30 +501 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:30 +502 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen
00:30 +502 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
00:30 +502 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen
âœ… Database reset complete. Tables: 21
00:30 +503 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: Database Migration v5â†’v6 creates idx_contacts_favorite index
00:30 +503 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:30 +504 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen - multiple updates
00:30 +504 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
00:30 +505 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen - multiple updates
00:30 +506 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen - multiple updates
00:30 +507 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen - multiple updates
00:30 +508 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen - multiple updates
00:30 +509 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen - multiple updates
00:30 +510 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen - multiple updates
00:30 +511 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen - multiple updates
âœ… Database reset complete. Tables: 21
00:30 +511 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:30 +512 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen - multiple updates
00:30 +512 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
00:30 +513 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen - multiple updates
00:30 +513 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
00:30 +514 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen - multiple updates
00:30 +514 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
00:30 +515 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen - multiple updates
00:30 +515 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
00:30 +516 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen - multiple updates
00:30 +516 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
00:30 +517 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen - multiple updates
00:30 +517 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
00:30 +518 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen - multiple updates
00:30 +518 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
00:30 +519 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Update contact last seen - multiple updates
00:30 +519 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:30 +520 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: ContactRepository Favorites Methods markContactFavorite sets is_favorite to 1
00:30 +520 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:30 +521 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Store device mapping
00:30 +521 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:30 +521 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Store device mapping
âœ… Database reset complete. Tables: 21
00:30 +522 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: ContactRepository Favorites Methods unmarkContactFavorite sets is_favorite to 0
00:31 +522 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +523 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Store device mapping - null deviceUuid
00:31 +523 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:31 +523 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Store device mapping - null deviceUuid
âœ… Database reset complete. Tables: 21
00:31 +524 ~15: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
00:31 +524 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +525 ~15: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
00:31 +525 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Store device mapping - update existing
âœ… Database reset complete. Tables: 21
00:31 +525 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:31 +525 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Store device mapping - update existing
00:31 +526 ~15: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: ContactRepository Favorites Methods getFavoriteContacts returns only favorites
00:31 +526 ~15: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Get contacts without chats
  Skip: Requires UserPreferences setup
00:31 +526 ~16: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: ContactRepository Favorites Methods getFavoriteContacts returns only favorites
00:31 +526 ~16: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests getAllChats returns empty list when no messages
  Skip: Requires UserPreferences/FlutterSecureStorage - getPublicKey() has no fallback
00:31 +526 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: ContactRepository Favorites Methods getFavoriteContacts returns only favorites
00:31 +526 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:31 +526 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:31 +526 ~17: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Multiple chats with different unread counts
âœ… Database reset complete. Tables: 21
00:31 +526 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +527 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
00:31 +527 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:31 +528 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
00:31 +528 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:31 +528 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:31 +528 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 7caad9acfad2d158...
00:31 +528 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 7caad9acfad2d158...
00:31 +528 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +528 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:31 +529 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: ContactRepository Favorites Methods getFavoriteContactCount returns correct count
00:31 +529 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +529 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:31 +529 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:31 +529 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:31 +529 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:31 +529 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:31 +529 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: ac54eb8ebbf6979b...
00:31 +529 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: ac54eb8ebbf6979b...
00:31 +529 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Last seen data persists across multiple contacts
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should block messages not intended for current user
ðŸ”§ DIAGNOSTIC: Node ID length: 52
ðŸ”§ DIAGNOSTIC: Node ID: "abubakar_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: abubakar_public_...
ðŸ“¥ RECEIVE STEP 1: Received 219 bytes from BLE
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should block messages not intended for current user
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 109, 115, 103]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"msg
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should block messages not intended for current user
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 6
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 47
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 50
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 52
ðŸ”§ ROUTING DEBUG: Message ID: msg123...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Intended recipient: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Current node ID: abubakar_public_...
ðŸ”§ ROUTING DEBUG: Encryption method: null
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Public key read in 0ms
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [UserPreferences] âœ… Public key read in 0ms
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: ac54eb8ebbf6979b...
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: ac54eb8ebbf6979b...
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should block messages not intended for current user
ðŸ”§ ROUTING DEBUG: ðŸš« DISCARDING - Message not addressed to any of our identities
ðŸ”§ ROUTING DEBUG: - Intended recipient: arshad_public_ke...
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Last seen data persists across multiple contacts
âœ… Database reset complete. Tables: 21
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +530 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Last seen data persists across multiple contacts
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 15847806f32ec348...
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 15847806f32ec348...
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should allow messages intended for current user
ðŸ”§ DIAGNOSTIC: Node ID length: 50
ðŸ”§ DIAGNOSTIC: Node ID: "arshad_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: arshad_public_ke...
ðŸ“¥ RECEIVE STEP 1: Received 214 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 109, 115, 103]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"msg
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 6
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 47
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 50
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 50
ðŸ”§ ROUTING DEBUG: Message ID: msg123...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Intended recipient: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Current node ID: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Encryption method: null
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Public key read in 0ms
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [UserPreferences] âœ… Public key read in 0ms
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 15847806f32ec348...
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 15847806f32ec348...
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should allow messages intended for current user
ðŸ”§ ROUTING DEBUG: âœ… MESSAGE FOR US - Matched one of our identities
ðŸ”§ ROUTING DEBUG: ===== END ROUTING ANALYSIS =====
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +531 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:31 +532 ~17: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Last seen data persists across multiple contacts
00:31 +532 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +533 ~17: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Last seen data persists across multiple contacts
00:31 +533 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +533 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:31 +533 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:31 +533 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:31 +533 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:31 +533 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:31 +533 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:31 +533 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 0ae27758783b58f9...
00:31 +533 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 0ae27758783b58f9...
00:31 +533 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should block own messages to prevent loops
ðŸ”§ DIAGNOSTIC: Node ID length: 47
ðŸ”§ DIAGNOSTIC: Node ID: "ali_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: ali_public_key_1...
ðŸ“¥ RECEIVE STEP 1: Received 155 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 109, 115, 103]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"msg
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 6
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 47
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 0
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 47
ðŸ”§ ROUTING DEBUG: Message ID: msg123...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Intended recipient: NOT SPECIFIED...
ðŸ”§ ROUTING DEBUG: Current node ID: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Encryption method: null
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
ðŸ”§ ROUTING DEBUG: ðŸš« BLOCKING OWN MESSAGE - Sender matches current user
00:31 +533 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +533 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:31 +534 ~17: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Last seen data persists across multiple contacts
00:31 +534 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +534 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:31 +535 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
00:31 +535 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:31 +535 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:31 +535 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:31 +535 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:31 +535 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 8fbadc8b178c72e1...
00:31 +535 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 8fbadc8b178c72e1...
00:31 +535 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +535 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:31 +536 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
00:31 +536 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +536 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:31 +536 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:31 +536 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:31 +536 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: ContactRepository Favorites Methods markContactFavorite is idempotent
00:31 +536 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:31 +536 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:31 +536 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: b0a8b25f7bc79df3...
00:31 +536 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: b0a8b25f7bc79df3...
00:31 +536 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +536 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:31 +537 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: ContactRepository Favorites Methods markContactFavorite is idempotent
00:31 +537 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +537 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:31 +537 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:31 +537 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:31 +537 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:31 +537 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:31 +537 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: dcccf776141fe54a...
00:31 +537 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: dcccf776141fe54a...
00:31 +537 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Message Handler Safety Tests should handle node ID bounds safely
ðŸ”§ DIAGNOSTIC: Node ID length: 5
ðŸ”§ DIAGNOSTIC: Node ID: "short"
ðŸ”§ ROUTING DEBUG: Current node ID set to: short...
ðŸ”§ DIAGNOSTIC: Node ID length: 32
ðŸ”§ DIAGNOSTIC: Node ID: "normal_length_node_id_1234567890"
ðŸ”§ ROUTING DEBUG: Current node ID set to: normal_length_no...
ðŸ”§ DIAGNOSTIC: Node ID length: 75
ðŸ”§ DIAGNOSTIC: Node ID: "very_long_node_id_that_exceeds_normal_bounds_123456789012345678901234567890"
ðŸ”§ ROUTING DEBUG: Current node ID set to: very_long_node_i...
00:31 +537 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:31 +538 ~17: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Device mappings support multiple devices
00:31 +538 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +538 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Device mappings support multiple devices
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 2c13b9fbd5487486...
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 2c13b9fbd5487486...
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Message Handler Safety Tests should safely process messages with long IDs
ðŸ”§ DIAGNOSTIC: Node ID length: 117
ðŸ”§ DIAGNOSTIC: Node ID: "extremely_long_node_id_that_could_cause_substring_errors_123456789012345678901234567890123456789012345678901234567890"
ðŸ”§ ROUTING DEBUG: Current node ID set to: extremely_long_n...
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Message Handler Safety Tests should safely process messages with long IDs
ðŸ“¥ RECEIVE STEP 1: Received 344 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 115, 97, 102]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"saf
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 68
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 47
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 117
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 117
ðŸ”§ ROUTING DEBUG: Message ID: safety_test_mess...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Intended recipient: extremely_long_n...
ðŸ”§ ROUTING DEBUG: Current node ID: extremely_long_n...
ðŸ”§ ROUTING DEBUG: Encryption method: null
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Public key read in 0ms
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [UserPreferences] âœ… Public key read in 0ms
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 2c13b9fbd5487486...
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 2c13b9fbd5487486...
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Message Handler Safety Tests should safely process messages with long IDs
ðŸ”§ ROUTING DEBUG: âœ… MESSAGE FOR US - Matched one of our identities
ðŸ”§ ROUTING DEBUG: ===== END ROUTING ANALYSIS =====
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +539 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Device mappings support multiple devices
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: f72655e27dc32aa9...
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: f72655e27dc32aa9...
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Integration Flow Tests should handle complete Ali â†’ Arshad messaging flow
ðŸ”§ DIAGNOSTIC: Node ID length: 47
ðŸ”§ DIAGNOSTIC: Node ID: "ali_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: ali_public_key_1...
ðŸ”§ DIAGNOSTIC: Node ID length: 50
ðŸ”§ DIAGNOSTIC: Node ID: "arshad_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: arshad_public_ke...
ðŸ“¥ RECEIVE STEP 1: Received 225 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 102, 108, 111]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"flo
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 11
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 47
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Device mappings support multiple devices
âœ… Database reset complete. Tables: 21
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Integration Flow Tests should handle complete Ali â†’ Arshad messaging flow
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 50
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 50
ðŸ”§ ROUTING DEBUG: Message ID: flow_test_1...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Intended recipient: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Current node ID: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Encryption method: null
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Public key read in 0ms
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [UserPreferences] âœ… Public key read in 0ms
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: f72655e27dc32aa9...
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: f72655e27dc32aa9...
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Integration Flow Tests should handle complete Ali â†’ Arshad messaging flow
ðŸ”§ ROUTING DEBUG: âœ… MESSAGE FOR US - Matched one of our identities
ðŸ”§ ROUTING DEBUG: ===== END ROUTING ANALYSIS =====
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +540 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:32 +541 ~17: /home/abubakar/dev/pak_connect/test/chats_repository_sqlite_test.dart: ChatsRepository SQLite Tests Device mappings support multiple devices
00:32 +541 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +541 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 4e1795f5986c93e8...
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 4e1795f5986c93e8...
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Integration Flow Tests should prevent Abubakar from receiving Ali â†’ Arshad message
ðŸ”§ DIAGNOSTIC: Node ID length: 52
ðŸ”§ DIAGNOSTIC: Node ID: "abubakar_public_key_12345678901234567890123456789012"
ðŸ”§ ROUTING DEBUG: Current node ID set to: abubakar_public_...
ðŸ“¥ RECEIVE STEP 1: Received 237 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 105, 115, 111]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"iso
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 16
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 47
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 50
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 52
ðŸ”§ ROUTING DEBUG: Message ID: isolation_test_1...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Intended recipient: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Current node ID: abubakar_public_...
ðŸ”§ ROUTING DEBUG: Encryption method: null
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: âœ… Public key read in 0ms
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [UserPreferences] âœ… Public key read in 0ms
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 4e1795f5986c93e8...
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 4e1795f5986c93e8...
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Integration Flow Tests should prevent Abubakar from receiving Ali â†’ Arshad message
ðŸ”§ ROUTING DEBUG: ðŸš« DISCARDING - Message not addressed to any of our identities
ðŸ”§ ROUTING DEBUG: - Intended recipient: arshad_public_ke...
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +542 ~17: /home/abubakar/dev/pak_connect/test/message_routing_validation_test.dart: Message Routing Validation Tests Core Routing Logic Tests should create protocol message with correct intendedRecipient
âš ï¸ [DatabaseHelper] Database deleted
00:32 +543 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
00:32 +543 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +544 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
00:32 +544 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:32 +544 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:32 +544 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:32 +544 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 01357f816aaa92af...
00:32 +544 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 01357f816aaa92af...
ðŸ”§ DIAGNOSTIC: Node ID length: 20
ðŸ”§ DIAGNOSTIC: Node ID: "ali_public_key_12345"
ðŸ”§ ROUTING DEBUG: Current node ID set to: ali_public_key_1...
ðŸ“¥ RECEIVE STEP 1: Received 184 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 116, 101, 115]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"tes
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 10
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 20
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 0
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 20
ðŸ”§ ROUTING DEBUG: Message ID: test_msg_1...
ðŸ”§ ROUTING DEBUG: Sender public key: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Intended recipient: NOT SPECIFIED...
ðŸ”§ ROUTING DEBUG: Current node ID: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Encryption method: none
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
ðŸ”§ ROUTING DEBUG: ðŸš« BLOCKING OWN MESSAGE - Sender matches current user
00:32 +544 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +544 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
âš ï¸ [DatabaseHelper] Database deleted
00:32 +545 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration auto-boosts priority for favorite contacts
00:32 +545 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +545 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
âš ï¸ [DatabaseHelper] Database deleted
00:32 +545 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:32 +545 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:32 +545 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +546 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should allow legitimate direct messages between different users
00:32 +546 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:32 +546 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:32 +546 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:32 +546 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 45aeedd55e462a38...
00:32 +546 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 45aeedd55e462a38...
00:32 +546 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should allow legitimate direct messages between different users
ðŸ”§ DIAGNOSTIC: Node ID length: 20
ðŸ”§ DIAGNOSTIC: Node ID: "ali_public_key_12345"
ðŸ”§ ROUTING DEBUG: Current node ID set to: ali_public_key_1...
ðŸ“¥ RECEIVE STEP 1: Received 181 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 116, 101, 115]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"tes
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 10
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 23
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 0
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 20
ðŸ”§ ROUTING DEBUG: Message ID: test_msg_2...
ðŸ”§ ROUTING DEBUG: Sender public key: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Intended recipient: NOT SPECIFIED...
ðŸ”§ ROUTING DEBUG: Current node ID: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Encryption method: none
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
ðŸ”§ ROUTING DEBUG: âœ… DIRECT MESSAGE - No routing info, accepting
ðŸ”§ ROUTING DEBUG: ===== END ROUTING ANALYSIS =====
00:32 +546 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +546 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
âš ï¸ [DatabaseHelper] Database deleted
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: (setUpAll)
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
âš ï¸ [DatabaseHelper] Database deleted
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: ded3066209b28d26...
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: ded3066209b28d26...
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block messages with intendedRecipient not matching current user
ðŸ”§ DIAGNOSTIC: Node ID length: 20
ðŸ”§ DIAGNOSTIC: Node ID: "ali_public_key_12345"
ðŸ”§ ROUTING DEBUG: Current node ID set to: ali_public_key_1...
ðŸ“¥ RECEIVE STEP 1: Received 240 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 116, 101, 115]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"tes
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 10
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 15
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 23
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 20
ðŸ”§ ROUTING DEBUG: Message ID: test_msg_3...
ðŸ”§ ROUTING DEBUG: Sender public key: some_other_user...
ðŸ”§ ROUTING DEBUG: Intended recipient: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Current node ID: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Encryption method: none
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Public key read in 0ms
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [UserPreferences] âœ… Public key read in 0ms
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: ded3066209b28d26...
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: ded3066209b28d26...
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block messages with intendedRecipient not matching current user
ðŸ”§ ROUTING DEBUG: ðŸš« DISCARDING - Message not addressed to any of our identities
ðŸ”§ ROUTING DEBUG: - Intended recipient: arshad_public_ke...
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +547 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
âš ï¸ [DatabaseHelper] Database deleted
00:32 +548 ~17: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: (setUpAll)
00:32 +548 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +548 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
âš ï¸ [DatabaseHelper] Database deleted
00:32 +548 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:32 +548 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:32 +548 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: (setUpAll)
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: ac3fe31fc9f88ed2...
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: ac3fe31fc9f88ed2...
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should allow messages with intendedRecipient matching current user
ðŸ”§ DIAGNOSTIC: Node ID length: 20
ðŸ”§ DIAGNOSTIC: Node ID: "ali_public_key_12345"
ðŸ”§ ROUTING DEBUG: Current node ID set to: ali_public_key_1...
ðŸ“¥ RECEIVE STEP 1: Received 242 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 116, 101, 115]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"tes
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 10
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 23
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 20
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 20
ðŸ”§ ROUTING DEBUG: Message ID: test_msg_4...
ðŸ”§ ROUTING DEBUG: Sender public key: arshad_public_ke...
ðŸ”§ ROUTING DEBUG: Intended recipient: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Current node ID: ali_public_key_1...
ðŸ”§ ROUTING DEBUG: Encryption method: none
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Public key read in 0ms
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [UserPreferences] âœ… Public key read in 0ms
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: ac3fe31fc9f88ed2...
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: ac3fe31fc9f88ed2...
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should allow messages with intendedRecipient matching current user
ðŸ”§ ROUTING DEBUG: âœ… MESSAGE FOR US - Matched one of our identities
ðŸ”§ ROUTING DEBUG: ===== END ROUTING ANALYSIS =====
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +549 ~17: /home/abubakar/dev/pak_connect/test/message_routing_fix_test.dart: Message Routing Fix Tests Should block own messages from appearing as incoming
âš ï¸ [DatabaseHelper] Database deleted
00:32 +550 ~17: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: (setUpAll)
00:32 +550 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration does not auto-boost if already high priority
00:32 +550 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:32 +551 ~17: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository SQLite Tests Save and retrieve contact
00:32 +551 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:33 +551 ~17: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository SQLite Tests Save and retrieve contact
âœ… Database reset complete. Tables: 21
00:33 +552 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for regular contacts (100 messages)
00:33 +552 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:33 +552 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:33 +552 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:33 +552 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:33 +552 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: c2120df9a075b323...
00:33 +552 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: c2120df9a075b323...
ðŸ”§ DIAGNOSTIC: Node ID length: 12
ðŸ”§ DIAGNOSTIC: Node ID: "our_node_123"
ðŸ”§ ROUTING DEBUG: Current node ID set to: our_node_123...
ðŸ“¥ RECEIVE STEP 1: Received 181 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 116, 101, 115]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"tes
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
00:33 +552 ~17: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository SQLite Tests Update existing contact preserves security level
âœ… Database reset complete. Tables: 21
00:33 +552 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 10
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 14
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 0
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 12
ðŸ”§ ROUTING DEBUG: Message ID: test_msg_1...
ðŸ”§ ROUTING DEBUG: Sender public key: sender_key_456...
ðŸ”§ ROUTING DEBUG: Intended recipient: NOT SPECIFIED...
ðŸ”§ ROUTING DEBUG: Current node ID: our_node_123...
ðŸ”§ ROUTING DEBUG: Encryption method: none
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
ðŸ”§ ROUTING DEBUG: âœ… DIRECT MESSAGE - No routing info, accepting
ðŸ”§ ROUTING DEBUG: ===== END ROUTING ANALYSIS =====
00:33 +552 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:33 +552 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
âš ï¸ [DatabaseHelper] Database deleted
00:33 +553 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for regular contacts (100 messages)
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for regular contacts (100 messages)
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
âš ï¸ [DatabaseHelper] Database deleted
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 20443da63fc75443...
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 20443da63fc75443...
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message addressed to someone else should be blocked
ðŸ”§ DIAGNOSTIC: Node ID length: 12
ðŸ”§ DIAGNOSTIC: Node ID: "our_node_123"
ðŸ”§ ROUTING DEBUG: Current node ID set to: our_node_123...
ðŸ“¥ RECEIVE STEP 1: Received 230 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 116, 101, 115]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"tes
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 10
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 14
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 17
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 12
ðŸ”§ ROUTING DEBUG: Message ID: test_msg_2...
ðŸ”§ ROUTING DEBUG: Sender public key: sender_key_456...
ðŸ”§ ROUTING DEBUG: Intended recipient: recipient_key_78...
ðŸ”§ ROUTING DEBUG: Current node ID: our_node_123...
ðŸ”§ ROUTING DEBUG: Encryption method: none
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Public key read in 1ms
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [UserPreferences] âœ… Public key read in 1ms
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 20443da63fc75443...
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 20443da63fc75443...
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message addressed to someone else should be blocked
ðŸ”§ ROUTING DEBUG: ðŸš« DISCARDING - Message not addressed to any of our identities
ðŸ”§ ROUTING DEBUG: - Intended recipient: recipient_key_78...
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:33 +554 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
âš ï¸ [DatabaseHelper] Database deleted
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for regular contacts (100 messages)
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
âš ï¸ [DatabaseHelper] Database deleted
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: a4c6cfc6e3a629a9...
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: a4c6cfc6e3a629a9...
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Mesh message explicitly addressed to our node ID should be accepted
ðŸ”§ DIAGNOSTIC: Node ID length: 12
ðŸ”§ DIAGNOSTIC: Node ID: "our_node_123"
ðŸ”§ ROUTING DEBUG: Current node ID set to: our_node_123...
ðŸ“¥ RECEIVE STEP 1: Received 225 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 116, 101, 115]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"tes
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 10
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 14
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 12
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 12
ðŸ”§ ROUTING DEBUG: Message ID: test_msg_3...
ðŸ”§ ROUTING DEBUG: Sender public key: sender_key_456...
ðŸ”§ ROUTING DEBUG: Intended recipient: our_node_123...
ðŸ”§ ROUTING DEBUG: Current node ID: our_node_123...
ðŸ”§ ROUTING DEBUG: Encryption method: none
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Public key read in 0ms
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [UserPreferences] âœ… Public key read in 0ms
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: a4c6cfc6e3a629a9...
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: a4c6cfc6e3a629a9...
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Mesh message explicitly addressed to our node ID should be accepted
ðŸ”§ ROUTING DEBUG: âœ… MESSAGE FOR US - Matched one of our identities
ðŸ”§ ROUTING DEBUG: ===== END ROUTING ANALYSIS =====
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:33 +555 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
âš ï¸ [DatabaseHelper] Database deleted
00:33 +556 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for regular contacts (100 messages)
00:33 +556 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:33 +556 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
âš ï¸ [DatabaseHelper] Database deleted
00:33 +556 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:33 +556 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:33 +556 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:33 +556 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:33 +556 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: ac530f3dd47ed401...
00:33 +556 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: ac530f3dd47ed401...
00:33 +556 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Message from ourselves should be blocked
ðŸ”§ DIAGNOSTIC: Node ID length: 12
ðŸ”§ DIAGNOSTIC: Node ID: "our_node_123"
ðŸ”§ ROUTING DEBUG: Current node ID set to: our_node_123...
ðŸ“¥ RECEIVE STEP 1: Received 231 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 116, 101, 115]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"tes
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 10
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 12
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 14
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 12
ðŸ”§ ROUTING DEBUG: Message ID: test_msg_4...
ðŸ”§ ROUTING DEBUG: Sender public key: our_node_123...
ðŸ”§ ROUTING DEBUG: Intended recipient: some_recipient...
ðŸ”§ ROUTING DEBUG: Current node ID: our_node_123...
ðŸ”§ ROUTING DEBUG: Encryption method: none
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
ðŸ”§ ROUTING DEBUG: ðŸš« BLOCKING OWN MESSAGE - Sender matches current user
00:33 +556 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:33 +556 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
âš ï¸ [DatabaseHelper] Database deleted
00:33 +557 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for regular contacts (100 messages)
00:33 +557 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:33 +557 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
âš ï¸ [DatabaseHelper] Database deleted
00:33 +557 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:33 +557 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:33 +557 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:33 +557 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:33 +557 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 0e288b5b7f5ebda2...
00:33 +557 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 0e288b5b7f5ebda2...
00:33 +557 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Message from ourselves without routing should be blocked
ðŸ”§ DIAGNOSTIC: Node ID length: 12
ðŸ”§ DIAGNOSTIC: Node ID: "our_node_123"
ðŸ”§ ROUTING DEBUG: Current node ID set to: our_node_123...
ðŸ“¥ RECEIVE STEP 1: Received 196 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 116, 101, 115]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"tes
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 10
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 12
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 0
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 12
ðŸ”§ ROUTING DEBUG: Message ID: test_msg_5...
ðŸ”§ ROUTING DEBUG: Sender public key: our_node_123...
ðŸ”§ ROUTING DEBUG: Intended recipient: NOT SPECIFIED...
ðŸ”§ ROUTING DEBUG: Current node ID: our_node_123...
ðŸ”§ ROUTING DEBUG: Encryption method: none
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
ðŸ”§ ROUTING DEBUG: ðŸš« BLOCKING OWN MESSAGE - Sender matches current user
00:33 +557 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:33 +557 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
âš ï¸ [DatabaseHelper] Database deleted
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for regular contacts (100 messages)
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
âš ï¸ [DatabaseHelper] Database deleted
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: d22cf86f5782d84b...
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: d22cf86f5782d84b...
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Encrypted P2P message for different recipient should be discarded
ðŸ”§ DIAGNOSTIC: Node ID length: 12
ðŸ”§ DIAGNOSTIC: Node ID: "our_node_123"
ðŸ”§ ROUTING DEBUG: Current node ID set to: our_node_123...
ðŸ“¥ RECEIVE STEP 1: Received 235 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 116, 101, 115]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"tes
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository SQLite Tests Get all contacts returns map
âœ… Database reset complete. Tables: 21
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Encrypted P2P message for different recipient should be discarded
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 10
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 14
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 20
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 12
ðŸ”§ ROUTING DEBUG: Message ID: test_msg_6...
ðŸ”§ ROUTING DEBUG: Sender public key: sender_key_456...
ðŸ”§ ROUTING DEBUG: Intended recipient: recipient_public...
ðŸ”§ ROUTING DEBUG: Current node ID: our_node_123...
ðŸ”§ ROUTING DEBUG: Encryption method: ecdh
ðŸ”§ ROUTING DEBUG: Message encrypted flag: true
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Public key read in 0ms
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [UserPreferences] âœ… Public key read in 0ms
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: d22cf86f5782d84b...
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: d22cf86f5782d84b...
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Encrypted P2P message for different recipient should be discarded
ðŸ”§ ROUTING DEBUG: ðŸš« DISCARDING - Message not addressed to any of our identities
ðŸ”§ ROUTING DEBUG: - Intended recipient: recipient_public...
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:33 +558 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
âš ï¸ [DatabaseHelper] Database deleted
00:33 +559 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for regular contacts (100 messages)
00:33 +559 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:33 +559 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
âš ï¸ [DatabaseHelper] Database deleted
00:33 +559 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:33 +559 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for regular contacts (100 messages)
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 6894dbbe3c909f8e...
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 6894dbbe3c909f8e...
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: Routing Logic Edge Cases Message processing without node ID set should work
ðŸ“¥ RECEIVE STEP 1: Received 232 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 116, 101, 115]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"tes
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 10
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 14
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 14
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 0
ðŸ”§ ROUTING DEBUG: Message ID: test_msg_7...
ðŸ”§ ROUTING DEBUG: Sender public key: sender_key_456...
ðŸ”§ ROUTING DEBUG: Intended recipient: some_recipient...
ðŸ”§ ROUTING DEBUG: Current node ID: NOT SET...
ðŸ”§ ROUTING DEBUG: Encryption method: none
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”‘ Reading public key from secure storage...
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [UserPreferences] ðŸ”‘ Reading public key from secure storage...
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Public key read in 0ms
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [UserPreferences] âœ… Public key read in 0ms
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 6894dbbe3c909f8e...
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 6894dbbe3c909f8e...
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: Routing Logic Edge Cases Message processing without node ID set should work
ðŸ”§ ROUTING DEBUG: âœ… MESSAGE FOR US - Matched one of our identities
ðŸ”§ ROUTING DEBUG: ===== END ROUTING ANALYSIS =====
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:33 +560 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
âš ï¸ [DatabaseHelper] Database deleted
00:33 +561 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for regular contacts (100 messages)
00:33 +561 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:33 +561 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
âš ï¸ [DatabaseHelper] Database deleted
00:33 +561 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: ðŸ”„ Generating new ephemeral session (no cache)...
00:33 +561 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
00:33 +561 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated ephemeral signing keys
00:33 +561 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
00:33 +561 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
INFO: âœ… Generated new ephemeral session: 6c2ee8c10fe52c18...
00:33 +561 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 6c2ee8c10fe52c18...
00:33 +561 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: Routing Logic Edge Cases Message with null sender should be processed
ðŸ”§ DIAGNOSTIC: Node ID length: 12
ðŸ”§ DIAGNOSTIC: Node ID: "our_node_123"
ðŸ”§ ROUTING DEBUG: Current node ID set to: our_node_123...
ðŸ“¥ RECEIVE STEP 1: Received 196 bytes from BLE
ðŸ“¥ RECEIVE STEP 1a: First 50 bytes: [123, 34, 116, 121, 112, 101, 34, 58, 49, 51, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 123, 34, 109, 101, 115, 115, 97, 103, 101, 73, 100, 34, 58, 34, 116, 101, 115]
ðŸ“¥ RECEIVE STEP 1b: First 50 chars as string: {"type":13,"version":1,"payload":{"messageId":"tes
ðŸ“¥ RECEIVE STEP 2: Attempting UTF-8 decode for direct protocol message check
ðŸ“¥ RECEIVE STEP 2âœ…: Detected direct protocol message (non-chunked)
ðŸ”§ ROUTING DEBUG: ===== MESSAGE ROUTING ANALYSIS =====
ðŸ”§ ROUTING DIAGNOSTIC: Message ID length: 10
ðŸ”§ ROUTING DIAGNOSTIC: Sender key length: 0
ðŸ”§ ROUTING DIAGNOSTIC: Intended recipient length: 0
ðŸ”§ ROUTING DIAGNOSTIC: Current node length: 12
ðŸ”§ ROUTING DEBUG: Message ID: test_msg_8...
ðŸ”§ ROUTING DEBUG: Sender public key: NULL...
ðŸ”§ ROUTING DEBUG: Intended recipient: NOT SPECIFIED...
ðŸ”§ ROUTING DEBUG: Current node ID: our_node_123...
ðŸ”§ ROUTING DEBUG: Encryption method: none
ðŸ”§ ROUTING DEBUG: Message encrypted flag: false
ðŸ”§ ROUTING DEBUG: âœ… DIRECT MESSAGE - No routing info, accepting
ðŸ”§ ROUTING DEBUG: ===== END ROUTING ANALYSIS =====
00:34 +561 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: (setUpAll)
WARNING: Database deleted
00:34 +561 ~17: /home/abubakar/dev/pak_connect/test/p2p_message_routing_fix_test.dart: P2P Message Routing Fix Tests Direct P2P message without routing info should be accepted
âš ï¸ [DatabaseHelper] Database deleted
00:34 +562 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for regular contacts (100 messages)
00:34 +562 ~17: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository SQLite Tests Mark contact as verified
âœ… Database reset complete. Tables: 21
00:34 +563 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for regular contacts (100 messages)
00:34 +563 ~17: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository SQLite Tests Security level upgrade path validation
âœ… Database reset complete. Tables: 21
00:34 +563 ~17: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: (setUpAll)
WARNING: ðŸ”§ SECURITY: BLOCKED downgrade attempt from high to low
WARNING: ðŸ”§ SECURITY: Invalid upgrade blocked
00:34 +564 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for regular contacts (100 messages)
00:34 +564 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Queue limit reached for regular contact recipien...: 100/100 messages
SEVERE: Failed to queue message: MessageQueueException: Per-peer queue limit reached: 100/100 messages for regular contact
WARNING: Database deleted
00:34 +565 ~17: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository SQLite Tests Reset contact security
00:34 +565 ~17: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:34 +565 ~17: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository SQLite Tests Reset contact security
âœ… Database reset complete. Tables: 21
00:34 +565 ~17: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: (setUpAll)
WARNING: ðŸ”§ SECURITY: Invalid upgrade blocked
00:34 +566 ~17: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
00:34 +566 ~17: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository SQLite Tests Delete contact
  Skip: FlutterSecureStorage mocking issue - functionality verified by other means
00:34 +566 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
00:34 +566 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository SQLite Tests Get contact name by public key
âœ… Database reset complete. Tables: 21
00:34 +567 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
00:34 +567 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository SQLite Tests Save contact with explicit security level
âœ… Database reset complete. Tables: 21
00:34 +568 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
00:35 +569 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
00:35 +569 ~18: /home/abubakar/dev/pak_connect/test/username_propagation_test.dart: Username Propagation Tests BLEStateManager should trigger callback on username change
ðŸ”§ NAME DEBUG: setMyUserName called with: "CallbackTest1762823123427"
ðŸ”§ NAME DEBUG: Triggered username change callback
ðŸ”§ NAME DEBUG: setMyUserName completed, _myUserName is now: "CallbackTest1762823123427"
00:35 +570 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
00:35 +570 ~18: /home/abubakar/dev/pak_connect/test/username_propagation_test.dart: Username Propagation Tests Username should be properly cached and invalidated
ðŸ”§ NAME DEBUG: setMyUserName called with: "Initial1762823123439"
ðŸ”§ NAME DEBUG: setMyUserName completed, _myUserName is now: "Initial1762823123439"
ðŸ”§ NAME DEBUG: setMyUserName called with: "Updated1762823123439"
ðŸ”§ NAME DEBUG: setMyUserName completed, _myUserName is now: "Updated1762823123439"
ðŸ› DEBUG NAME: loadUserName() loaded: "Updated1762823123439"
ðŸ”§ NAME DEBUG: Username set with enhanced callbacks and cache invalidation
00:35 +571 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
00:35 +571 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository SQLite Tests Get security level for contact
âœ… Database reset complete. Tables: 21
00:35 +572 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
00:35 +572 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository SQLite Tests Downgrade security for deleted contact
âœ… Database reset complete. Tables: 21
00:35 +572 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: (setUpAll)
WARNING: ðŸ”§ SECURITY: Invalid upgrade blocked
00:35 +573 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
00:35 +573 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: Enhanced PakConnect app started with comprehensive features
00:35 +573 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppWrapper] Enhanced PakConnect app started with comprehensive features
00:35 +573 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: Starting app initialization...
00:35 +573 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppWrapper] Starting app initialization...
00:35 +573 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: Current app status: AppStatus.initializing
00:35 +573 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppWrapper] Current app status: AppStatus.initializing
00:35 +573 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository SQLite Tests Contact timestamps are updated correctly
âœ… Database reset complete. Tables: 21
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: ðŸš€ Starting application core initialization...
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppCore] ðŸš€ Starting application core initialization...
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: ðŸ“¡ Status emitted: AppStatus.initializing
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppCore] ðŸ“¡ Status emitted: AppStatus.initializing
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: ðŸ—’ï¸ Setting up logging...
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppCore] ðŸ—’ï¸ Setting up logging...
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: âœ… Logging setup complete
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppCore] âœ… Logging setup complete
INFO: 2025-11-11 06:05:24.087443: âœ… Logging setup complete
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: ðŸ—„ï¸ Initializing repositories...
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppCore] ðŸ—„ï¸ Initializing repositories...
INFO: 2025-11-11 06:05:24.090986: ðŸ—„ï¸ Initializing repositories...
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: Initializing database...
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppCore] Initializing database...
INFO: 2025-11-11 06:05:24.092926: Initializing database...
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: Current app status: AppStatus.initializing
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppWrapper] Current app status: AppStatus.initializing
INFO: 2025-11-11 06:05:24.120705: Current app status: AppStatus.initializing
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository Security Tests Cannot skip security upgrade levels
âœ… Database reset complete. Tables: 21
00:35 +574 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: (setUpAll)
WARNING: ðŸ”§ SECURITY: Invalid upgrade blocked
00:35 +575 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
00:36 +576 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +576 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository Security Tests Security sync timestamp updated on level change
âœ… Database reset complete. Tables: 21
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: Enhanced PakConnect app started with comprehensive features
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppWrapper] Enhanced PakConnect app started with comprehensive features
INFO: 2025-11-11 06:05:24.393657: Enhanced PakConnect app started with comprehensive features
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: Starting app initialization...
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppWrapper] Starting app initialization...
INFO: 2025-11-11 06:05:24.396285: Starting app initialization...
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: Current app status: AppStatus.initializing
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppWrapper] Current app status: AppStatus.initializing
INFO: 2025-11-11 06:05:24.399866: Current app status: AppStatus.initializing
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/migration_service_smoke_test.dart: (setUpAll)
WARNING: Failed to migrate preference username: SqfliteFfiException(sqlite_error: 1, , SqliteException(1): while preparing statement, no such table: user_preferences, SQL logic error (code 1)
  Causing statement: INSERT INTO user_preferences ("key", value, value_type, updated_at) VALUES (?, ?, ?, ?)}) DatabaseException(SqliteException(1): while preparing statement, no such table: user_preferences, SQL logic error (code 1)
  Causing statement: INSERT INTO user_preferences ("key", value, value_type, updated_at) VALUES (?, ?, ?, ?)) sql 'INSERT INTO user_preferences ("key", value, value_type, updated_at) VALUES (?, ?, ?, ?)' args [username, LegacyUser, string, 1762823124398] {details: {database: {path: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823123941.db, id: 1, readOnly: false, singleInstance: true}}}
WARNING: Failed to migrate preference device_id: SqfliteFfiException(sqlite_error: 1, , SqliteException(1): while preparing statement, no such table: user_preferences, SQL logic error (code 1)
  Causing statement: INSERT INTO user_preferences ("key", value, value_type, updated_at) VALUES (?, ?, ?, ?)}) DatabaseException(SqliteException(1): while preparing statement, no such table: user_preferences, SQL logic error (code 1)
  Causing statement: INSERT INTO user_preferences ("key", value, value_type, updated_at) VALUES (?, ?, ?, ?)) sql 'INSERT INTO user_preferences ("key", value, value_type, updated_at) VALUES (?, ?, ?, ?)' args [device_id, legacy-device, string, 1762823124398] {details: {database: {path: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823123941.db, id: 1, readOnly: false, singleInstance: true}}}
WARNING: Failed to migrate preference app_version: SqfliteFfiException(sqlite_error: 1, , SqliteException(1): while preparing statement, no such table: user_preferences, SQL logic error (code 1)
  Causing statement: INSERT INTO user_preferences ("key", value, value_type, updated_at) VALUES (?, ?, ?, ?)}) DatabaseException(SqliteException(1): while preparing statement, no such table: user_preferences, SQL logic error (code 1)
  Causing statement: INSERT INTO user_preferences ("key", value, value_type, updated_at) VALUES (?, ?, ?, ?)) sql 'INSERT INTO user_preferences ("key", value, value_type, updated_at) VALUES (?, ?, ?, ?)' args [app_version, 2.0.0, string, 1762823124398] {details: {database: {path: /home/abubakar/dev/pak_connect/.dart_tool/sqflite_common_ffi/databases/pak_connect_test_1762823123941.db, id: 1, readOnly: false, singleInstance: true}}}
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: ðŸš€ Starting application core initialization...
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppCore] ðŸš€ Starting application core initialization...
INFO: 2025-11-11 06:05:24.438006: ðŸš€ Starting application core initialization...
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: ðŸ“¡ Status emitted: AppStatus.initializing
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppCore] ðŸ“¡ Status emitted: AppStatus.initializing
INFO: 2025-11-11 06:05:24.440921: ðŸ“¡ Status emitted: AppStatus.initializing
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: ðŸ—’ï¸ Setting up logging...
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppCore] ðŸ—’ï¸ Setting up logging...
INFO: 2025-11-11 06:05:24.442686: ðŸ—’ï¸ Setting up logging...
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: âœ… Logging setup complete
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppCore] âœ… Logging setup complete
INFO: 2025-11-11 06:05:24.444906: âœ… Logging setup complete
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: App wrapper handles initialization states
INFO: 2025-11-11 06:05:24.444906: âœ… Logging setup complete
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: ðŸ—„ï¸ Initializing repositories...
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppCore] ðŸ—„ï¸ Initializing repositories...
INFO: 2025-11-11 06:05:24.447312: ðŸ—„ï¸ Initializing repositories...
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: App wrapper handles initialization states
INFO: 2025-11-11 06:05:24.447312: ðŸ—„ï¸ Initializing repositories...
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: Initializing database...
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppCore] Initializing database...
INFO: 2025-11-11 06:05:24.450059: Initializing database...
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: App wrapper handles initialization states
INFO: 2025-11-11 06:05:24.450059: Initializing database...
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: (setUpAll)
INFO: Current app status: AppStatus.initializing
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: PakConnect app initialization smoke test
â„¹ï¸ [AppWrapper] Current app status: AppStatus.initializing
INFO: 2025-11-11 06:05:24.461883: Current app status: AppStatus.initializing
00:36 +577 ~18: /home/abubakar/dev/pak_connect/test/widget_test.dart: App wrapper handles initialization states
INFO: 2025-11-11 06:05:24.461883: Current app status: AppStatus.initializing
00:36 +578 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +579 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +580 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +580 ~18: /home/abubakar/dev/pak_connect/test/migration_service_smoke_test.dart: (setUpAll)
WARNING: Database deleted
00:36 +581 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +582 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +582 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository Noise Protocol Tests Update Noise session data for contact
âœ… Database reset complete. Tables: 21
00:36 +583 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +584 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +585 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +586 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +587 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +588 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +589 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +589 ~18: /home/abubakar/dev/pak_connect/test/gcs_filter_test.dart: GCSFilter - Bandwidth Efficiency achieves significant bandwidth reduction
Bandwidth reduction: 99.20%
Old size: 32000 bytes, New size: 255 bytes
00:36 +590 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +590 ~18: /home/abubakar/dev/pak_connect/test/gcs_filter_test.dart: GCSFilter - Bandwidth Efficiency filter size scales sub-linearly with element count
Filter sizes: {100: 94, 500: 253, 1000: 216, 2000: 209}
00:36 +591 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +592 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +593 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +594 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +595 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +595 ~18: /home/abubakar/dev/pak_connect/test/gcs_filter_test.dart: GCSFilter - Real-World Simulation simulates 1000-message sync scenario
Found 10 matches while inspecting 462 messages
Filter size: 483 bytes (target: 512)
Encoded 443 elements (from 1000 input)
00:36 +596 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +596 ~18: /home/abubakar/dev/pak_connect/test/gcs_filter_test.dart: GCSFilter - Real-World Simulation compares bandwidth: 5 peers syncing every 30s
=== Daily Bandwidth Comparison ===
Messages: 1000
Peers: 5
Syncs per day: 2880

OLD (full ID list):
  Per sync: 31.25 KB
  Daily: 439.453125 MB

NEW (GCS filter):
  Per sync: 0.2587890625 KB
  Daily: 3.63922119140625 MB

Bandwidth reduction: 99.17%
=============================
00:36 +597 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +597 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository Noise Protocol Tests Noise fields are null for new contacts
âœ… Database reset complete. Tables: 21
00:36 +598 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +598 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository Noise Protocol Tests Noise session persists through contact updates
âœ… Database reset complete. Tables: 21
00:36 +599 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:36 +599 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository Noise Protocol Tests Noise session persists through security level changes
âœ… Database reset complete. Tables: 21
00:37 +600 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:37 +600 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository Noise Protocol Tests Noise session can be updated multiple times
âœ… Database reset complete. Tables: 21
00:37 +600 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:37 +601 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration enforces per-peer limit for favorite contacts (limit validation)
00:37 +601 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:37 +602 ~18: /home/abubakar/dev/pak_connect/test/message_sending_fixes_test.dart: SecurityManager Empty String Handling getCurrentLevel handles empty string gracefully
00:37 +602 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:37 +602 ~18: /home/abubakar/dev/pak_connect/test/message_sending_fixes_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:37 +603 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository Noise Protocol Tests Contact JSON serialization includes Noise fields
00:37 +603 ~18: /home/abubakar/dev/pak_connect/test/message_sending_fixes_test.dart: (setUpAll)
WARNING: Database deleted
00:37 +603 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository Noise Protocol Tests Contact JSON serialization includes Noise fields
âœ… Database reset complete. Tables: 21
00:37 +603 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:37 +604 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository Noise Protocol Tests Contact JSON serialization includes Noise fields
00:37 +605 ~18: /home/abubakar/dev/pak_connect/test/message_sending_fixes_test.dart: SecurityManager Empty String Handling getCurrentLevel handles short strings without error
00:37 +605 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:37 +605 ~18: /home/abubakar/dev/pak_connect/test/message_sending_fixes_test.dart: SecurityManager Empty String Handling getCurrentLevel handles short strings without error
00:37 +605 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository Noise Protocol Tests Contact database serialization includes Noise fields
âœ… Database reset complete. Tables: 21
00:37 +606 ~18: /home/abubakar/dev/pak_connect/test/message_sending_fixes_test.dart: SecurityManager Empty String Handling getCurrentLevel handles short strings without error
00:37 +606 ~18: /home/abubakar/dev/pak_connect/test/message_sending_fixes_test.dart: (setUpAll)
WARNING: Database deleted
00:37 +607 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:37 +607 ~18: /home/abubakar/dev/pak_connect/test/message_sending_fixes_test.dart: (setUpAll)
WARNING: Database deleted
00:37 +607 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: ContactRepository Noise Protocol Tests Noise session state transitions
âœ… Database reset complete. Tables: 21
00:37 +608 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:37 +609 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +610 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +610 ~18: /home/abubakar/dev/pak_connect/test/message_sending_fixes_test.dart: (setUpAll)
WARNING: Database deleted
00:38 +611 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +611 ~18: /home/abubakar/dev/pak_connect/test/message_sending_fixes_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:38 +612 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +612 ~18: /home/abubakar/dev/pak_connect/test/message_sending_fixes_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:38 +613 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +614 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +614 ~18: /home/abubakar/dev/pak_connect/test/message_sending_fixes_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:38 +615 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +615 ~18: /home/abubakar/dev/pak_connect/test/message_sending_fixes_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:38 +616 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +616 ~18: /home/abubakar/dev/pak_connect/test/message_sending_fixes_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:38 +617 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +617 ~18: /home/abubakar/dev/pak_connect/test/contact_repository_sqlite_test.dart: (setUpAll)
WARNING: Database deleted
00:38 +617 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +617 ~18: /home/abubakar/dev/pak_connect/test/message_sending_fixes_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:38 +618 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +619 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +619 ~18: /home/abubakar/dev/pak_connect/test/message_sending_fixes_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:38 +620 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +621 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +621 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 1. No cache restoration - fresh ephemeral key on each initialization
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 2fbc27db3b931fff...
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 2fbc27db3b931fff...
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
ðŸ”‘ First session key: 2fbc27db3b931fff...
ðŸ’¾ Session key saved to SharedPreferences (for debugging only)
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 9372011dc958d579...
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 9372011dc958d579...
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
ðŸ”‘ Second session key: 9372011dc958d579...
âœ… PASS: Different ephemeral keys on each initialization (no cache restoration)
00:38 +622 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +622 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 1. No cache restoration - fresh ephemeral key on each initialization
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: a93c36457952ce12...
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: a93c36457952ce12...
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:38 +622 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 2. Multiple initializations create different ephemeral IDs
ðŸ”‘ Session 0 key: a93c36457952ce12...
00:38 +622 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 1. No cache restoration - fresh ephemeral key on each initialization
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 1e2d356b1d897ed4...
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 1e2d356b1d897ed4...
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:38 +622 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 2. Multiple initializations create different ephemeral IDs
ðŸ”‘ Session 1 key: 1e2d356b1d897ed4...
00:38 +622 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 1. No cache restoration - fresh ephemeral key on each initialization
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: d917a917efdbbcfa...
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: d917a917efdbbcfa...
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:38 +622 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 2. Multiple initializations create different ephemeral IDs
ðŸ”‘ Session 2 key: d917a917efdbbcfa...
00:38 +622 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 1. No cache restoration - fresh ephemeral key on each initialization
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: b5f696bb57d450f4...
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: b5f696bb57d450f4...
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:38 +622 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 2. Multiple initializations create different ephemeral IDs
ðŸ”‘ Session 3 key: b5f696bb57d450f4...
00:38 +622 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 1. No cache restoration - fresh ephemeral key on each initialization
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 42f76cb446efb8d2...
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 42f76cb446efb8d2...
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:38 +622 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 2. Multiple initializations create different ephemeral IDs
ðŸ”‘ Session 4 key: 42f76cb446efb8d2...
âœ… PASS: All 5 sessions have unique ephemeral keys
00:38 +623 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +623 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 3. Chat ID mapping - chat ID = their ephemeral ID
ðŸ“± Their ephemeral ID: abc123def456xyz789
00:38 +623 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 1. No cache restoration - fresh ephemeral key on each initialization
â„¹ï¸ [ChatUtils] ðŸ†” CHAT ID GENERATED: abc123def456xyz7... (session-specific)
â„¹ï¸ [ChatUtils] âœ… Session isolation: ephemeral ID (pre-pairing) or persistent key (post-pairing)
00:38 +623 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 3. Chat ID mapping - chat ID = their ephemeral ID
ðŸ†” Generated chat ID: abc123def456xyz789
âœ… PASS: Chat ID = their ephemeral ID (1:1 mapping confirmed)
00:38 +624 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +624 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 1. No cache restoration - fresh ephemeral key on each initialization
â„¹ï¸ [ChatUtils] ðŸ†” CHAT ID GENERATED: same-ephemeral-i... (session-specific)
â„¹ï¸ [ChatUtils] âœ… Session isolation: ephemeral ID (pre-pairing) or persistent key (post-pairing)
â„¹ï¸ [ChatUtils] ðŸ†” CHAT ID GENERATED: same-ephemeral-i... (session-specific)
â„¹ï¸ [ChatUtils] âœ… Session isolation: ephemeral ID (pre-pairing) or persistent key (post-pairing)
00:38 +624 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 4. Same ephemeral ID creates same chat ID (current behavior)
ðŸ“± Their ephemeral ID: same-ephemeral-id-123
ðŸ†” Chat ID #1: same-ephemeral-id-123
ðŸ†” Chat ID #2: same-ephemeral-id-123
âœ… PASS: Same ephemeral ID â†’ same chat ID (explains why cache caused duplication)
00:38 +625 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +625 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 1. No cache restoration - fresh ephemeral key on each initialization
â„¹ï¸ [ChatUtils] ðŸ†” CHAT ID GENERATED: first-ephemeral-... (session-specific)
â„¹ï¸ [ChatUtils] âœ… Session isolation: ephemeral ID (pre-pairing) or persistent key (post-pairing)
â„¹ï¸ [ChatUtils] ðŸ†” CHAT ID GENERATED: second-ephemeral... (session-specific)
â„¹ï¸ [ChatUtils] âœ… Session isolation: ephemeral ID (pre-pairing) or persistent key (post-pairing)
00:38 +625 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 5. Different ephemeral IDs create different chat IDs
ðŸ“± Their first ephemeral ID: first-ephemeral-id-abc
ðŸ†” First chat ID: first-ephemeral-id-abc
ðŸ“± Their second ephemeral ID: second-ephemeral-id-xyz
ðŸ†” Second chat ID: second-ephemeral-id-xyz
âœ… PASS: Different ephemeral IDs â†’ different chat IDs (fix working!)
00:38 +626 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +626 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 1. No cache restoration - fresh ephemeral key on each initialization
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: d8410936b8f307d0...
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: d8410936b8f307d0...
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 830ea99796df60ac...
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 830ea99796df60ac...
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:38 +626 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 6. Ephemeral key includes timestamp component (prevents replay)
ðŸ”‘ Key 1 (time T): d8410936b8f307d0...
ðŸ”‘ Key 2 (time T+50ms): 830ea99796df60ac...
âœ… PASS: Timestamp component ensures key uniqueness
00:38 +627 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:38 +627 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 1. No cache restoration - fresh ephemeral key on each initialization
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: b7335936bd9a68f4...
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: b7335936bd9a68f4...
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:38 +627 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 7. SharedPreferences save is for debugging only (not restored)
ðŸ”‘ First key: b7335936bd9a68f4...
ðŸ’¾ Saved key: b7335936bd9a68f4...
ðŸ’£ Manually corrupted cached key
00:38 +627 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 1. No cache restoration - fresh ephemeral key on each initialization
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 932dfeb53086f814...
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 932dfeb53086f814...
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
00:38 +627 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 7. SharedPreferences save is for debugging only (not restored)
ðŸ”‘ New key after corruption: 932dfeb53086f814...
âœ… PASS: Cached value ignored (proof that cache is NOT restored)
00:38 +628 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:39 +628 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Chat Duplication Bug Scenario (Regression Test) Scenario: User reports same chat after app restart

ðŸ“– SCENARIO: Simulating real-world chat duplication bug

ðŸ”µ SESSION 1: Initial connection
00:39 +628 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 1. No cache restoration - fresh ephemeral key on each initialization
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: ba4a920cc4c6d31a...
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: ba4a920cc4c6d31a...
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: 9287727b27f44ea8...
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: 9287727b27f44ea8...
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
â„¹ï¸ [ChatUtils] ðŸ†” CHAT ID GENERATED: 9287727b27f44ea8... (session-specific)
â„¹ï¸ [ChatUtils] âœ… Session isolation: ephemeral ID (pre-pairing) or persistent key (post-pairing)
00:39 +628 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Chat Duplication Bug Scenario (Regression Test) Scenario: User reports same chat after app restart
ðŸ‘¤ Alice ephemeral ID (session 1): ba4a920cc4c6d31a...
ðŸ‘¤ Bob ephemeral ID (session 1): 9287727b27f44ea8...
ðŸ’¬ Chat ID created: 9287727b27f44ea8...

ðŸ”„ APP RESTART: Both devices restart

ðŸŸ¢ SESSION 2: Reconnection after restart
00:39 +628 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 1. No cache restoration - fresh ephemeral key on each initialization
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: a789499b21fdfc3d...
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: a789499b21fdfc3d...
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
â„¹ï¸ [Security.KeyManagement] ðŸ”„ Generating new ephemeral session (no cache)...
â„¹ï¸ [Security.KeyManagement] âœ… Generated ephemeral signing keys
â„¹ï¸ [Security.KeyManagement] âœ… Generated new ephemeral session: c1e6c5ae2313a684...
â„¹ï¸ [Security.KeyManagement] ðŸ”§ INVESTIGATION: Returning current session ephemeral key: c1e6c5ae2313a684...
â„¹ï¸ [Security.KeyManagement] ðŸ“‹ This key is used in HandshakeCoordinator (NOT BLEStateManager pairing)
â„¹ï¸ [ChatUtils] ðŸ†” CHAT ID GENERATED: c1e6c5ae2313a684... (session-specific)
â„¹ï¸ [ChatUtils] âœ… Session isolation: ephemeral ID (pre-pairing) or persistent key (post-pairing)
00:39 +628 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Chat Duplication Bug Scenario (Regression Test) Scenario: User reports same chat after app restart
ðŸ‘¤ Alice ephemeral ID (session 2): a789499b21fdfc3d...
ðŸ‘¤ Bob ephemeral ID (session 2): c1e6c5ae2313a684...
ðŸ’¬ Chat ID created: c1e6c5ae2313a684...

ðŸ” VERIFICATION:

âœ… Alice ephemeral ID changed (no cache restoration)
âœ… Bob ephemeral ID changed (no cache restoration)
âœ… Different chat IDs across sessions (bug fixed!)

ðŸŽ‰ SUCCESS: Chat duplication bug is FIXED!
   - Session 1 chat ID: 9287727b27f44ea8...
   - Session 2 chat ID: c1e6c5ae2313a684...
   - Result: Two separate chats (correct behavior)

00:39 +629 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:39 +629 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Ephemeral Key Cleanup Verification 1. No cache restoration - fresh ephemeral key on each initialization
â„¹ï¸ [ChatUtils] ðŸ†” CHAT ID GENERATED: test-ephemeral-i... (session-specific)
â„¹ï¸ [ChatUtils] âœ… Session isolation: ephemeral ID (pre-pairing) or persistent key (post-pairing)
00:39 +629 ~18: /home/abubakar/dev/pak_connect/test/ephemeral_key_cleanup_verification_test.dart: Investigation Logging Verification Logging functions work correctly
âœ… ChatUtils logging works (check logs for investigation messages)
00:39 +630 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:39 +631 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: OfflineMessageQueue Favorites Integration delivered messages do not count toward per-peer limit
00:40 +631 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:40 +632 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces consistent output for same inputs
00:40 +632 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
WARNING: Database deleted
00:40 +633 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces consistent output for same inputs
00:40 +633 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
WARNING: Database deleted
00:40 +633 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces consistent output for same inputs
00:40 +633 ~18: /home/abubakar/dev/pak_connect/test/favorites_integration_test.dart: (setUpAll)
WARNING: Database deleted
00:40 +634 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces consistent output for same inputs
00:40 +634 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: ExportType has correct enum values
âœ… Database reset complete. Tables: 21
00:40 +634 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces consistent output for same inputs
00:40 +634 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: (setUpAll)
WARNING: Database deleted
00:40 +635 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces consistent output for same inputs
00:41 +635 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: SelectiveBackupService creates contacts-only backup successfully
âœ… Database reset complete. Tables: 21
00:41 +635 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: (setUpAll)
WARNING: Database deleted
00:41 +636 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces consistent output for same inputs
00:41 +636 ~18: /home/abubakar/dev/pak_connect/test/noise_end_to_end_test.dart: Noise End-to-End Integration Tests Complete BLE handshake establishes Noise session and saves to database
âœ… Database reset complete. Tables: 21
00:41 +637 ~18: /home/abubakar/dev/pak_connect/test/noise_end_to_end_test.dart: Noise End-to-End Integration Tests Complete BLE handshake establishes Noise session and saves to database
00:41 +637 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: SelectiveBackupService creates messages-only backup successfully
âœ… Database reset complete. Tables: 21
00:41 +637 ~18: /home/abubakar/dev/pak_connect/test/noise_end_to_end_test.dart: Noise End-to-End Integration Tests Complete BLE handshake establishes Noise session and saves to database
00:41 +637 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: (setUpAll)
WARNING: Database deleted
00:41 +638 ~18: /home/abubakar/dev/pak_connect/test/noise_end_to_end_test.dart: Noise End-to-End Integration Tests Complete BLE handshake establishes Noise session and saves to database
00:41 +638 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: SelectiveBackupService fails gracefully for full export type
âœ… Database reset complete. Tables: 21
00:41 +638 ~18: /home/abubakar/dev/pak_connect/test/noise_end_to_end_test.dart: Noise End-to-End Integration Tests Complete BLE handshake establishes Noise session and saves to database
âœ… Alice completed handshake with Bob
00:41 +638 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: SelectiveBackupService fails gracefully for full export type
error Unsupported operation: Full schema not supported in selective backup during open, closing...
00:41 +638 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: (setUpAll)
SEVERE: âŒ Selective backup failed
00:41 +638 ~18: /home/abubakar/dev/pak_connect/test/noise_end_to_end_test.dart: Noise End-to-End Integration Tests Complete BLE handshake establishes Noise session and saves to database
âœ… Bob completed handshake with Alice
00:41 +638 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: (setUpAll)
WARNING: Database deleted
00:41 +639 ~18: /home/abubakar/dev/pak_connect/test/noise_end_to_end_test.dart: Noise End-to-End Integration Tests Complete BLE handshake establishes Noise session and saves to database
00:41 +640 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:42 +640 ~18: /home/abubakar/dev/pak_connect/test/database_initialization_test.dart: DatabaseHelper Initialization Tests Database initializes successfully
âœ… Database reset complete. Tables: 21
00:42 +641 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:42 +641 ~18: /home/abubakar/dev/pak_connect/test/noise_end_to_end_test.dart: Noise End-to-End Integration Tests Encrypt and decrypt messages after Noise session established
âœ… Database reset complete. Tables: 21
00:42 +641 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: SelectiveBackupService contacts-only backup contains only contacts table
âœ… Database reset complete. Tables: 21
00:42 +641 ~18: /home/abubakar/dev/pak_connect/test/database_initialization_test.dart: DatabaseHelper Initialization Tests Database integrity check passes
âœ… Database reset complete. Tables: 21
00:42 +642 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:42 +643 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:42 +643 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: (setUpAll)
WARNING: Database deleted
00:42 +644 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:42 +644 ~18: /home/abubakar/dev/pak_connect/test/database_initialization_test.dart: DatabaseHelper Initialization Tests All core tables exist
âœ… Database reset complete. Tables: 21
00:42 +645 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:42 +645 ~18: /home/abubakar/dev/pak_connect/test/noise_end_to_end_test.dart: Noise End-to-End Integration Tests Session persists across app restart simulation
âœ… Database reset complete. Tables: 21
00:42 +646 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:42 +646 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: SelectiveBackupService messages-only backup contains chats and messages tables
âœ… Database reset complete. Tables: 21
00:42 +646 ~18: /home/abubakar/dev/pak_connect/test/database_initialization_test.dart: DatabaseHelper Initialization Tests Contacts table has correct structure
âœ… Database reset complete. Tables: 21
00:42 +647 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:42 +647 ~18: /home/abubakar/dev/pak_connect/test/noise_end_to_end_test.dart: Noise End-to-End Integration Tests Session rekey updates database with new session
âœ… Database reset complete. Tables: 21
00:42 +647 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: (setUpAll)
WARNING: Database deleted
00:42 +648 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:42 +648 ~18: /home/abubakar/dev/pak_connect/test/debug_nonce_test.dart: Debug nonce tracking with detailed logging
âœ… Database reset complete. Tables: 21

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STARTING DEBUG NONCE TEST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PHASE 1: STARTING HANDSHAKE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


>>> ALICE SENDS MESSAGE

<<< BOB SENDS MESSAGE

>>> ALICE SENDS MESSAGE

<<< BOB SENDS MESSAGE
00:42 +648 ~18: /home/abubakar/dev/pak_connect/test/database_initialization_test.dart: DatabaseHelper Initialization Tests Messages table has enhanced fields
âœ… Database reset complete. Tables: 21
00:42 +649 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:42 +649 ~18: /home/abubakar/dev/pak_connect/test/debug_nonce_test.dart: Debug nonce tracking with detailed logging

>>> ALICE SENDS MESSAGE
00:42 +649 ~18: /home/abubakar/dev/pak_connect/test/database_initialization_test.dart: DatabaseHelper Initialization Tests Offline message queue table exists with relay fields
âœ… Database reset complete. Tables: 21
00:42 +650 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:42 +651 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:42 +651 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: SelectiveRestoreService restores contacts-only backup successfully
âœ… Database reset complete. Tables: 21
00:43 +651 ~18: /home/abubakar/dev/pak_connect/test/database_initialization_test.dart: DatabaseHelper Initialization Tests FTS5 virtual table exists for archive search
âœ… Database reset complete. Tables: 21
00:43 +652 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:43 +652 ~18: /home/abubakar/dev/pak_connect/test/noise_end_to_end_test.dart: Noise End-to-End Integration Tests Encryption without session returns null
âœ… Database reset complete. Tables: 21
00:43 +652 ~18: /home/abubakar/dev/pak_connect/test/noise_end_to_end_test.dart: (setUpAll)
WARNING: No established session with unknown_peer - handshake required
00:43 +653 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:43 +653 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: (setUpAll)
WARNING: Database deleted
00:43 +654 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:43 +654 ~18: /home/abubakar/dev/pak_connect/test/debug_nonce_test.dart: Debug nonce tracking with detailed logging

<<< BOB SENDS MESSAGE

>>> ALICE SENDS MESSAGE

>>> ALICE SENDS MESSAGE

<<< BOB SENDS MESSAGE

âœ… ALICE HANDSHAKE COMPLETE with bob_id
00:43 +654 ~18: /home/abubakar/dev/pak_connect/test/database_initialization_test.dart: DatabaseHelper Initialization Tests Foreign key constraints are enabled
âœ… Database reset complete. Tables: 21
00:43 +655 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:43 +655 ~18: /home/abubakar/dev/pak_connect/test/noise_end_to_end_test.dart: Noise End-to-End Integration Tests Large message (10KB) encryption and decryption
âœ… Database reset complete. Tables: 21
00:43 +655 ~18: /home/abubakar/dev/pak_connect/test/debug_nonce_test.dart: Debug nonce tracking with detailed logging

âœ… BOB HANDSHAKE COMPLETE with alice_id

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PHASE 2: HANDSHAKE COMPLETE - STARTING ENCRYPTION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Sessions in manager:
  - Looking for bob_id session: true
  - Looking for alice_id session: true

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PHASE 3: ENCRYPT MESSAGE 1
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Alice encrypting to bob_id: "Hello Bob! Message #1"
Ciphertext1 length: 41

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PHASE 4: DECRYPT MESSAGE 1
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Bob decrypting from alice_id
Decrypted1: Hello Bob! Message #1

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PHASE 5: ENCRYPT MESSAGE 2
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Alice encrypting to bob_id: "Hello Bob! Message #2"
Ciphertext2 length: 41

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PHASE 6: DECRYPT MESSAGE 2
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Bob decrypting from alice_id
Decrypted2: Hello Bob! Message #2

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST COMPLETE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

00:43 +656 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:43 +656 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: SelectiveRestoreService restores messages-only backup successfully
âœ… Database reset complete. Tables: 21
00:43 +656 ~18: /home/abubakar/dev/pak_connect/test/debug_nonce_test.dart: (setUpAll)
WARNING: Database deleted
00:43 +657 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:43 +657 ~18: /home/abubakar/dev/pak_connect/test/debug_nonce_test.dart: (setUpAll)
WARNING: Database deleted
00:43 +657 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:43 +657 ~18: /home/abubakar/dev/pak_connect/test/database_initialization_test.dart: DatabaseHelper Initialization Tests WAL mode is enabled for concurrency
âœ… Database reset complete. Tables: 21
00:43 +658 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different passphrases
00:43 +658 ~18: /home/abubakar/dev/pak_connect/test/noise_end_to_end_test.dart: Noise End-to-End Integration Tests 10 sequential messages maintain session integrity
âœ… Database reset complete. Tables: 21
00:43 +659 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: SelectiveRestoreService restores messages-only backup successfully
00:43 +659 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: (setUpAll)
WARNING: Database deleted
00:43 +660 ~18: /home/abubakar/dev/pak_connect/test/noise_end_to_end_test.dart: Noise End-to-End Integration Tests 10 sequential messages maintain session integrity
00:43 +661 ~18: /home/abubakar/dev/pak_connect/test/database_initialization_test.dart: DatabaseHelper Initialization Tests Database statistics are retrievable
00:43 +661 ~18: /home/abubakar/dev/pak_connect/test/noise_end_to_end_test.dart: (setUpAll)
WARNING: Database deleted
00:43 +661 ~18: /home/abubakar/dev/pak_connect/test/database_initialization_test.dart: DatabaseHelper Initialization Tests Database statistics are retrievable
âœ… Database reset complete. Tables: 21
00:43 +662 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different salts
00:43 +662 ~18: /home/abubakar/dev/pak_connect/test/database_initialization_test.dart: DatabaseHelper Initialization Tests Can insert and query contacts
âœ… Database reset complete. Tables: 21
00:43 +662 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: SelectiveRestoreService handles clearExistingData flag for contacts
âœ… Database reset complete. Tables: 21
00:43 +663 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different salts
00:43 +663 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: (setUpAll)
WARNING: Clearing existing contacts...
WARNING: Database deleted
00:43 +664 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different salts
00:43 +664 ~18: /home/abubakar/dev/pak_connect/test/database_initialization_test.dart: DatabaseHelper Initialization Tests Can insert message with JSON blobs
âœ… Database reset complete. Tables: 21
00:43 +665 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different salts
00:43 +665 ~18: /home/abubakar/dev/pak_connect/test/database_initialization_test.dart: DatabaseHelper Initialization Tests Foreign key cascade works for messages
âœ… Database reset complete. Tables: 21
00:43 +665 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: SelectiveRestoreService handles non-existent backup file gracefully
âœ… Database reset complete. Tables: 21
00:43 +666 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different salts
00:44 +666 ~18: /home/abubakar/dev/pak_connect/test/database_initialization_test.dart: (setUpAll)
WARNING: Database deleted
00:44 +666 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: (setUpAll)
WARNING: Database deleted
00:44 +667 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different salts
00:44 +667 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: SelectiveBackupService.getSelectiveStats returns correct stats for contacts-only
âœ… Database reset complete. Tables: 21
00:44 +667 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: (setUpAll)
WARNING: Database deleted
00:44 +668 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different salts
00:44 +668 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: SelectiveBackupService.getSelectiveStats returns correct stats for messages-only
âœ… Database reset complete. Tables: 21
00:44 +668 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: (setUpAll)
WARNING: Database deleted
00:44 +669 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different salts
00:44 +669 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: ExportBundle with exportType serializes and deserializes exportType correctly
âœ… Database reset complete. Tables: 21
00:44 +669 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: (setUpAll)
WARNING: Database deleted
00:44 +670 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different salts
00:44 +670 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: ExportBundle with exportType defaults to full export type if not specified
âœ… Database reset complete. Tables: 21
00:44 +670 ~18: /home/abubakar/dev/pak_connect/test/selective_export_import_test.dart: (setUpAll)
WARNING: Database deleted
00:44 +671 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils deriveKey produces different output for different salts
00:45 +672 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils encrypt/decrypt round-trip preserves data
00:46 +673 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils encrypt produces different output each time (due to IV)
00:46 +674 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils decrypt returns null for wrong key
00:48 +675 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils decrypt returns null for corrupted data
00:49 +676 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils encrypt/decrypt handles JSON data
00:50 +677 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils calculateChecksum is consistent
00:50 +678 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: EncryptionUtils calculateChecksum changes with data
00:50 +679 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: PassphraseValidation rejects passphrase shorter than 12 characters
00:50 +680 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: PassphraseValidation rejects passphrase without sufficient character variety
00:50 +681 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: PassphraseValidation accepts passphrase with 3 character types
00:50 +682 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: PassphraseValidation strong passphrase has high strength score
00:50 +683 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: PassphraseValidation accepts very long passphrases without maximum limit
00:50 +684 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: PassphraseValidation detects common patterns
00:50 +685 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: PassphraseValidation recognizes all symbol types
00:50 +686 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: ExportBundle toJson/fromJson round-trip preserves data
00:50 +687 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: ExportResult success result has correct properties
00:50 +688 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: ExportResult failure result has correct properties
00:50 +689 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: ImportResult success result has correct properties
00:50 +690 ~18: /home/abubakar/dev/pak_connect/test/export_import_test.dart: ImportResult failure result has correct properties
00:50 +691 ~18: All tests passed!
